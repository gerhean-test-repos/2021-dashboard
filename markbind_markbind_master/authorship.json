[{"path":".stylelintrc.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"module.exports \u003d {"},{"lineNumber":2,"author":{"gitId":"-"},"content":"  \"extends\": \"stylelint-config-standard\","},{"lineNumber":3,"author":{"gitId":"-"},"content":"  \"rules\": {"},{"lineNumber":4,"author":{"gitId":"jonahtanjz"},"content":"    \"indentation\": [ 4, { baseIndentLevel: 1 } ],"},{"lineNumber":5,"author":{"gitId":"-"},"content":"    // MarkBind generates some blank CSS files when initialising a site,"},{"lineNumber":6,"author":{"gitId":"-"},"content":"    // which violates the no-empty-source rule"},{"lineNumber":7,"author":{"gitId":"-"},"content":"    \"no-empty-source\": null"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":9,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"jonahtanjz":1,"-":8}},{"path":".travis.yml","fileType":"yml","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"language: node_js"},{"lineNumber":2,"author":{"gitId":"-"},"content":"node_js:"},{"lineNumber":3,"author":{"gitId":"-"},"content":"  - \u002710\u0027"},{"lineNumber":4,"author":{"gitId":"-"},"content":"branches:"},{"lineNumber":5,"author":{"gitId":"-"},"content":"  only:"},{"lineNumber":6,"author":{"gitId":"-"},"content":"    - master"},{"lineNumber":7,"author":{"gitId":"-"},"content":"install: echo \"default npm ci disabled\""},{"lineNumber":8,"author":{"gitId":"-"},"content":"script: echo \"default npm test disabled\""},{"lineNumber":9,"author":{"gitId":"-"},"content":"before_deploy:"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  - npm run setup"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  - npm run test"},{"lineNumber":12,"author":{"gitId":"-"},"content":"deploy:"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  # deploy on release, to markbind.org"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  - provider: script"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    script: \u003e-"},{"lineNumber":16,"author":{"gitId":"-"},"content":"      cd docs \u0026\u0026"},{"lineNumber":17,"author":{"gitId":"-"},"content":"      ../packages/cli/index.js build -s ug-site.json \u0026\u0026"},{"lineNumber":18,"author":{"gitId":"raysonkoh"},"content":"      ../packages/cli/index.js deploy -s ug-site.json --ci"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    skip_cleanup: true"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    on:"},{"lineNumber":21,"author":{"gitId":"-"},"content":"      repo: MarkBind/markbind"},{"lineNumber":22,"author":{"gitId":"-"},"content":"      tags: true"},{"lineNumber":23,"author":{"gitId":"-"},"content":"      condition: $TRAVIS_TAG \u003d~ ^v[0-9]+\\.[0-9]+\\.[0-9]+"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  # deploy on any commit to master, to markbind.org/devdocs"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  - provider: script"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    script: \u003e-"},{"lineNumber":27,"author":{"gitId":"-"},"content":"      npm run build:web \u0026\u0026"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      cd docs \u0026\u0026"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      ../packages/cli/index.js build -s dg-site.json \u0026\u0026"},{"lineNumber":30,"author":{"gitId":"raysonkoh"},"content":"      ../packages/cli/index.js deploy -s dg-site.json --ci"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    skip_cleanup: true"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    on:"},{"lineNumber":33,"author":{"gitId":"-"},"content":"      repo: MarkBind/markbind"},{"lineNumber":34,"author":{"gitId":"-"},"content":"cache:"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  directories:"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    - node_modules"},{"lineNumber":37,"author":{"gitId":"-"},"content":"sudo: false"}],"authorContributionMap":{"raysonkoh":2,"-":35}},{"path":"docs/userGuide/cliCommands.md","fileType":"md","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cfrontmatter\u003e"},{"lineNumber":2,"author":{"gitId":"-"},"content":"  title: \"User Guide: Command Line Interface (CLI)\""},{"lineNumber":3,"author":{"gitId":"-"},"content":"  layout: userGuide.md"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  pageNav: default"},{"lineNumber":5,"author":{"gitId":"-"},"content":"\u003c/frontmatter\u003e"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"# MarkBind CLI"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"### Overview"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"An overview of MarkBind\u0027s Command Line Interface (CLI) can be referenced with `markbind --help`:"},{"lineNumber":12,"author":{"gitId":"-"},"content":"```"},{"lineNumber":13,"author":{"gitId":"-"},"content":"$ markbind --help"},{"lineNumber":14,"author":{"gitId":"-"},"content":"Usage: markbind \u003ccommand\u003e"},{"lineNumber":15,"author":{"gitId":"-"},"content":" "},{"lineNumber":16,"author":{"gitId":"-"},"content":" Options:"},{"lineNumber":17,"author":{"gitId":"-"},"content":"   -V, --version                      output the version number"},{"lineNumber":18,"author":{"gitId":"-"},"content":"   -h, --help                         output usage information"},{"lineNumber":19,"author":{"gitId":"-"},"content":" "},{"lineNumber":20,"author":{"gitId":"-"},"content":" Commands:"},{"lineNumber":21,"author":{"gitId":"-"},"content":"   init|i [options] [root]            init a markbind website project"},{"lineNumber":22,"author":{"gitId":"-"},"content":"   serve|s [options] [root]           build then serve a website from a directory"},{"lineNumber":23,"author":{"gitId":"-"},"content":"   build|b [options] [root] [output]  build a website"},{"lineNumber":24,"author":{"gitId":"-"},"content":"   deploy|d [options]                 deploy the site to the repo\u0027s Github pages"},{"lineNumber":25,"author":{"gitId":"-"},"content":"```"},{"lineNumber":26,"author":{"gitId":"-"},"content":"\u003chr\u003e\u003c!-- \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d --\u003e"},{"lineNumber":27,"author":{"gitId":"-"},"content":""},{"lineNumber":28,"author":{"gitId":"-"},"content":"### `init` Command"},{"lineNumber":29,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":30,"author":{"gitId":"-"},"content":""},{"lineNumber":31,"author":{"gitId":"-"},"content":"**Format:** `markbind init [options] [root]`"},{"lineNumber":32,"author":{"gitId":"-"},"content":""},{"lineNumber":33,"author":{"gitId":"-"},"content":"**Alias:** `markbind i`"},{"lineNumber":34,"author":{"gitId":"-"},"content":""},{"lineNumber":35,"author":{"gitId":"-"},"content":"**Description:** Initializes a directory into a MarkBind site by creating a skeleton structure for the website which includes a `index.md` and a `site.json`."},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"**Arguments:**"},{"lineNumber":38,"author":{"gitId":"-"},"content":"* `[root]`\u003cbr\u003e"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  Root directory. Default is the current directory.\u003cbr\u003e"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  {{ icon_example }} `./myWebsite`"},{"lineNumber":41,"author":{"gitId":"-"},"content":""},{"lineNumber":42,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**Options** :fas-cogs:\" type\u003d\"minimal\" expanded\u003e"},{"lineNumber":43,"author":{"gitId":"-"},"content":""},{"lineNumber":44,"author":{"gitId":"-"},"content":"**Options** :fas-cogs:"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"* `-c`, `--convert`\u003cbr\u003e"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  Convert an existing GitHub wiki or `docs` folder into a MarkBind website. See [Converting an existing Github project]({{ baseUrl }}/userGuide/markBindInTheProjectWorkflow.html#converting-existing-project-documentation-wiki) for more information."},{"lineNumber":48,"author":{"gitId":"-"},"content":""},{"lineNumber":49,"author":{"gitId":"-"},"content":"{{ icon_examples }}"},{"lineNumber":50,"author":{"gitId":"-"},"content":"* `markbind init` : Initializes the site in the current working directory."},{"lineNumber":51,"author":{"gitId":"-"},"content":"* `markbind init ./myWebsite` : Initializes the site in `./myWebsite` directory."},{"lineNumber":52,"author":{"gitId":"-"},"content":"* `markbind init --convert` : Converts the Github wiki or `docs` folder in the current working directory into a MarkBind website."},{"lineNumber":53,"author":{"gitId":"-"},"content":""},{"lineNumber":54,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":55,"author":{"gitId":"-"},"content":""},{"lineNumber":56,"author":{"gitId":"-"},"content":"\u003chr\u003e\u003c!-- \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d --\u003e"},{"lineNumber":57,"author":{"gitId":"-"},"content":""},{"lineNumber":58,"author":{"gitId":"-"},"content":"### `serve` Command"},{"lineNumber":59,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":60,"author":{"gitId":"-"},"content":""},{"lineNumber":61,"author":{"gitId":"-"},"content":"**Format:** `markbind serve [options] [root]`"},{"lineNumber":62,"author":{"gitId":"-"},"content":""},{"lineNumber":63,"author":{"gitId":"-"},"content":"**Alias:** `markbind s`"},{"lineNumber":64,"author":{"gitId":"-"},"content":""},{"lineNumber":65,"author":{"gitId":"-"},"content":"**Description:** Does the following steps:"},{"lineNumber":66,"author":{"gitId":"-"},"content":"1. Builds the site and puts the generated files in a directory named `_site`."},{"lineNumber":67,"author":{"gitId":"-"},"content":"1. Starts a web server instance locally and makes the site available at `http://127.0.0.1:8080`."},{"lineNumber":68,"author":{"gitId":"-"},"content":"1. Opens a \u003ctrigger trigger\u003d\"click\" for\u003d\"modal:cliCommands-livePreview\"\u003elive preview\u003c/trigger\u003e of the website."},{"lineNumber":69,"author":{"gitId":"-"},"content":""},{"lineNumber":70,"author":{"gitId":"-"},"content":"\u003cmodal large header\u003d\"Live Preview\" id\u003d\"modal:cliCommands-livePreview\"\u003e"},{"lineNumber":71,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"glossary.md#live-preview\" inline/\u003e"},{"lineNumber":72,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":73,"author":{"gitId":"-"},"content":""},{"lineNumber":74,"author":{"gitId":"-"},"content":"**Arguments:**"},{"lineNumber":75,"author":{"gitId":"-"},"content":"* `[root]`\u003cbr\u003e"},{"lineNumber":76,"author":{"gitId":"-"},"content":"  Root directory. The default is the directory where this command was executed.\u003cbr\u003e"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  {{ icon_example }} `./myWebsite`"},{"lineNumber":78,"author":{"gitId":"-"},"content":""},{"lineNumber":79,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**Options** :fas-cogs:\" type\u003d\"minimal\" expanded\u003e"},{"lineNumber":80,"author":{"gitId":"-"},"content":""},{"lineNumber":81,"author":{"gitId":"-"},"content":"**Options** :fas-cogs:"},{"lineNumber":82,"author":{"gitId":"-"},"content":""},{"lineNumber":83,"author":{"gitId":"-"},"content":"* `-o \u003cfile\u003e`, `--one-page \u003cfile\u003e`\u003cbr\u003e"},{"lineNumber":84,"author":{"gitId":"-"},"content":" Serves only a single page from your website **initially**. If `\u003cfile\u003e` is not specified, it defaults to `index.md/mbd`.\u003cbr\u003e"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  * Thereafter, when changes to source files have been made, only the page being viewed will be rebuilt if it was affected.\u003cbr\u003e"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  * Navigating to a new page will build the new page, if it has not been built before, or there were some changes to source files that affected it before navigating to it.\u003cbr\u003e"},{"lineNumber":87,"author":{"gitId":"-"},"content":"  * {{ icon_example }} `--one-page guide/index.md`"},{"lineNumber":88,"author":{"gitId":"-"},"content":""},{"lineNumber":89,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"info\" light header\u003d\"Caveats\" style\u003d\"width: calc(100% - 50px); position: relative; left: 40px;\"\u003e"},{"lineNumber":90,"author":{"gitId":"-"},"content":""},{"lineNumber":91,"author":{"gitId":"-"},"content":"Essentially, this optional feature is very useful when writing content, more so if your build times are starting to slow down!"},{"lineNumber":92,"author":{"gitId":"-"},"content":""},{"lineNumber":93,"author":{"gitId":"-"},"content":"The caveat is that not building all pages during the initial process, or not rebuilding all affected pages when a file changes, will cause your search results for these pages to be empty or outdated, until you navigate to them to trigger a rebuild."},{"lineNumber":94,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":95,"author":{"gitId":"-"},"content":""},{"lineNumber":96,"author":{"gitId":"-"},"content":""},{"lineNumber":97,"author":{"gitId":"-"},"content":"* `-s \u003cfile\u003e`, `--site-config \u003cfile\u003e`\u003cbr\u003e"},{"lineNumber":98,"author":{"gitId":"-"},"content":"   Specify the site config file (default: `site.json`)\u003cbr\u003e"},{"lineNumber":99,"author":{"gitId":"-"},"content":"   {{ icon_example }} `-s otherSite.json`"},{"lineNumber":100,"author":{"gitId":"-"},"content":""},{"lineNumber":101,"author":{"gitId":"-"},"content":"* `-n`, `--no-open`\u003cbr\u003e"},{"lineNumber":102,"author":{"gitId":"-"},"content":"   Don\u0027t open a live preview in the browser automatically."},{"lineNumber":103,"author":{"gitId":"-"},"content":""},{"lineNumber":104,"author":{"gitId":"-"},"content":"* `-f`, `--force-reload`\u003cbr\u003e"},{"lineNumber":105,"author":{"gitId":"-"},"content":"   Force live reload to process all files in the site, instead of just the relevant files. This option is useful when you are modifying a file that is not a file type monitored by the \u003ctrigger trigger\u003d\"click\" for\u003d\"modal:cliCommands-livePreview\"\u003elive preview\u003c/trigger\u003e feature."},{"lineNumber":106,"author":{"gitId":"-"},"content":""},{"lineNumber":107,"author":{"gitId":"-"},"content":"* `-p \u003cport\u003e`, `--port \u003cport\u003e`\u003cbr\u003e"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    Serve the website in the specified port."},{"lineNumber":109,"author":{"gitId":"-"},"content":""},{"lineNumber":110,"author":{"gitId":"-"},"content":""},{"lineNumber":111,"author":{"gitId":"-"},"content":"{{ icon_examples }}"},{"lineNumber":112,"author":{"gitId":"-"},"content":"* `markbind serve`"},{"lineNumber":113,"author":{"gitId":"-"},"content":"* `markbind serve ./myWebsite`"},{"lineNumber":114,"author":{"gitId":"-"},"content":"* `markbind serve -p 8888 -s otherSite.json`"},{"lineNumber":115,"author":{"gitId":"-"},"content":""},{"lineNumber":116,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":117,"author":{"gitId":"-"},"content":""},{"lineNumber":118,"author":{"gitId":"-"},"content":"\u003chr\u003e\u003c!-- \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d --\u003e"},{"lineNumber":119,"author":{"gitId":"-"},"content":""},{"lineNumber":120,"author":{"gitId":"-"},"content":"### `build` Command"},{"lineNumber":121,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":122,"author":{"gitId":"-"},"content":""},{"lineNumber":123,"author":{"gitId":"-"},"content":"**Format:** `markbind build [options] [root] [output]`"},{"lineNumber":124,"author":{"gitId":"-"},"content":""},{"lineNumber":125,"author":{"gitId":"-"},"content":"**Alias:** `markbind b`"},{"lineNumber":126,"author":{"gitId":"-"},"content":""},{"lineNumber":127,"author":{"gitId":"-"},"content":"**Description:** Generates the site to the directory named `_site` in the current directory."},{"lineNumber":128,"author":{"gitId":"-"},"content":""},{"lineNumber":129,"author":{"gitId":"-"},"content":"**Arguments:**"},{"lineNumber":130,"author":{"gitId":"-"},"content":"* `[output]`\u003cbr\u003e"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  Put the generated files in the specified directory\u003cbr\u003e"},{"lineNumber":132,"author":{"gitId":"-"},"content":"  {{ icon_example }} `../myOutDir`"},{"lineNumber":133,"author":{"gitId":"-"},"content":""},{"lineNumber":134,"author":{"gitId":"-"},"content":"* `[root] [output]`\u003cbr\u003e"},{"lineNumber":135,"author":{"gitId":"-"},"content":"  Read source files from the `[root]` directory and put the generated files in the specified `[output]` directory\u003cbr\u003e"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  {{ icon_example }} `./myWebsite ../myOutDir`"},{"lineNumber":137,"author":{"gitId":"-"},"content":""},{"lineNumber":138,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**Options** :fas-cogs:\" type\u003d\"minimal\" expanded\u003e"},{"lineNumber":139,"author":{"gitId":"-"},"content":""},{"lineNumber":140,"author":{"gitId":"-"},"content":"**Options** :fas-cogs:"},{"lineNumber":141,"author":{"gitId":"-"},"content":""},{"lineNumber":142,"author":{"gitId":"-"},"content":"* `--baseUrl \u003cbase\u003e`\u003cbr\u003e"},{"lineNumber":143,"author":{"gitId":"-"},"content":"  Override the `baseUrl` property (read from the `site.json`) with the give `\u003cbase\u003e` value.\u003cbr\u003e"},{"lineNumber":144,"author":{"gitId":"-"},"content":"  {{ icon_example }} `--baseUrl staging`"},{"lineNumber":145,"author":{"gitId":"-"},"content":""},{"lineNumber":146,"author":{"gitId":"-"},"content":"* `-s \u003cfile\u003e`, `--site-config \u003cfile\u003e`\u003cbr\u003e"},{"lineNumber":147,"author":{"gitId":"-"},"content":"  Specify the site config file (default: `site.json`)\u003cbr\u003e"},{"lineNumber":148,"author":{"gitId":"-"},"content":"  {{ icon_example }} `-s otherSite.json`"},{"lineNumber":149,"author":{"gitId":"-"},"content":""},{"lineNumber":150,"author":{"gitId":"-"},"content":"**{{ icon_examples }}**"},{"lineNumber":151,"author":{"gitId":"-"},"content":"* `markbind build`"},{"lineNumber":152,"author":{"gitId":"-"},"content":"* `markbind build ./myWebsite ./myOutDir`"},{"lineNumber":153,"author":{"gitId":"-"},"content":"* `markbind build ./stagingDir --baseUrl staging`"},{"lineNumber":154,"author":{"gitId":"-"},"content":""},{"lineNumber":155,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":156,"author":{"gitId":"-"},"content":""},{"lineNumber":157,"author":{"gitId":"-"},"content":"\u003chr\u003e\u003c!-- \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d --\u003e"},{"lineNumber":158,"author":{"gitId":"-"},"content":""},{"lineNumber":159,"author":{"gitId":"-"},"content":"### `deploy` Command"},{"lineNumber":160,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":161,"author":{"gitId":"-"},"content":""},{"lineNumber":162,"author":{"gitId":"-"},"content":"**Format:** `markbind deploy [options]`"},{"lineNumber":163,"author":{"gitId":"-"},"content":""},{"lineNumber":164,"author":{"gitId":"-"},"content":"**Alias:** `markbind d`"},{"lineNumber":165,"author":{"gitId":"-"},"content":""},{"lineNumber":166,"author":{"gitId":"-"},"content":"**Description:** Deploys the site to the repo\u0027s Github pages by pushing everything in the generated site (default dir: `_site`) to the `gh-pages` branch of the current git working directory\u0027s remote repo."},{"lineNumber":167,"author":{"gitId":"-"},"content":""},{"lineNumber":168,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**Options** :fas-cogs:\" type\u003d\"minimal\" expanded\u003e"},{"lineNumber":169,"author":{"gitId":"-"},"content":""},{"lineNumber":170,"author":{"gitId":"-"},"content":"**Options** :fas-cogs:"},{"lineNumber":171,"author":{"gitId":"-"},"content":""},{"lineNumber":172,"author":{"gitId":"raysonkoh"},"content":"* `-t \u003cgithubTokenName\u003e`, `--ci \u003cgithubTokenName\u003e`\u003cbr\u003e"},{"lineNumber":173,"author":{"gitId":"raysonkoh"},"content":"  Deploy the site in CI Environments using the GitHub personal access token stored in `\u003cgithubTokenName\u003e`. (default: `GITHUB_TOKEN`)\u003cbr\u003e"},{"lineNumber":174,"author":{"gitId":"-"},"content":"  {{ icon_example }} `-t PA_TOKEN`"},{"lineNumber":175,"author":{"gitId":"-"},"content":""},{"lineNumber":176,"author":{"gitId":"-"},"content":"%%{{ icon_info }} Related: [User Guide: Deploying the Website](deployingTheSite.html).%%"},{"lineNumber":177,"author":{"gitId":"-"},"content":""},{"lineNumber":178,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":179,"author":{"gitId":"-"},"content":""},{"lineNumber":180,"author":{"gitId":"-"},"content":"\u003chr\u003e\u003c!-- \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d --\u003e"},{"lineNumber":181,"author":{"gitId":"-"},"content":""},{"lineNumber":182,"author":{"gitId":"-"},"content":"### `--help` Option"},{"lineNumber":183,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":184,"author":{"gitId":"-"},"content":""},{"lineNumber":185,"author":{"gitId":"-"},"content":"**Format:** `markbind [command] --help`"},{"lineNumber":186,"author":{"gitId":"-"},"content":""},{"lineNumber":187,"author":{"gitId":"-"},"content":"**Alias:** `markbind [command] -h`"},{"lineNumber":188,"author":{"gitId":"-"},"content":""},{"lineNumber":189,"author":{"gitId":"-"},"content":"**Description:** Prints a summary of MarkBind commands or a detailed usage guide for the given `command`."},{"lineNumber":190,"author":{"gitId":"-"},"content":""},{"lineNumber":191,"author":{"gitId":"-"},"content":"{{ icon_examples }}"},{"lineNumber":192,"author":{"gitId":"-"},"content":"* `markbind --help` : Prints a summary of MarkBind commands."},{"lineNumber":193,"author":{"gitId":"-"},"content":"* `markbind serve --help` : Prints a detailed usage guide for the `serve` command."}],"authorContributionMap":{"raysonkoh":2,"-":191}},{"path":"docs/userGuide/components/advanced.md","fileType":"md","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"## Advanced Tips and Tricks"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"{% set slot_info_trigger %}\u003ctrigger for\u003d\"on-slots\" trigger\u003d\"click\"\u003e\u003cstrong\u003e^\\[S\\]^\u003c/strong\u003e\u003c/trigger\u003e{% endset %}"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"{% set slot_type_info_trigger %}\u003ctrigger for\u003d\"on-slots\" trigger\u003d\"click\"\u003eSlot\u003c/trigger\u003e{% endset %}"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"### Richer formatting of attributes using slots"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"slots\"\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"Most component attributes allow a richer form of formatting using slots, denoted by an attribute\u003cstrong\u003e^\\[S\\]^\u003c/strong\u003e superscript in the respective components\u0027 tables."},{"lineNumber":12,"author":{"gitId":"-"},"content":"In other cases, when the option is of type \"Slot\", only the slot option is available."},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"wxwxwxwx9"},"content":"You can define such a slot within the component by adding a `#slot_name` attribute to any element within the slot."},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"{{ icon_example }}"},{"lineNumber":17,"author":{"gitId":"-"},"content":""},{"lineNumber":18,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate\u003e"},{"lineNumber":19,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":20,"author":{"gitId":"-"},"content":"\u003cpanel expanded\u003e"},{"lineNumber":21,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003cp #header class\u003d\"card-title\"\u003e"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    \u003ci\u003e\u003cstrong\u003e"},{"lineNumber":23,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"color:#FF0000;\"\u003eR\u003c/span\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"color:#FF7F00;\"\u003eA\u003c/span\u003e"},{"lineNumber":25,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"color:#FFFF00;\"\u003eI\u003c/span\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"color:#00FF00;\"\u003eN\u003c/span\u003e"},{"lineNumber":27,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"color:#0000FF;\"\u003eB\u003c/span\u003e"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"color:#4B0082;\"\u003eO\u003c/span\u003e"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      \u003cspan style\u003d\"color:#9400D3;\"\u003eW\u003c/span\u003e"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    \u003c/strong\u003e\u003c/i\u003e"},{"lineNumber":31,"author":{"gitId":"-"},"content":"  \u003c/p\u003e"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  As shown in this panel, using the header slot"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  allows you to customize the Panel\u0027s header using HTML."},{"lineNumber":34,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":35,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":36,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":37,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":38,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":39,"author":{"gitId":"-"},"content":""},{"lineNumber":40,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cbox type\u003d\"info\"\u003e"},{"lineNumber":41,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":42,"author":{"gitId":"wxwxwxwx9"},"content":"You may define a slot by using `slot\u003d\"slot_name\"` as well. "},{"lineNumber":43,"author":{"gitId":"wxwxwxwx9"},"content":"However, we **++do not recommend++** using this syntax as it is deprecated and will be removed in the future. "},{"lineNumber":44,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":45,"author":{"gitId":"wxwxwxwx9"},"content":"```html"},{"lineNumber":46,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003cpanel\u003e"},{"lineNumber":47,"author":{"gitId":"wxwxwxwx9"},"content":"    \u003cdiv slot\u003d\"header\"\u003e"},{"lineNumber":48,"author":{"gitId":"wxwxwxwx9"},"content":"      Look at the slot syntax directly above. "},{"lineNumber":49,"author":{"gitId":"wxwxwxwx9"},"content":"    \u003c/div\u003e"},{"lineNumber":50,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003c/panel\u003e"},{"lineNumber":51,"author":{"gitId":"wxwxwxwx9"},"content":"```"},{"lineNumber":52,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/box\u003e"},{"lineNumber":53,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":54,"author":{"gitId":"-"},"content":"  "},{"lineNumber":55,"author":{"gitId":"-"},"content":"\u003cmodal header\u003d\"Richer formatting of attributes using slots\" id\u003d\"on-slots\" large\u003e"},{"lineNumber":56,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"advanced.md#slots\" /\u003e"},{"lineNumber":57,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":58,"author":{"gitId":"-"},"content":""},{"lineNumber":59,"author":{"gitId":"-"},"content":"**Other examples of slots in use**"},{"lineNumber":60,"author":{"gitId":"-"},"content":""},{"lineNumber":61,"author":{"gitId":"-"},"content":"{{ icon_example }} Custom modal header"},{"lineNumber":62,"author":{"gitId":"-"},"content":""},{"lineNumber":63,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate\u003e"},{"lineNumber":64,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":65,"author":{"gitId":"-"},"content":"\u003ctrigger for\u003d\"modal:tip-example\" trigger\u003d\"click\"\u003eClick here to show Modal.\u003c/trigger\u003e"},{"lineNumber":66,"author":{"gitId":"-"},"content":""},{"lineNumber":67,"author":{"gitId":"-"},"content":"\u003cmodal id\u003d\"modal:tip-example\"\u003e"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"header\" class\u003d\"modal-title text-center\"\u003e"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    \u003cspan style\u003d\"font-size:20pt\"\u003e\u003cspan style\u003d\"color:red;\"\u003eBIG\u003c/span\u003e header\u003c/span\u003e"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  \u003c/div\u003e"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    Modal allows you to style both header and footer individually, with style classes and inline styles."},{"lineNumber":72,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"footer\" class\u003d\"text-center\"\u003e"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    \u003cspan style\u003d\"font-size:10pt\"\u003eTiny \u003cspan style\u003d\"color:green;\"\u003efooter\u003c/span\u003e\u003c/span\u003e"},{"lineNumber":74,"author":{"gitId":"-"},"content":"  \u003c/div\u003e"},{"lineNumber":75,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":76,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":77,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":78,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":79,"author":{"gitId":"-"},"content":""},{"lineNumber":80,"author":{"gitId":"-"},"content":""},{"lineNumber":81,"author":{"gitId":"-"},"content":"{{ icon_example }} Override the default icon for a certain type of box."},{"lineNumber":82,"author":{"gitId":"-"},"content":""},{"lineNumber":83,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":84,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"info\"\u003e"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    \u003cspan slot\u003d\"icon\" class\u003d\"text-danger\"\u003e\u003cmd\u003e:fas-home:\u003c/md\u003e\u003c/span\u003e"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    info"},{"lineNumber":87,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":88,"author":{"gitId":"-"},"content":"```"},{"lineNumber":89,"author":{"gitId":"-"},"content":""},{"lineNumber":90,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"info\"\u003e"},{"lineNumber":91,"author":{"gitId":"-"},"content":"    \u003cspan slot\u003d\"icon\" class\u003d\"text-danger\"\u003e\u003cmd\u003e:fas-home:\u003c/md\u003e\u003c/span\u003e"},{"lineNumber":92,"author":{"gitId":"-"},"content":"    info"},{"lineNumber":93,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":94,"author":{"gitId":"-"},"content":""},{"lineNumber":95,"author":{"gitId":"-"},"content":"{{ icon_example }} Use pictures (or even gifs) as the icon for a box."},{"lineNumber":96,"author":{"gitId":"-"},"content":""},{"lineNumber":97,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":98,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"info\" seamless\u003e"},{"lineNumber":99,"author":{"gitId":"-"},"content":"    \u003cimg slot\u003d\"icon\" src\u003d\"https://icons8.com/vue-static/landings/animated-icons/icons/cloud/cloud.gif\"\u003e\u003c/img\u003e"},{"lineNumber":100,"author":{"gitId":"-"},"content":"    some very useful info"},{"lineNumber":101,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":102,"author":{"gitId":"-"},"content":"```"},{"lineNumber":103,"author":{"gitId":"-"},"content":""},{"lineNumber":104,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"info\" seamless\u003e"},{"lineNumber":105,"author":{"gitId":"-"},"content":"    \u003cimg slot\u003d\"icon\" width\u003d\"75%\" src\u003d\"https://icons8.com/vue-static/landings/animated-icons/icons/cloud/cloud.gif\"\u003e\u003c/img\u003e"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    some very useful info"},{"lineNumber":107,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":108,"author":{"gitId":"-"},"content":""},{"lineNumber":109,"author":{"gitId":"-"},"content":"{{ icon_example }} Use [thumbnail]({{ baseUrl }}/userGuide/usingComponents.html#thumbnails) as the icon. "},{"lineNumber":110,"author":{"gitId":"-"},"content":""},{"lineNumber":111,"author":{"gitId":"-"},"content":""},{"lineNumber":112,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":113,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"info\" light\u003e"},{"lineNumber":114,"author":{"gitId":"-"},"content":"    \u003cthumbnail circle slot\u003d\"icon\" text\u003d\":book:\" background\u003d\"#dff5ff\" size\u003d\"50\"/\u003e"},{"lineNumber":115,"author":{"gitId":"-"},"content":"    use thumbnail as the icon"},{"lineNumber":116,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":117,"author":{"gitId":"-"},"content":"```"},{"lineNumber":118,"author":{"gitId":"-"},"content":""},{"lineNumber":119,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"info\" light\u003e"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    \u003cthumbnail circle slot\u003d\"icon\" text\u003d\":book:\" background\u003d\"#dff5ff\" size\u003d\"50\"/\u003e"},{"lineNumber":121,"author":{"gitId":"-"},"content":"    use thumbnail as the icon"},{"lineNumber":122,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":123,"author":{"gitId":"-"},"content":""},{"lineNumber":124,"author":{"gitId":"-"},"content":"### Inserting custom classes into components {.mt-4 .mb-3}"},{"lineNumber":125,"author":{"gitId":"-"},"content":""},{"lineNumber":126,"author":{"gitId":"-"},"content":"Every component documented in our user guide allows you to insert your own defined CSS classes."},{"lineNumber":127,"author":{"gitId":"-"},"content":"This is done by adding the `add-class` attribute to a component along with the desired class names."},{"lineNumber":128,"author":{"gitId":"-"},"content":""},{"lineNumber":129,"author":{"gitId":"-"},"content":"\u003ctip-box border-left-color\u003d\"#00B0F0\"\u003e"},{"lineNumber":130,"author":{"gitId":"-"},"content":"  \u003ci style\u003d\"font-style: normal; font-weight: bold; color: dimgray\"\u003eExample\u003c/i\u003e\u003cbr\u003e"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  \u003ctip-box type\u003d\"info\" add-class\u003d\"lead font-italic text-center\"\u003e"},{"lineNumber":132,"author":{"gitId":"-"},"content":"    Easily apply Bootstrap classes without using a wrapper!"},{"lineNumber":133,"author":{"gitId":"-"},"content":"  \u003c/tip-box\u003e"},{"lineNumber":134,"author":{"gitId":"-"},"content":"\u003c/tip-box\u003e"},{"lineNumber":135,"author":{"gitId":"-"},"content":""},{"lineNumber":136,"author":{"gitId":"-"},"content":"\u003ctip-box border-left-color\u003d\"black\"\u003e"},{"lineNumber":137,"author":{"gitId":"-"},"content":"\u003ci style\u003d\"font-style: normal; font-weight: bold; color: dimgray\"\u003eMarkup\u003c/i\u003e"},{"lineNumber":138,"author":{"gitId":"-"},"content":""},{"lineNumber":139,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":140,"author":{"gitId":"-"},"content":"\u003ctip-box type\u003d\"info\" add-class\u003d\"lead font-italic text-center\"\u003e"},{"lineNumber":141,"author":{"gitId":"-"},"content":"  Easily apply Bootstrap classes without using a wrapper!"},{"lineNumber":142,"author":{"gitId":"-"},"content":"\u003c/tip-box\u003e"},{"lineNumber":143,"author":{"gitId":"-"},"content":"```"},{"lineNumber":144,"author":{"gitId":"-"},"content":"\u003c/tip-box\u003e"},{"lineNumber":145,"author":{"gitId":"-"},"content":"\u003cbr\u003e"}],"authorContributionMap":{"wxwxwxwx9":16,"-":129}},{"path":"docs/userGuide/deployingTheSite.md","fileType":"md","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"{% set title \u003d \"Deploying the Site\" %}"},{"lineNumber":2,"author":{"gitId":"-"},"content":"{% set filename \u003d \"deployingTheSite\" %}"},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"title\" class\u003d\"d-none\"\u003e{{ title }}\u003c/span\u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"\u003cfrontmatter\u003e"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  title: \"User Guide: {{ title }}\""},{"lineNumber":7,"author":{"gitId":"-"},"content":"  layout: userGuide.md"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  pageNav: default"},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003c/frontmatter\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"link\" class\u003d\"d-none\"\u003e"},{"lineNumber":12,"author":{"gitId":"-"},"content":"\u003cmd\u003e[_User Guide → {{ title }}_]({{ filename }}.html)\u003c/md\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":14,"author":{"gitId":"-"},"content":""},{"lineNumber":15,"author":{"gitId":"-"},"content":"# {{ title }}"},{"lineNumber":16,"author":{"gitId":"-"},"content":""},{"lineNumber":17,"author":{"gitId":"-"},"content":"\u003cspan class\u003d\"lead\" id\u003d\"overview\"\u003e"},{"lineNumber":18,"author":{"gitId":"-"},"content":""},{"lineNumber":19,"author":{"gitId":"-"},"content":"**A site generated by MarkBind can be deployed by simply uploading the generated files to any Web server.** In addition, MarkBind provides several convenient deployment options."},{"lineNumber":20,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":21,"author":{"gitId":"-"},"content":""},{"lineNumber":22,"author":{"gitId":"-"},"content":"Generic steps for deploying a MarkBind site:"},{"lineNumber":23,"author":{"gitId":"-"},"content":"1. Set the [`baseUrl` property of the `site.json` file](siteJsonFile.html#baseUrl) to match the deploy location."},{"lineNumber":24,"author":{"gitId":"-"},"content":"1. (Optional) Use the [`markbind serve` command](cliCommands.html#serve-command) to stage the site locally and confirm the contents are as expected."},{"lineNumber":25,"author":{"gitId":"-"},"content":"1. Use the [`markbind build` command](cliCommands.html#build-command) to generate the site from source files. That command puts the generated site files in a directory named `_site` (you can change the output directory using parameters supplied to the command)."},{"lineNumber":26,"author":{"gitId":"-"},"content":"1. Upload the site files to the Web server. The sections below explain how to automate this step if you are deploying to some online platforms."},{"lineNumber":27,"author":{"gitId":"-"},"content":""},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"Steps for deploying multiple MarkBind sites:"},{"lineNumber":30,"author":{"gitId":"-"},"content":"1. Create multiple `site.json` files. Ensure that the [`baseUrl` property of each `site.json` file](siteJsonFile.html#baseUrl) matches its deploy location."},{"lineNumber":31,"author":{"gitId":"-"},"content":"1. (Optional) Use the [`markbind serve -s \u003cfile\u003e` command](cliCommands.html#serve-command) to stage each site locally and confirm the contents are as expected."},{"lineNumber":32,"author":{"gitId":"-"},"content":"1. For each site:"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    1. Use the [`markbind build -s \u003cfile\u003e` command](cliCommands.html#build-command) to generate the site from source files."},{"lineNumber":34,"author":{"gitId":"-"},"content":"    1. Upload the site files to the Web server. The sections below explain how to automate this step if you are deploying to some online platforms."},{"lineNumber":35,"author":{"gitId":"-"},"content":""},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"## Deploying to Github Pages"},{"lineNumber":38,"author":{"gitId":"-"},"content":""},{"lineNumber":39,"author":{"gitId":"-"},"content":"**MarkBind can easily deploy a site to [Github pages](https://help.github.com/categories/github-pages-basics/)** if the project root directory is also a GitHub repo."},{"lineNumber":40,"author":{"gitId":"-"},"content":""},{"lineNumber":41,"author":{"gitId":"-"},"content":"Running the **`markbind deploy`** command will deploy the most recent build of your site to the `gh-pages` branch of the repo `origin` and will be available"},{"lineNumber":42,"author":{"gitId":"-"},"content":"After the command is completed, your site will be online at `http://\u003cusername|org\u003e.github.io/\u003crepo\u003e` e.g., http://se-edu.github.io/se-book."},{"lineNumber":43,"author":{"gitId":"-"},"content":""},{"lineNumber":44,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"warning-about-baseUrl\"\u003e"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":47,"author":{"gitId":"-"},"content":""},{"lineNumber":48,"author":{"gitId":"-"},"content":"If you are deploying to the site to GitHub pages, the `baseUrl` setting in the `site.json` should be set to the `\"/\u003crepositoryName\u003e\"` for the links in the deployed site to work correctly.\u003cbr\u003e"},{"lineNumber":49,"author":{"gitId":"-"},"content":"{{ icon_example }} If you are using Github Pages to host your deployed website at repo `myorg/myproduct` (i.e., the website is published at `https://myorg.github.io/myproduct`), then your `baseUrl` should be `\"/myproduct\"`."},{"lineNumber":50,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":51,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":52,"author":{"gitId":"-"},"content":""},{"lineNumber":53,"author":{"gitId":"-"},"content":"You can override the default deployment settings %%(e.g., repo/branch to deploy)%% in the `site.json`\u0027s `deploy` section:"},{"lineNumber":54,"author":{"gitId":"-"},"content":""},{"lineNumber":55,"author":{"gitId":"-"},"content":"\u003cpanel type\u003d\"seamless\" header\u003d\"**User Guide: Configuring the Site → `deploy`**\" popup-url\u003d\"siteJsonFile.html#deploy\"\u003e"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  \u003cinclude src\u003d\"siteJsonFile.md#site-json-deploy\" /\u003e"},{"lineNumber":57,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":58,"author":{"gitId":"-"},"content":""},{"lineNumber":59,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":60,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":61,"author":{"gitId":"-"},"content":""},{"lineNumber":62,"author":{"gitId":"-"},"content":"`markbind deploy` does not generate the static site from your source; it simply deploys the files that are already in the `_site` directory. You need to run `markbind build` first if you want to generate the site before deploying."},{"lineNumber":63,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":64,"author":{"gitId":"-"},"content":""},{"lineNumber":65,"author":{"gitId":"raysonkoh"},"content":"### Deploying to GitHub Pages via CI Tools"},{"lineNumber":66,"author":{"gitId":"raysonkoh"},"content":"**You can setup CI Tools to automatically build and deploy your site on GitHub Pages every time your GitHub repo is updated.**"},{"lineNumber":67,"author":{"gitId":"-"},"content":""},{"lineNumber":68,"author":{"gitId":"raysonkoh"},"content":"\u003cpanel header\u003d\"#### Deploying via Github Actions\" type\u003d\"seamless\" expanded\u003e"},{"lineNumber":69,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":70,"author":{"gitId":"raysonkoh"},"content":"To instruct [Github Actions](https://docs.github.com/en/actions) to build and deploy the site when you push to the repository, add a Github Actions workflow file in your project repo at the location `\u003cPROJECT_ROOT\u003e/.github/workflows/deploy.yml`  A sample workflow file is provided below:"},{"lineNumber":71,"author":{"gitId":"raysonkoh"},"content":"```"},{"lineNumber":72,"author":{"gitId":"raysonkoh"},"content":"name: Deploy Markbind Site"},{"lineNumber":73,"author":{"gitId":"raysonkoh"},"content":"on:"},{"lineNumber":74,"author":{"gitId":"raysonkoh"},"content":"  push:"},{"lineNumber":75,"author":{"gitId":"raysonkoh"},"content":"    branches: master"},{"lineNumber":76,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":77,"author":{"gitId":"raysonkoh"},"content":"jobs:"},{"lineNumber":78,"author":{"gitId":"raysonkoh"},"content":"  build:"},{"lineNumber":79,"author":{"gitId":"raysonkoh"},"content":"    runs-on: ubuntu-latest"},{"lineNumber":80,"author":{"gitId":"raysonkoh"},"content":"    name: test"},{"lineNumber":81,"author":{"gitId":"raysonkoh"},"content":"    env:"},{"lineNumber":82,"author":{"gitId":"raysonkoh"},"content":"      GITHUB_TOKEN: {% raw %}${{ secrets.GITHUB_TOKEN }}{% endraw %}"},{"lineNumber":83,"author":{"gitId":"raysonkoh"},"content":"    steps:"},{"lineNumber":84,"author":{"gitId":"raysonkoh"},"content":"      - uses: actions/checkout@v2"},{"lineNumber":85,"author":{"gitId":"raysonkoh"},"content":"      - uses: actions/setup-node@v2"},{"lineNumber":86,"author":{"gitId":"raysonkoh"},"content":"        with:"},{"lineNumber":87,"author":{"gitId":"raysonkoh"},"content":"          node-version: \u002710\u0027"},{"lineNumber":88,"author":{"gitId":"raysonkoh"},"content":"      - run: npm i -g markbind-cli"},{"lineNumber":89,"author":{"gitId":"raysonkoh"},"content":"      - run: markbind build"},{"lineNumber":90,"author":{"gitId":"raysonkoh"},"content":"      - run: markbind deploy --ci"},{"lineNumber":91,"author":{"gitId":"raysonkoh"},"content":"```"},{"lineNumber":92,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":93,"author":{"gitId":"raysonkoh"},"content":"\u003cbox type\u003d\"info\"\u003e"},{"lineNumber":94,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":95,"author":{"gitId":"raysonkoh"},"content":"The sample `deploy.yml` workflow above uses the [default Github Token secret](https://docs.github.com/en/actions/reference/authentication-in-a-workflow) that is generated automatically for each Github Actions workflow. You may also use a Github Personal Access Token in place of the default Github Token. For steps on setting up your Github Personal Access Token, you may refer to the [setup instructions for Travis CI](#configuring-your-repository-in-travis-ci). "},{"lineNumber":96,"author":{"gitId":"raysonkoh"},"content":"\u003c/box\u003e"},{"lineNumber":97,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":98,"author":{"gitId":"raysonkoh"},"content":"Once you have created the file, commit and push the file to your repo. Github Actions should start to build and deploy your markbind site. You can verify this by visiting `www.github.com/\u003corg|username\u003e/\u003crepo\u003e/actions`. "},{"lineNumber":99,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":100,"author":{"gitId":"raysonkoh"},"content":"For more information on customizing your workflow file to fit your specific needs, you may refer to the [Github Action Docs](https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions)."},{"lineNumber":101,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":102,"author":{"gitId":"raysonkoh"},"content":"\u003c/panel\u003e"},{"lineNumber":103,"author":{"gitId":"-"},"content":""},{"lineNumber":104,"author":{"gitId":"raysonkoh"},"content":"\u003cpanel header\u003d\"#### Deploying via Travis CI\" type\u003d\"seamless\" expanded\u003e"},{"lineNumber":105,"author":{"gitId":"-"},"content":""},{"lineNumber":106,"author":{"gitId":"raysonkoh"},"content":"##### Adding your repository to Travis CI"},{"lineNumber":107,"author":{"gitId":"-"},"content":""},{"lineNumber":108,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"{{icon_info}} Travis CI Migration\" type\u003d\"info\" expanded\u003e"},{"lineNumber":109,"author":{"gitId":"-"},"content":""},{"lineNumber":110,"author":{"gitId":"-"},"content":"Since May 2018, Travis CI has been [undergoing migration to `travis-ci.com`](https://docs.travis-ci.com/user/migrate/open-source-on-travis-ci-com/), which changes the way you setup repositories on Travis CI. "},{"lineNumber":111,"author":{"gitId":"-"},"content":""},{"lineNumber":112,"author":{"gitId":"-"},"content":"- If you are new to Travis CI, you should **add your repository on `travis-ci.com`**."},{"lineNumber":113,"author":{"gitId":"-"},"content":"- Alternatively, if you are already using Travis CI on `travis-ci.org`, you can continue to **add your repository on `travis-ci.org`**."},{"lineNumber":114,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":115,"author":{"gitId":"-"},"content":"\u003cp/\u003e"},{"lineNumber":116,"author":{"gitId":"-"},"content":"\u003ctabs\u003e"},{"lineNumber":117,"author":{"gitId":"-"},"content":"  \u003ctab header\u003d\"Add your repository on `travis-ci.com`\"\u003e"},{"lineNumber":118,"author":{"gitId":"-"},"content":""},{"lineNumber":119,"author":{"gitId":"-"},"content":"1. [Sign in to Travis](https://travis-ci.com/signin) using your GitHub account."},{"lineNumber":120,"author":{"gitId":"-"},"content":"1. Accept the authorisation for Travis CI when you are redirected to GitHub."},{"lineNumber":121,"author":{"gitId":"-"},"content":"1. Go to the [Repositories page](https://travis-ci.com/account/repositories), and click on the green _Activate_ button.\u003cbr\u003e"},{"lineNumber":122,"author":{"gitId":"-"},"content":"  %%{{ icon_info }} If you are already using Travis CI, click on the white _Manage Repositories on GitHub_ button instead.%%"},{"lineNumber":123,"author":{"gitId":"-"},"content":"1. Select the repository with the MarkBind site, and add the Travis CI GitHub App to the repository by clicking the green _Approve and Install_ button."},{"lineNumber":124,"author":{"gitId":"-"},"content":""},{"lineNumber":125,"author":{"gitId":"-"},"content":"  \u003c/tab\u003e"},{"lineNumber":126,"author":{"gitId":"-"},"content":"  \u003ctab header\u003d\"Add your repository on `travis-ci.org`\"\u003e"},{"lineNumber":127,"author":{"gitId":"-"},"content":""},{"lineNumber":128,"author":{"gitId":"-"},"content":"1. [Sign in to Travis](https://travis-ci.com/signin) using your GitHub account."},{"lineNumber":129,"author":{"gitId":"-"},"content":"1. Accept the authorisation for Travis CI when you are redirected to GitHub."},{"lineNumber":130,"author":{"gitId":"-"},"content":"1. Go to the [Repositories page](https://travis-ci.org/account/repositories)."},{"lineNumber":131,"author":{"gitId":"-"},"content":"1. Find the repository with the MarkBind site.\u003cbr\u003e"},{"lineNumber":132,"author":{"gitId":"-"},"content":"  %%{{ icon_info }} If the organization/repository is not shown in the list, click on `Review and add` link at the bottom of the list of organization and follow the steps to give Travis access to the organization containing your repo. After that, come back to the [Repositories page](https://travis-ci.org/account/repositories) and use the `Sync Account` button to sync your Travis account with GitHub.%%"},{"lineNumber":133,"author":{"gitId":"-"},"content":"1. Activate the repo using the slider switch in front of it."},{"lineNumber":134,"author":{"gitId":"-"},"content":"  \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Activate Repo\" var-file\u003d\"travisActivateRepo.png\" inline /\u003e"},{"lineNumber":135,"author":{"gitId":"-"},"content":"  \u003c/tab\u003e"},{"lineNumber":136,"author":{"gitId":"-"},"content":"\u003c/tabs\u003e"},{"lineNumber":137,"author":{"gitId":"-"},"content":""},{"lineNumber":138,"author":{"gitId":"raysonkoh"},"content":"##### Configuring your repository in Travis CI"},{"lineNumber":139,"author":{"gitId":"-"},"content":""},{"lineNumber":140,"author":{"gitId":"-"},"content":"1. [Generate a GitHub personal access token](https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/#creating-a-token) with **repo** permissions. Take note of the generated token - you will not be able to see it again once you navigate away from the page."},{"lineNumber":141,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"GitHub Token Repo Permissions\" var-file\u003d\"githubTokenRepoPermissions.png\" inline /\u003e"},{"lineNumber":142,"author":{"gitId":"-"},"content":"1. [Add an environment variable in Travis CI](https://docs.travis-ci.com/user/environment-variables/#defining-variables-in-repository-settings) named `GITHUB_TOKEN`, with the value set to the personal access token generated in the previous step. \u003d\u003dEnsure that _Display value in the build log_ is set to _Off_.\u003d\u003d"},{"lineNumber":143,"author":{"gitId":"-"},"content":"   \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Add GITHUB_TOKEN\" var-file\u003d\"travisGithubToken.png\" inline /\u003e"},{"lineNumber":144,"author":{"gitId":"-"},"content":"1. Add a `.travis.yml` file to instruct Travis CI to build and deploy the site when you push to the repository. An example `.travis.yml` file that can accomplish this is given below:"},{"lineNumber":145,"author":{"gitId":"-"},"content":"```yaml"},{"lineNumber":146,"author":{"gitId":"-"},"content":"language: node_js"},{"lineNumber":147,"author":{"gitId":"-"},"content":"node_js:"},{"lineNumber":148,"author":{"gitId":"-"},"content":"  - 10"},{"lineNumber":149,"author":{"gitId":"-"},"content":"install:"},{"lineNumber":150,"author":{"gitId":"-"},"content":"  - npm i -g markbind-cli"},{"lineNumber":151,"author":{"gitId":"-"},"content":"script: markbind build"},{"lineNumber":152,"author":{"gitId":"-"},"content":"deploy:"},{"lineNumber":153,"author":{"gitId":"-"},"content":"  provider: script"},{"lineNumber":154,"author":{"gitId":"raysonkoh"},"content":"  script: markbind deploy --ci"},{"lineNumber":155,"author":{"gitId":"-"},"content":"  skip_cleanup: true"},{"lineNumber":156,"author":{"gitId":"-"},"content":"  on:"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    branch: master"},{"lineNumber":158,"author":{"gitId":"-"},"content":"```"},{"lineNumber":159,"author":{"gitId":"-"},"content":"More information about `.travis.yml` can be found in the [Travis CI documentation](https://docs.travis-ci.com/)."},{"lineNumber":160,"author":{"gitId":"-"},"content":""},{"lineNumber":161,"author":{"gitId":"-"},"content":"1. Commit `.travis.yml` to your MarkBind repository and push the changes. Travis CI should begin to build your site."},{"lineNumber":162,"author":{"gitId":"-"},"content":"1. Select the MarkBind repository on [Travis CI](https://travis-ci.com/auth) and [check the build status](https://docs.travis-ci.com/user/job-lifecycle/#breaking-the-build) to see if it is successful."},{"lineNumber":163,"author":{"gitId":"-"},"content":"1. Once the build succeeds, your MarkBind site should be online at `http://\u003cusername|org\u003e.github.io/\u003crepo\u003e` e.g., http://se-edu.github.io/se-book. Travis CI will automatically build and deploy changes to your site as you push new changes to the repository after a few seconds.\u003cbr\u003e"},{"lineNumber":164,"author":{"gitId":"-"},"content":"  %%{{ icon_info }} You might have to go to the `Settings` of your repo and configure it to publish GitHub Pages from the `gh-pages` branch as MarkBind deploys to that branch by default.%%"},{"lineNumber":165,"author":{"gitId":"-"},"content":""},{"lineNumber":166,"author":{"gitId":"raysonkoh"},"content":"###### Configuring Travis CI to use a specific MarkBind version"},{"lineNumber":167,"author":{"gitId":"-"},"content":""},{"lineNumber":168,"author":{"gitId":"-"},"content":"When Travis CI is set up as explained above, it will use the latest version of MarkBind which may be a later version than the one you use locally."},{"lineNumber":169,"author":{"gitId":"-"},"content":"* If you want Travis CI to use a specific version of MarkBind (eg. `v1.6.3`), change the `install` step in the `.travis.yml` given above to:"},{"lineNumber":170,"author":{"gitId":"-"},"content":"  ```yaml"},{"lineNumber":171,"author":{"gitId":"-"},"content":"  install:"},{"lineNumber":172,"author":{"gitId":"-"},"content":"    - npm i -g markbind-cli@1.63"},{"lineNumber":173,"author":{"gitId":"-"},"content":"  ```"},{"lineNumber":174,"author":{"gitId":"-"},"content":"* If you want to use the latest minor version automatically until the next major version (as major versions usually contain breaking changes), you can add a `^` in front of the version number. In the example below, Travis will use the latest version of MarkBind but will stop before `2.*`"},{"lineNumber":175,"author":{"gitId":"-"},"content":"  ```yaml"},{"lineNumber":176,"author":{"gitId":"-"},"content":"  install:"},{"lineNumber":177,"author":{"gitId":"-"},"content":"    - npm i -g markbind-cli@^1.63"},{"lineNumber":178,"author":{"gitId":"-"},"content":"  ```"},{"lineNumber":179,"author":{"gitId":"-"},"content":""},{"lineNumber":180,"author":{"gitId":"raysonkoh"},"content":"###### Configuring Travis CI to only deploy from a specific repository"},{"lineNumber":181,"author":{"gitId":"-"},"content":""},{"lineNumber":182,"author":{"gitId":"-"},"content":"When Travis CI is set up as explained above, Travis CI will attempt to deploy the site from any repository it is in, including forks."},{"lineNumber":183,"author":{"gitId":"-"},"content":"If you want Travis CI to only deploy from a specific repository (eg. only from your main site repository), you can add to the `deploy` phase a [`repo` condition in the form `owner_name/repo_name`](https://docs.travis-ci.com/user/deployment#conditional-releases-with-on)."},{"lineNumber":184,"author":{"gitId":"-"},"content":""},{"lineNumber":185,"author":{"gitId":"-"},"content":"For example, if you only want Travis CI to deploy the site when it is run from the `se-edu/se-book` repository, the following `repo` condition should be added to `.travis.yml`."},{"lineNumber":186,"author":{"gitId":"-"},"content":""},{"lineNumber":187,"author":{"gitId":"-"},"content":"```yaml"},{"lineNumber":188,"author":{"gitId":"-"},"content":"  on:"},{"lineNumber":189,"author":{"gitId":"-"},"content":"    branch: master"},{"lineNumber":190,"author":{"gitId":"-"},"content":"    repo: se-edu/se-book"},{"lineNumber":191,"author":{"gitId":"-"},"content":"```"},{"lineNumber":192,"author":{"gitId":"-"},"content":""},{"lineNumber":193,"author":{"gitId":"-"},"content":"The `repo` value can be changed to your specific repository as desired."},{"lineNumber":194,"author":{"gitId":"-"},"content":""},{"lineNumber":195,"author":{"gitId":"raysonkoh"},"content":"\u003c/panel\u003e"},{"lineNumber":196,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":197,"author":{"gitId":"raysonkoh"},"content":"\u003cpanel header\u003d\"#### Deploying via AppVeyor CI\" type\u003d\"seamless\" expanded\u003e"},{"lineNumber":198,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":199,"author":{"gitId":"raysonkoh"},"content":"##### Adding your repository to AppVeyor CI"},{"lineNumber":200,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":201,"author":{"gitId":"raysonkoh"},"content":"1. [Sign in to AppVeyor CI](https://ci.appveyor.com/login) using your Github Account."},{"lineNumber":202,"author":{"gitId":"raysonkoh"},"content":"1. Authorize AppVeyor App as Github App in the [account settings](https://ci.appveyor.com/authorizations) by clicking on the _Install AppVeyor App_ button."},{"lineNumber":203,"author":{"gitId":"raysonkoh"},"content":"  \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Install AppVeyor Github App\" var-file\u003d\"appveyorInstallGithubApp.png\" inline /\u003e"},{"lineNumber":204,"author":{"gitId":"raysonkoh"},"content":"1. In the [projects directory](https://ci.appveyor.com/projects), click on the _New Project_ button."},{"lineNumber":205,"author":{"gitId":"raysonkoh"},"content":"  \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Add a new Project on AppVeyor\" var-file\u003d\"appveyorAddNewProject.png\" inline /\u003e"},{"lineNumber":206,"author":{"gitId":"raysonkoh"},"content":"1. Finally, select the repository containing your Markbind site."},{"lineNumber":207,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":208,"author":{"gitId":"raysonkoh"},"content":"##### Configuring your repository in AppVeyor CI"},{"lineNumber":209,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":210,"author":{"gitId":"raysonkoh"},"content":"1. [Generate a Github personal access token](https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/#creating-a-token) with **repo permissions**. "},{"lineNumber":211,"author":{"gitId":"raysonkoh"},"content":"  \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"GitHub Token Repo Permissions\" var-file\u003d\"githubTokenRepoPermissions.png\" inline /\u003e"},{"lineNumber":212,"author":{"gitId":"raysonkoh"},"content":"1. Navigate to the project settings page of your repository in AppVeyor CI."},{"lineNumber":213,"author":{"gitId":"raysonkoh"},"content":"1. On the left menu, click on __Environment__."},{"lineNumber":214,"author":{"gitId":"raysonkoh"},"content":"1. Under the heading __Environment variables__, add a custom environment variable named `GITHUB_TOKEN`, with the value set to the personal access token that was generated in the first step. \u003d\u003dEnsure that you toggle variable encryption by clicking on the padlock.\u003d\u003d "},{"lineNumber":215,"author":{"gitId":"raysonkoh"},"content":"  \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Add GitHub Token on AppVeyor\" var-file\u003d\"appveyorGithubToken.png\" inline /\u003e"},{"lineNumber":216,"author":{"gitId":"raysonkoh"},"content":"1. Remember to click __Save__ at the bottom of the page."},{"lineNumber":217,"author":{"gitId":"raysonkoh"},"content":"1. Add a `appveyor.yml`file at the root of your Markbind site\u0027s repository to instruct AppVeyor CI to build and deploy the site to Github Pages when you to push to your repository. More information on customizing `appveyor.yml` can be found in [AppVeyor documentation](https://www.appveyor.com/docs/appveyor-yml/). An example `appveyor.yml` file is given below:"},{"lineNumber":218,"author":{"gitId":"raysonkoh"},"content":"```"},{"lineNumber":219,"author":{"gitId":"raysonkoh"},"content":"environment:"},{"lineNumber":220,"author":{"gitId":"raysonkoh"},"content":"  nodejs_version: \u002710\u0027"},{"lineNumber":221,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":222,"author":{"gitId":"raysonkoh"},"content":"branches:"},{"lineNumber":223,"author":{"gitId":"raysonkoh"},"content":"  only:"},{"lineNumber":224,"author":{"gitId":"raysonkoh"},"content":"    - master"},{"lineNumber":225,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":226,"author":{"gitId":"raysonkoh"},"content":"install:"},{"lineNumber":227,"author":{"gitId":"raysonkoh"},"content":"  - ps: Install-Product node $env:nodejs_version"},{"lineNumber":228,"author":{"gitId":"raysonkoh"},"content":"  - npm i -g markbind-cli"},{"lineNumber":229,"author":{"gitId":"raysonkoh"},"content":"  - markbind build"},{"lineNumber":230,"author":{"gitId":"raysonkoh"},"content":"  - markbind deploy --ci"},{"lineNumber":231,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":232,"author":{"gitId":"raysonkoh"},"content":"test: off"},{"lineNumber":233,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":234,"author":{"gitId":"raysonkoh"},"content":"build: off"},{"lineNumber":235,"author":{"gitId":"raysonkoh"},"content":"```"},{"lineNumber":236,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":237,"author":{"gitId":"raysonkoh"},"content":"Commit and push `appveyor.yml` to your github repository. Thereafter, AppVeyor CI should begin to run the build script. You are able to view the current build status by clicking on your repository in the [AppVeyor projects page](https://ci.appveyor.com/projects). Once the build succeeds, you should be able to view your Markbind site, after a few seconds, at `http://\u003cusername|org\u003e.github.io/\u003crepo\u003e` e.g., http://se-edu.github.io/se-book. "},{"lineNumber":238,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":239,"author":{"gitId":"raysonkoh"},"content":"\u003c/panel\u003e"},{"lineNumber":240,"author":{"gitId":"-"},"content":"\u003chr\u003e"},{"lineNumber":241,"author":{"gitId":"-"},"content":""},{"lineNumber":242,"author":{"gitId":"-"},"content":"## Deploying to Netlify"},{"lineNumber":243,"author":{"gitId":"-"},"content":""},{"lineNumber":244,"author":{"gitId":"-"},"content":"**You can setup [\u003ctooltip content\u003d\"a platform for deploying static webpages (among other things)\"\u003eNetlify\u003c/tooltip\u003e](https://www.netlify.com/)"},{"lineNumber":245,"author":{"gitId":"-"},"content":" to automatically build and deploy your site on their platform every time your GitHub repo is updated.**"},{"lineNumber":246,"author":{"gitId":"-"},"content":""},{"lineNumber":247,"author":{"gitId":"-"},"content":"Here are the steps to set up Netlify:"},{"lineNumber":248,"author":{"gitId":"-"},"content":""},{"lineNumber":249,"author":{"gitId":"-"},"content":"1. Go to https://app.netlify.com/ and sign up"},{"lineNumber":250,"author":{"gitId":"-"},"content":"1. Next go to https://app.netlify.com/account/sites and select `New site from Git`"},{"lineNumber":251,"author":{"gitId":"-"},"content":"1. Select your git provider"},{"lineNumber":252,"author":{"gitId":"-"},"content":"   \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Create a new site\" var-file\u003d\"netlifyPreview1.png\" inline /\u003e"},{"lineNumber":253,"author":{"gitId":"-"},"content":"1. Select your markbind site repository"},{"lineNumber":254,"author":{"gitId":"-"},"content":"   \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Select repository\" var-file\u003d\"netlifyPreview2.png\" inline /\u003e"},{"lineNumber":255,"author":{"gitId":"-"},"content":"1. Update the build settings as follows and hit `Deploy site`:"},{"lineNumber":256,"author":{"gitId":"-"},"content":"   - `Build Command`: `npm i markbind-cli -g \u0026\u0026 markbind build --baseUrl`"},{"lineNumber":257,"author":{"gitId":"-"},"content":"   - `Publish directory`: `_site`"},{"lineNumber":258,"author":{"gitId":"raysonkoh"},"content":"   - `Show advanced`: Add a new variable with the key as `NODE_VERSION` and the value as **`10` or higher**"},{"lineNumber":259,"author":{"gitId":"-"},"content":"   \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Update build settings\" var-file\u003d\"netlifyPreview3.png\" inline /\u003e"},{"lineNumber":260,"author":{"gitId":"raysonkoh"},"content":"   \u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Advanced build settings\" var-file\u003d\"netlifyPreview3-advanced.png\" inline /\u003e"},{"lineNumber":261,"author":{"gitId":"-"},"content":""},{"lineNumber":262,"author":{"gitId":"-"},"content":"Now your site will be deployed on Netlify at the given address specified after deployment. It will be updated automatically when the default branch of your repo is updated."},{"lineNumber":263,"author":{"gitId":"-"},"content":""},{"lineNumber":264,"author":{"gitId":"-"},"content":"Additionally, **when contributors make a pull request to your GitHub repo, you can _preview_ the updated site** at the bottom of the pull request by clicking on `details` link in the PR:"},{"lineNumber":265,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"screenshot.md\" boilerplate var-alt\u003d\"Preview deploy\" var-file\u003d\"netlifyPreview4.png\" inline /\u003e"},{"lineNumber":266,"author":{"gitId":"-"},"content":""},{"lineNumber":267,"author":{"gitId":"-"},"content":"{{ icon_info }} Note that when Netlify is set up as explained above, it will use the latest version of MarkBind which may be a later version than the one you use locally. If you want Netlify to use a specific version of Netlify, follow the instructions in the box below:"},{"lineNumber":268,"author":{"gitId":"-"},"content":""},{"lineNumber":269,"author":{"gitId":"-"},"content":"\u003cbox\u003e"},{"lineNumber":270,"author":{"gitId":"-"},"content":""},{"lineNumber":271,"author":{"gitId":"-"},"content":"##### Setting up Netlify to use a specific version of MarkBind"},{"lineNumber":272,"author":{"gitId":"-"},"content":""},{"lineNumber":273,"author":{"gitId":"-"},"content":"Here are the steps to set up Netlify to use a specific version of MarkBind."},{"lineNumber":274,"author":{"gitId":"-"},"content":""},{"lineNumber":275,"author":{"gitId":"-"},"content":"1. Navigate to the root directory of your site."},{"lineNumber":276,"author":{"gitId":"-"},"content":"1. run `npm init` which will create `package.json` and `package.lock.json`"},{"lineNumber":277,"author":{"gitId":"-"},"content":"1. run `npm install markbind-cli@1.6.3 --save` to install markbind as a dependency (using v1.6.3 as an example)"},{"lineNumber":278,"author":{"gitId":"-"},"content":"1. create/update `.gitignore` file in the root directory and add:"},{"lineNumber":279,"author":{"gitId":"dcshzj"},"content":"   ```{.no-line-numbers}"},{"lineNumber":280,"author":{"gitId":"-"},"content":"   node_modules"},{"lineNumber":281,"author":{"gitId":"-"},"content":"   ```"},{"lineNumber":282,"author":{"gitId":"-"},"content":"1. update `ignore` in site.json to include"},{"lineNumber":283,"author":{"gitId":"dcshzj"},"content":"   ```{.no-line-numbers}"},{"lineNumber":284,"author":{"gitId":"-"},"content":"   node_modules/*"},{"lineNumber":285,"author":{"gitId":"-"},"content":"   .gitignore"},{"lineNumber":286,"author":{"gitId":"-"},"content":"   ```"},{"lineNumber":287,"author":{"gitId":"-"},"content":""},{"lineNumber":288,"author":{"gitId":"-"},"content":"1. Now, follow the [previous instructions for setting up Netlify](#deploying-to-netlify) but with the following difference:\u003cbr\u003e"},{"lineNumber":289,"author":{"gitId":"-"},"content":"   In step 5, \u003d\u003dSet the `Build Command` to `markbind build --baseUrl`\u003d\u003d"},{"lineNumber":290,"author":{"gitId":"-"},"content":""},{"lineNumber":291,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":292,"author":{"gitId":"-"},"content":""},{"lineNumber":293,"author":{"gitId":"-"},"content":"{% from \"njk/common.njk\" import previous_next %}"},{"lineNumber":294,"author":{"gitId":"-"},"content":"{{ previous_next(\u0027themes\u0027, \u0027markBindInTheProjectWorkflow\u0027) }}"}],"authorContributionMap":{"raysonkoh":90,"dcshzj":2,"-":202}},{"path":"docs/userGuide/plugins/algolia.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"### Plugin: Algolia"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"This plugin allows you to use [Algolia DocSearch](https://community.algolia.com/docsearch/) for your site."},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"To enable it, add `algolia` to your site\u0027s plugins, and supply the required options via the `pluginsContext`.  "},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"Name | Type | Default | Description"},{"lineNumber":8,"author":{"gitId":"-"},"content":"---- | ---- | ------- | ------"},{"lineNumber":9,"author":{"gitId":"-"},"content":"apiKey | `String` || The API key for your site\u0027s Algolia DocSearch setup"},{"lineNumber":10,"author":{"gitId":"-"},"content":"indexName | `String` || The index name for your site\u0027s Algolia DocSearch setup"},{"lineNumber":11,"author":{"gitId":"-"},"content":"algoliaOptions | `Object` | `{}` | A JSON object specifying [additional options for DocSearch](https://community.algolia.com/docsearch/behavior.html#algoliaoptions)"},{"lineNumber":12,"author":{"gitId":"-"},"content":"debug | `Boolean` | `false` | Whether to turn on debug mode to allow inspection of CSS styles for the dropdown"},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"dcshzj"},"content":"```js {heading\u003d\"site.json\"}"},{"lineNumber":15,"author":{"gitId":"-"},"content":"{"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":17,"author":{"gitId":"-"},"content":"  \"plugins\": ["},{"lineNumber":18,"author":{"gitId":"-"},"content":"    \"algolia\""},{"lineNumber":19,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  \"pluginsContext\": {"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    \"algolia\": {"},{"lineNumber":22,"author":{"gitId":"-"},"content":"      \"apiKey\": \"25626fae796133dc1e734c6bcaaeac3c\", // replace with your site\u0027s api key"},{"lineNumber":23,"author":{"gitId":"-"},"content":"      \"indexName\": \"docsearch\", // replace with your site\u0027s index name"},{"lineNumber":24,"author":{"gitId":"-"},"content":"      \"algoliaOptions\": { \"hitsPerPage\": 10 }, // optional"},{"lineNumber":25,"author":{"gitId":"-"},"content":"      \"debug\": false // optional"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":28,"author":{"gitId":"-"},"content":"}"},{"lineNumber":29,"author":{"gitId":"-"},"content":"```"},{"lineNumber":30,"author":{"gitId":"-"},"content":""},{"lineNumber":31,"author":{"gitId":"-"},"content":"To connect the `searchbar` component to Algolia DocSearch, add the `algolia` key."},{"lineNumber":32,"author":{"gitId":"-"},"content":""},{"lineNumber":33,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":34,"author":{"gitId":"-"},"content":"\u003csearchbar placeholder\u003d\"Search\" algolia menu-align-right\u003e\u003c/searchbar\u003e"},{"lineNumber":35,"author":{"gitId":"-"},"content":"```"},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"Alternatively, if you are using a custom search bar, you can assign the input field the id `algolia-search-input` to connect it to Algolia DocSearch."},{"lineNumber":38,"author":{"gitId":"-"},"content":""},{"lineNumber":39,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":40,"author":{"gitId":"-"},"content":"\u003cinput id\u003d\"algolia-search-input\"\u003e"},{"lineNumber":41,"author":{"gitId":"-"},"content":"```"},{"lineNumber":42,"author":{"gitId":"-"},"content":""},{"lineNumber":43,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":44,"author":{"gitId":"-"},"content":""},{"lineNumber":45,"author":{"gitId":"-"},"content":"By default, Algolia DocSearch indexes all content on the page, including content in components that are hidden to the user during the initial render (e.g. Panels). To exclude these content from being indexed, you can add `.algolia-no-index` to the [`selectors_exclude`](https://community.algolia.com/docsearch/config-file.html#selectors_exclude-optional) attribute in your DocSearch configuration."},{"lineNumber":46,"author":{"gitId":"-"},"content":""},{"lineNumber":47,"author":{"gitId":"-"},"content":"The `algolia-no-index` class is automatically added to content hidden by MarkBind\u0027s Vue components. You may also add the `algolia-no-index` class to content that you do not want to be indexed by Algolia DocSearch."},{"lineNumber":48,"author":{"gitId":"-"},"content":""},{"lineNumber":49,"author":{"gitId":"-"},"content":"\u003c/box\u003e"}],"authorContributionMap":{"dcshzj":1,"-":48}},{"path":"docs/userGuide/plugins/codeBlockCopyButtons.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"### Plugin: `codeBlockCopyButtons`"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"This plugin adds a \u0027copy\u0027 button to fenced code blocks so that readers can copy the code easily."},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"To enable it, simply add `codeBlockCopyButtons` to your site\u0027s plugins."},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"dcshzj"},"content":"```js {heading\u003d\"site.json\"}"},{"lineNumber":8,"author":{"gitId":"-"},"content":"{"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":10,"author":{"gitId":"-"},"content":"  \"plugins\": ["},{"lineNumber":11,"author":{"gitId":"-"},"content":"    \"codeBlockCopyButtons\""},{"lineNumber":12,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":13,"author":{"gitId":"-"},"content":"}"},{"lineNumber":14,"author":{"gitId":"-"},"content":"```"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"This is what it\u0027ll look like once added"},{"lineNumber":17,"author":{"gitId":"-"},"content":""},{"lineNumber":18,"author":{"gitId":"-"},"content":"\u003cpic src\u003d\"{{baseUrl}}/images/copyCode.png\" width\u003d\"750\" alt\u003d\"copyCode\"/\u003e"}],"authorContributionMap":{"dcshzj":1,"-":17}},{"path":"docs/userGuide/plugins/disqus.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"wxwxwxwx9"},"content":"### Plugin: Disqus "},{"lineNumber":2,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":3,"author":{"gitId":"wxwxwxwx9"},"content":"This plugin allows you to use [Disqus](https://disqus.com/) for your site."},{"lineNumber":4,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":5,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cbox type\u003d\"info\"\u003e"},{"lineNumber":6,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":7,"author":{"gitId":"wxwxwxwx9"},"content":"Before you can use this plugin, you need to **(1) setup a Disqus account** and **(2) register your site**. "},{"lineNumber":8,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":9,"author":{"gitId":"wxwxwxwx9"},"content":"You may sign up for a Disqus account and register your site [here](https://disqus.com/admin/create/). "},{"lineNumber":10,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":11,"author":{"gitId":"wxwxwxwx9"},"content":"Note that you **++do not have to install Disqus on your site++**, this plugin does it for you. "},{"lineNumber":12,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":13,"author":{"gitId":"wxwxwxwx9"},"content":"All you have to do is provide the `shortname` of your Disqus site, which is explained below. "},{"lineNumber":14,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":15,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/box\u003e"},{"lineNumber":16,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":17,"author":{"gitId":"wxwxwxwx9"},"content":"To enable this plugin, add `disqus` to your site\u0027s plugins, and supply the required options via the `pluginsContext`.  "},{"lineNumber":18,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":19,"author":{"gitId":"wxwxwxwx9"},"content":"Name | Type | Default | Description"},{"lineNumber":20,"author":{"gitId":"wxwxwxwx9"},"content":"---- | ---- | ------- | ------"},{"lineNumber":21,"author":{"gitId":"wxwxwxwx9"},"content":"shortname| `String` || Shortname is provided by Disqus. Follow this [guide](https://help.disqus.com/en/articles/1717111-what-s-a-shortname) to get shortname for your Disqus site."},{"lineNumber":22,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":23,"author":{"gitId":"wxwxwxwx9"},"content":"```js {heading\u003d\"site.json\"}"},{"lineNumber":24,"author":{"gitId":"wxwxwxwx9"},"content":"{"},{"lineNumber":25,"author":{"gitId":"wxwxwxwx9"},"content":"  ..."},{"lineNumber":26,"author":{"gitId":"wxwxwxwx9"},"content":"  \"plugins\": ["},{"lineNumber":27,"author":{"gitId":"wxwxwxwx9"},"content":"    \"disqus\""},{"lineNumber":28,"author":{"gitId":"wxwxwxwx9"},"content":"  ],"},{"lineNumber":29,"author":{"gitId":"wxwxwxwx9"},"content":"  \"pluginsContext\": {"},{"lineNumber":30,"author":{"gitId":"wxwxwxwx9"},"content":"    \"disqus\": {"},{"lineNumber":31,"author":{"gitId":"wxwxwxwx9"},"content":"      \"shortname\": \"YOUR_DISQUS_SITE_SHORTNAME\", // replace with your Disqus site\u0027s shortname "},{"lineNumber":32,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":33,"author":{"gitId":"wxwxwxwx9"},"content":"  }"},{"lineNumber":34,"author":{"gitId":"wxwxwxwx9"},"content":"}"},{"lineNumber":35,"author":{"gitId":"wxwxwxwx9"},"content":"```"},{"lineNumber":36,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":37,"author":{"gitId":"wxwxwxwx9"},"content":"Then, to add a Disqus comment section on a page, all you need to do is to add a `\u003cdisqus/\u003e` HTML tag to any MarkBind source file. "},{"lineNumber":38,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":39,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cbox type\u003d\"tip\"\u003e"},{"lineNumber":40,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":41,"author":{"gitId":"wxwxwxwx9"},"content":"It may be a good idea to create a [layout]({{ baseUrl }}/userGuide/tweakingThePageStructure.html#layouts) with `\u003cdisqus/\u003e` in it, so that you won\u0027t have to repeat it on every page."},{"lineNumber":42,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":43,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/box\u003e"}],"authorContributionMap":{"wxwxwxwx9":43}},{"path":"docs/userGuide/plugins/googleAnalytics.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"### Plugin: GoogleAnalytics"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"This plugin allows your web pages to be captured by [google analytics](https://analytics.google.com/analytics/web/#/)."},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"To enable it, add `googleAnalytics` to your site\u0027s plugins, and add the `trackingID` parameter via the `pluginsContext`."},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"Name | Type | Default | Description"},{"lineNumber":8,"author":{"gitId":"-"},"content":"---- | ---- | ------- | ------"},{"lineNumber":9,"author":{"gitId":"-"},"content":"trackingID | `String` || Tracking ID provided by Google. Follow this [guide](https://support.google.com/analytics/answer/1008080) to get your Tracking ID."},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"dcshzj"},"content":"```js {heading\u003d\"site.json\"}"},{"lineNumber":12,"author":{"gitId":"-"},"content":"{"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":14,"author":{"gitId":"-"},"content":"  \"plugins\": ["},{"lineNumber":15,"author":{"gitId":"-"},"content":"    \"googleAnalytics\""},{"lineNumber":16,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  \"pluginsContext\": {"},{"lineNumber":18,"author":{"gitId":"-"},"content":"    \"googleAnalytics\": {"},{"lineNumber":19,"author":{"gitId":"-"},"content":"      \"trackingID\": \"YOUR-TRACKING-ID\", // replace with your google analytics tracking id."},{"lineNumber":20,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":22,"author":{"gitId":"-"},"content":"}"},{"lineNumber":23,"author":{"gitId":"-"},"content":"```"}],"authorContributionMap":{"dcshzj":1,"-":22}},{"path":"docs/userGuide/reusingContents.md","fileType":"md","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"{% set title \u003d \"Reusing Contents\" %}"},{"lineNumber":2,"author":{"gitId":"-"},"content":"{% set filename \u003d \"reusingContents\" %}"},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"title\" class\u003d\"d-none\"\u003e{{ title }}\u003c/span\u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"\u003cfrontmatter\u003e"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  title: \"User Guide: {{ title }}\""},{"lineNumber":7,"author":{"gitId":"-"},"content":"  layout: userGuide.md"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  pageNav: 4"},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003c/frontmatter\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"link\" class\u003d\"d-none\"\u003e"},{"lineNumber":12,"author":{"gitId":"-"},"content":"\u003cmd\u003e[_User Guide → {{ title }}_]({{ filename }}.html)\u003c/md\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":14,"author":{"gitId":"-"},"content":""},{"lineNumber":15,"author":{"gitId":"-"},"content":"# {{ title }}"},{"lineNumber":16,"author":{"gitId":"-"},"content":""},{"lineNumber":17,"author":{"gitId":"-"},"content":"\u003cspan class\u003d\"lead\" id\u003d\"overview\"\u003e"},{"lineNumber":18,"author":{"gitId":"-"},"content":""},{"lineNumber":19,"author":{"gitId":"-"},"content":"**MarkBind is highly-optimized for content reuse**. It offers several mechanisms to provide readers with many variations of the content while minimizing duplication at source file level. As a result, instead of creating a one-size-fits-all site, MarkBind can create a site in which readers can chart their own path of reading."},{"lineNumber":20,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":21,"author":{"gitId":"-"},"content":""},{"lineNumber":22,"author":{"gitId":"-"},"content":""},{"lineNumber":23,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"syntax/variables.mbdf\" /\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":""},{"lineNumber":25,"author":{"gitId":"-"},"content":"\u003chr\u003e\u003c!-- \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d --\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":""},{"lineNumber":27,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"syntax/includes.mbdf\" /\u003e"},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"\u003chr\u003e\u003c!-- \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d --\u003e"},{"lineNumber":30,"author":{"gitId":"-"},"content":""},{"lineNumber":31,"author":{"gitId":"-"},"content":"## Reusing Contents Across Sites"},{"lineNumber":32,"author":{"gitId":"-"},"content":""},{"lineNumber":33,"author":{"gitId":"-"},"content":"**MarkBind supports reusing across sites.** It allows you to include the pages you want from a _sub-site_ in another _main-site_ without having to change anything in the source files of the _sub-site_ as long as the sub-site source files are inside the directory of the _main site_."},{"lineNumber":34,"author":{"gitId":"-"},"content":""},{"lineNumber":35,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"{{ icon_example }} Suppose you have a site `textbook` and you want to include some pages from it in another site `course`. Given below is how you can locate the sub-site `textbook` inside the root directory of the main-site `course` so that files from `textbook` can be reused in the `course` site."},{"lineNumber":38,"author":{"gitId":"dcshzj"},"content":"```{.no-line-numbers}"},{"lineNumber":39,"author":{"gitId":"dcshzj"},"content":"C:/course/"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  ├── textbook/"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  |      ├── index.md"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  |      ├── overview.md"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  |      └── site.json"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  ├── index.md"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  ├── reading.md"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  └── site.json"},{"lineNumber":47,"author":{"gitId":"-"},"content":"```"},{"lineNumber":48,"author":{"gitId":"-"},"content":""},{"lineNumber":49,"author":{"gitId":"-"},"content":"`reading.md` (note how it reuses content from the sub-site `textbook`):"},{"lineNumber":50,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":51,"author":{"gitId":"-"},"content":"# Week 1 Reading:"},{"lineNumber":52,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"textbook/overview.md\" /\u003e"},{"lineNumber":53,"author":{"gitId":"-"},"content":"```"},{"lineNumber":54,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":55,"author":{"gitId":"-"},"content":""},{"lineNumber":56,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"tip.md\" boilerplate \u003e"},{"lineNumber":57,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"tip_body\"\u003e"},{"lineNumber":58,"author":{"gitId":"-"},"content":"If you are using Git for version control, you can set up the sub-site repository as a [Git sub-module](https://git-scm.com/book/en/v2/Git-Tools-Submodules) of the main site repository."},{"lineNumber":59,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":60,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":61,"author":{"gitId":"-"},"content":""},{"lineNumber":62,"author":{"gitId":"-"},"content":""},{"lineNumber":63,"author":{"gitId":"-"},"content":"\u003chr\u003e\u003c!-- \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d --\u003e"},{"lineNumber":64,"author":{"gitId":"-"},"content":""},{"lineNumber":65,"author":{"gitId":"-"},"content":"## Creating Content Variations"},{"lineNumber":66,"author":{"gitId":"-"},"content":""},{"lineNumber":67,"author":{"gitId":"-"},"content":"**MarkBind can create sites that give more control to the reader.** Given below are some mechanisms authors can use to create variations of content that gives more control to the reader in charting their own path through the content."},{"lineNumber":68,"author":{"gitId":"-"},"content":""},{"lineNumber":69,"author":{"gitId":"-"},"content":""},{"lineNumber":70,"author":{"gitId":"-"},"content":"#### Allowing users to remove some contents"},{"lineNumber":71,"author":{"gitId":"-"},"content":""},{"lineNumber":72,"author":{"gitId":"-"},"content":"When the readers can remove an item from a page, they can create their own version of the page by removing items they don\u0027t want to see. This is especially useful when printing a page."},{"lineNumber":73,"author":{"gitId":"-"},"content":""},{"lineNumber":74,"author":{"gitId":"-"},"content":"To make an element closeable, use `v-closeable`."},{"lineNumber":75,"author":{"gitId":"-"},"content":""},{"lineNumber":76,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":77,"author":{"gitId":"-"},"content":""},{"lineNumber":78,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":79,"author":{"gitId":"-"},"content":"\u003cdiv v-closeable\u003e"},{"lineNumber":80,"author":{"gitId":"-"},"content":""},{"lineNumber":81,"author":{"gitId":"-"},"content":"Optional video:"},{"lineNumber":82,"author":{"gitId":"-"},"content":""},{"lineNumber":83,"author":{"gitId":"-"},"content":"@[youtube](v40b3ExbM0c)"},{"lineNumber":84,"author":{"gitId":"-"},"content":""},{"lineNumber":85,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":86,"author":{"gitId":"-"},"content":"```"},{"lineNumber":87,"author":{"gitId":"-"},"content":""},{"lineNumber":88,"author":{"gitId":"-"},"content":"This is how the content will appear. Note how you can hover over the content to access the :x: button that can collapse the content."},{"lineNumber":89,"author":{"gitId":"-"},"content":"\u003cdiv v-closeable\u003e"},{"lineNumber":90,"author":{"gitId":"-"},"content":""},{"lineNumber":91,"author":{"gitId":"-"},"content":"Optional video:"},{"lineNumber":92,"author":{"gitId":"-"},"content":""},{"lineNumber":93,"author":{"gitId":"-"},"content":"@[youtube](v40b3ExbM0c)"},{"lineNumber":94,"author":{"gitId":"-"},"content":""},{"lineNumber":95,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":96,"author":{"gitId":"-"},"content":""},{"lineNumber":97,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":98,"author":{"gitId":"-"},"content":""},{"lineNumber":99,"author":{"gitId":"-"},"content":"#### Giving alternative contents"},{"lineNumber":100,"author":{"gitId":"-"},"content":""},{"lineNumber":101,"author":{"gitId":"-"},"content":"You can use a [_Tabs_ component](usingComponents.html#tabs) to give alternative versions of content, for example, giving a code snippet in different programming languages."},{"lineNumber":102,"author":{"gitId":"-"},"content":""},{"lineNumber":103,"author":{"gitId":"-"},"content":"#### Giving access to additional contents"},{"lineNumber":104,"author":{"gitId":"-"},"content":""},{"lineNumber":105,"author":{"gitId":"-"},"content":"You can use following components to give readers an option to access additional content at their discretion."},{"lineNumber":106,"author":{"gitId":"-"},"content":"* [Tooltips](usingComponents.html#tooltip), [Popovers](usingComponents.html#popover), [Modals](usingComponents.html#modal)"},{"lineNumber":107,"author":{"gitId":"-"},"content":"* [Expandable Panels](usingComponents.html#panel)"},{"lineNumber":108,"author":{"gitId":"-"},"content":""},{"lineNumber":109,"author":{"gitId":"-"},"content":"#### Organizing contents in alternative ways"},{"lineNumber":110,"author":{"gitId":"-"},"content":""},{"lineNumber":111,"author":{"gitId":"-"},"content":"You can take advantage of [MarkBinds feature for content reuse](reusingContents.html), you can organize content in alternative ways to cater for different readers, without having to duplicate content. For example, you can have different pages that organizes the same information alphabetically, chronologically, by difficulty, group information by topic, etc."},{"lineNumber":112,"author":{"gitId":"-"},"content":""},{"lineNumber":113,"author":{"gitId":"-"},"content":"#### Optimizing the Print View"},{"lineNumber":114,"author":{"gitId":"-"},"content":""},{"lineNumber":115,"author":{"gitId":"-"},"content":"To \u003cspan class\u003d\"keyword\"\u003ehide minimized panels in the _print view_\u003c/span\u003e, add the following code to a CSS file used in your site."},{"lineNumber":116,"author":{"gitId":"-"},"content":""},{"lineNumber":117,"author":{"gitId":"-"},"content":"```css"},{"lineNumber":118,"author":{"gitId":"-"},"content":"@media print {"},{"lineNumber":119,"author":{"gitId":"-"},"content":"    .card-container \u003e .morph {"},{"lineNumber":120,"author":{"gitId":"-"},"content":"        display: none;"},{"lineNumber":121,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":122,"author":{"gitId":"-"},"content":"}"},{"lineNumber":123,"author":{"gitId":"-"},"content":"```"},{"lineNumber":124,"author":{"gitId":"-"},"content":""},{"lineNumber":125,"author":{"gitId":"-"},"content":"#### Hiding some info in the generated content"},{"lineNumber":126,"author":{"gitId":"-"},"content":""},{"lineNumber":127,"author":{"gitId":"-"},"content":"To permanently hide a fragment from the reader:"},{"lineNumber":128,"author":{"gitId":"-"},"content":""},{"lineNumber":129,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":130,"author":{"gitId":"-"},"content":"\u003cspan class\u003d\"d-none\"\u003e"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  content to hide ..."},{"lineNumber":132,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":133,"author":{"gitId":"-"},"content":""},{"lineNumber":134,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"...\" add-class\u003d\"d-none\"\u003e"},{"lineNumber":135,"author":{"gitId":"-"},"content":"  content to hide ..."},{"lineNumber":136,"author":{"gitId":"-"},"content":"\u003cpanel\u003e"},{"lineNumber":137,"author":{"gitId":"-"},"content":"```"},{"lineNumber":138,"author":{"gitId":"-"},"content":""},{"lineNumber":139,"author":{"gitId":"-"},"content":"To hide a fragment in one specific page, \u0027mark\u0027 the elements using a `class`:"},{"lineNumber":140,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":141,"author":{"gitId":"-"},"content":"\u003cspan class\u003d\"extra\"\u003e"},{"lineNumber":142,"author":{"gitId":"-"},"content":"  content to hide ..."},{"lineNumber":143,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":144,"author":{"gitId":"-"},"content":"```"},{"lineNumber":145,"author":{"gitId":"-"},"content":""},{"lineNumber":146,"author":{"gitId":"-"},"content":"Then, in a page-specific CSS file,"},{"lineNumber":147,"author":{"gitId":"-"},"content":"```css"},{"lineNumber":148,"author":{"gitId":"-"},"content":".extra {"},{"lineNumber":149,"author":{"gitId":"-"},"content":"  display: none; /* \u0027block\u0027 or \u0027inline-block\u0027 if you want it to show */"},{"lineNumber":150,"author":{"gitId":"-"},"content":"}"},{"lineNumber":151,"author":{"gitId":"-"},"content":"```"},{"lineNumber":152,"author":{"gitId":"-"},"content":""},{"lineNumber":153,"author":{"gitId":"-"},"content":"#### Creating slight variations of content"},{"lineNumber":154,"author":{"gitId":"-"},"content":""},{"lineNumber":155,"author":{"gitId":"-"},"content":"Tags are a good way to create multiple variations of a page within the same source file, such as to filter content for creating multiple different versions of the same page. See [_User Guide: Tweaking the Page Structure → Tags_](tweakingThePageStructure.html#tags) section for more information."},{"lineNumber":156,"author":{"gitId":"-"},"content":""},{"lineNumber":157,"author":{"gitId":"-"},"content":"{% from \"njk/common.njk\" import previous_next %}"},{"lineNumber":158,"author":{"gitId":"-"},"content":"{{ previous_next(\u0027tweakingThePageStructure\u0027, \u0027workingWithSites\u0027) }}"}],"authorContributionMap":{"dcshzj":2,"-":156}},{"path":"docs/userGuide/siteJsonFile.md","fileType":"md","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cfrontmatter\u003e"},{"lineNumber":2,"author":{"gitId":"-"},"content":"  title: \"site.json File\""},{"lineNumber":3,"author":{"gitId":"-"},"content":"  layout: userGuide.md"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  keywords: site.json"},{"lineNumber":5,"author":{"gitId":"-"},"content":"\u003c/frontmatter\u003e"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"# `site.json` File"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003cspan class\u003d\"lead\"\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"The `site.json` file {{ tooltip_root_directory }} is used to configure various aspects of a MarkBind website."},{"lineNumber":12,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"-"},"content":"Here is a typical `site.json` file:"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"```json"},{"lineNumber":17,"author":{"gitId":"-"},"content":"{"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  \"baseUrl\": \"/myproduct\","},{"lineNumber":19,"author":{"gitId":"-"},"content":"  \"faviconPath\": \"myfavicon.png\","},{"lineNumber":20,"author":{"gitId":"-"},"content":"  \"titlePrefix\": \"FooBar Dev Docs\","},{"lineNumber":21,"author":{"gitId":"-"},"content":"  \"style\": {"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    \"bootstrapTheme\": \"bootswatch-cerulean\","},{"lineNumber":23,"author":{"gitId":"-"},"content":"    \"codeTheme\": \"light\""},{"lineNumber":24,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  \"pages\": ["},{"lineNumber":26,"author":{"gitId":"-"},"content":"    {"},{"lineNumber":27,"author":{"gitId":"-"},"content":"      \"src\": \"index.md\","},{"lineNumber":28,"author":{"gitId":"-"},"content":"      \"title\": \"Hello World\","},{"lineNumber":29,"author":{"gitId":"-"},"content":"      \"layout\": \"normal\","},{"lineNumber":30,"author":{"gitId":"-"},"content":"      \"searchable\": \"no\","},{"lineNumber":31,"author":{"gitId":"-"},"content":"      \"externalScripts\": ["},{"lineNumber":32,"author":{"gitId":"-"},"content":"        \"https://cdn.plot.ly/plotly-latest.min.js\""},{"lineNumber":33,"author":{"gitId":"-"},"content":"      ],"},{"lineNumber":34,"author":{"gitId":"-"},"content":"      \"frontmatter\": {"},{"lineNumber":35,"author":{"gitId":"-"},"content":"        \"header\": \"header.md\""},{"lineNumber":36,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    {"},{"lineNumber":39,"author":{"gitId":"-"},"content":"      \"glob\": \"topics/**/*.md\","},{"lineNumber":40,"author":{"gitId":"-"},"content":"      \"globExclude\": [\"topics/*/appendix/*.md\"],"},{"lineNumber":41,"author":{"gitId":"-"},"content":"      \"layout\": \"subtopic\""},{"lineNumber":42,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  \"pagesExclude\": [\"subsite/**/*.md\"],"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  \"externalScripts\": ["},{"lineNumber":46,"author":{"gitId":"-"},"content":"    \"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config\u003dTeX-MML-AM_CHTML\""},{"lineNumber":47,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":48,"author":{"gitId":"-"},"content":"  \"deploy\": {"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    \"message\": \"Site Update.\","},{"lineNumber":50,"author":{"gitId":"-"},"content":"    \"repo\": \"https://github.com/myorg/myrepo.git\","},{"lineNumber":51,"author":{"gitId":"-"},"content":"    \"branch\": \"gh-pages\""},{"lineNumber":52,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  \"globalOverride\": {"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    \"footer\": \"my-footer.md\""},{"lineNumber":55,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  \"ignore\": ["},{"lineNumber":57,"author":{"gitId":"-"},"content":"    \"_site/*\","},{"lineNumber":58,"author":{"gitId":"-"},"content":"    \"*.json\","},{"lineNumber":59,"author":{"gitId":"-"},"content":"    \"*.md\","},{"lineNumber":60,"author":{"gitId":"-"},"content":"    \"*.mbd\","},{"lineNumber":61,"author":{"gitId":"-"},"content":"    \".git/*\""},{"lineNumber":62,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":63,"author":{"gitId":"-"},"content":"  \"plugins\" : ["},{"lineNumber":64,"author":{"gitId":"-"},"content":"    \"filterTags\""},{"lineNumber":65,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  \"pluginsContext\" : {"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    \"filterTags\" : {"},{"lineNumber":68,"author":{"gitId":"-"},"content":"      \"tags\": [\"tag1\", \"tag2\"]"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":71,"author":{"gitId":"wxwxwxwx9"},"content":"  \"headingIndexingLevel\": 4,"},{"lineNumber":72,"author":{"gitId":"wxwxwxwx9"},"content":"  \"intrasiteLinkValidation\": {"},{"lineNumber":73,"author":{"gitId":"wxwxwxwx9"},"content":"    \"enabled\": false"},{"lineNumber":74,"author":{"gitId":"wxwxwxwx9"},"content":"  }"},{"lineNumber":75,"author":{"gitId":"-"},"content":"}"},{"lineNumber":76,"author":{"gitId":"-"},"content":"```"},{"lineNumber":77,"author":{"gitId":"-"},"content":""},{"lineNumber":78,"author":{"gitId":"-"},"content":"#### **`baseUrl`**"},{"lineNumber":79,"author":{"gitId":"-"},"content":""},{"lineNumber":80,"author":{"gitId":"-"},"content":"**The base url relative to your domain.** Default: `\"\"`(empty)."},{"lineNumber":81,"author":{"gitId":"-"},"content":""},{"lineNumber":82,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"deployingTheSite.md#warning-about-baseUrl\" /\u003e"},{"lineNumber":83,"author":{"gitId":"-"},"content":""},{"lineNumber":84,"author":{"gitId":"-"},"content":""},{"lineNumber":85,"author":{"gitId":"-"},"content":"#### **`faviconPath`**"},{"lineNumber":86,"author":{"gitId":"-"},"content":""},{"lineNumber":87,"author":{"gitId":"-"},"content":"**The location of the favicon.** Default: `favicon.ico`."},{"lineNumber":88,"author":{"gitId":"-"},"content":""},{"lineNumber":89,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":90,"author":{"gitId":"-"},"content":""},{"lineNumber":91,"author":{"gitId":"-"},"content":"%%{{ icon_info }} If the favicon was recently changed, you may need to force-refresh the Browser to see the new image.%%"},{"lineNumber":92,"author":{"gitId":"-"},"content":""},{"lineNumber":93,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":94,"author":{"gitId":"-"},"content":""},{"lineNumber":95,"author":{"gitId":"-"},"content":""},{"lineNumber":96,"author":{"gitId":"-"},"content":"#### **`titlePrefix`**"},{"lineNumber":97,"author":{"gitId":"-"},"content":""},{"lineNumber":98,"author":{"gitId":"-"},"content":"**The prefix for all page titles.** The separator \u003ccode\u003e-\u003c/code\u003e will be inserted by MarkBind."},{"lineNumber":99,"author":{"gitId":"-"},"content":""},{"lineNumber":100,"author":{"gitId":"-"},"content":""},{"lineNumber":101,"author":{"gitId":"-"},"content":"#### **`style`**"},{"lineNumber":102,"author":{"gitId":"-"},"content":""},{"lineNumber":103,"author":{"gitId":"-"},"content":"_(Optional)_ **The styling options to be applied to the site.** This includes:"},{"lineNumber":104,"author":{"gitId":"-"},"content":" "},{"lineNumber":105,"author":{"gitId":"-"},"content":"* **`bootstrapTheme`**"},{"lineNumber":106,"author":{"gitId":"-"},"content":" _(Optional)_ **The theme for the generated site.** Uses the default Bootstrap theme if not specified. See [User Guide: Themes](themes.html) for more details."},{"lineNumber":107,"author":{"gitId":"-"},"content":" "},{"lineNumber":108,"author":{"gitId":"-"},"content":"* **`codeTheme`** [Optional. Default: `\"dark\"`]\u003cbr\u003e"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  The theme used for fenced code blocks. Accepts either `\"light\"` or `\"dark\"`."},{"lineNumber":110,"author":{"gitId":"-"},"content":""},{"lineNumber":111,"author":{"gitId":"-"},"content":""},{"lineNumber":112,"author":{"gitId":"-"},"content":""},{"lineNumber":113,"author":{"gitId":"-"},"content":"#### **`pages`**"},{"lineNumber":114,"author":{"gitId":"-"},"content":""},{"lineNumber":115,"author":{"gitId":"-"},"content":"**An array of pages to be rendered.**"},{"lineNumber":116,"author":{"gitId":"-"},"content":""},{"lineNumber":117,"author":{"gitId":"-"},"content":"* **`src/glob`**"},{"lineNumber":118,"author":{"gitId":"-"},"content":"  * `src` can be used to specify a single file, or an array of files.\u003cbr\u003e"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  {{ icon_examples }} `docs/index.md` or `[ \u0027docs/index.md\u0027, \u0027docs/userGuide.md\u0027 ]` { .my-1 }"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  * `glob` can be used alternatively to define a file pattern in the [_glob syntax_](https://en.wikipedia.org/wiki/Glob_(programming)), or an array of such file patterns.\u003cbr\u003e"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  {{ icon_examples }} `**/*.md` or `[ \u0027**/*.md\u0027, \u0027**/*.mbdf\u0027 ]` { .my-2 }"},{"lineNumber":122,"author":{"gitId":"-"},"content":"* **`globExclude`**: An array of file patterns to be excluded from rendering when using `glob`, also defined in the glob syntax."},{"lineNumber":123,"author":{"gitId":"-"},"content":"* **`title`**: The page `\u003ctitle\u003e` for the generated web page. Titles specified here take priority over titles specified in the [front matter](addingPages.html#front-matter) of individual pages."},{"lineNumber":124,"author":{"gitId":"-"},"content":"* **`layout`**: The [layout](tweakingThePageStructure.html#page-layouts) to be used by the page. Default: `default`."},{"lineNumber":125,"author":{"gitId":"-"},"content":"* **`searchable`**: Specifies that the page(s) should be excluded from searching. Default: `yes`."},{"lineNumber":126,"author":{"gitId":"-"},"content":"* **`externalScripts`**: An array of external scripts to be referenced on the page. Scripts referenced will be run before the layout script."},{"lineNumber":127,"author":{"gitId":"-"},"content":"* **`frontMatter`**: Specifies properties to add to the front matter of a page or glob of pages. Overrides any existing properties if they have the same name, and overrides any front matter properties specified in `globalOverride`."},{"lineNumber":128,"author":{"gitId":"-"},"content":""},{"lineNumber":129,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"page-property-overriding\"\u003e"},{"lineNumber":130,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":131,"author":{"gitId":"-"},"content":""},{"lineNumber":132,"author":{"gitId":"-"},"content":"Note: Page properties that are defined in `site.json` for a particular page will override those defined in the front matter of the page."},{"lineNumber":133,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":134,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":135,"author":{"gitId":"-"},"content":""},{"lineNumber":136,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"page-glob-overriding\"\u003e"},{"lineNumber":137,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":138,"author":{"gitId":"-"},"content":""},{"lineNumber":139,"author":{"gitId":"-"},"content":"Note: If multiple **`src`** (pages) or **`glob`** (globs) attributes match a file, MarkBind will merge properties from all entries. If there are conflicting properties, pages are given priority over globs. If there are multiple matching glob entries, the last entry is given priority."},{"lineNumber":140,"author":{"gitId":"-"},"content":""},{"lineNumber":141,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":142,"author":{"gitId":"-"},"content":""},{"lineNumber":143,"author":{"gitId":"-"},"content":"{{ icon_example }} Multiple entries matching `index.md`:"},{"lineNumber":144,"author":{"gitId":"-"},"content":""},{"lineNumber":145,"author":{"gitId":"-"},"content":"```js"},{"lineNumber":146,"author":{"gitId":"-"},"content":"{"},{"lineNumber":147,"author":{"gitId":"-"},"content":"  \"pages\": ["},{"lineNumber":148,"author":{"gitId":"-"},"content":"    {"},{"lineNumber":149,"author":{"gitId":"-"},"content":"      \"src\": \"index.md\","},{"lineNumber":150,"author":{"gitId":"-"},"content":"      \"title\": \"Hello World\","},{"lineNumber":151,"author":{"gitId":"-"},"content":"      \"searchable\": \"no\""},{"lineNumber":152,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    {"},{"lineNumber":154,"author":{"gitId":"-"},"content":"      \"glob\": \"*.md\","},{"lineNumber":155,"author":{"gitId":"-"},"content":"      \"layout\": \"normal\","},{"lineNumber":156,"author":{"gitId":"-"},"content":"      \"searchable\": \"yes\""},{"lineNumber":157,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":158,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":159,"author":{"gitId":"-"},"content":"}"},{"lineNumber":160,"author":{"gitId":"-"},"content":"```"},{"lineNumber":161,"author":{"gitId":"-"},"content":""},{"lineNumber":162,"author":{"gitId":"-"},"content":"The following properties will apply to `index.md`:"},{"lineNumber":163,"author":{"gitId":"-"},"content":""},{"lineNumber":164,"author":{"gitId":"-"},"content":"```js"},{"lineNumber":165,"author":{"gitId":"-"},"content":"{"},{"lineNumber":166,"author":{"gitId":"-"},"content":"  \"src\": \"index.md\","},{"lineNumber":167,"author":{"gitId":"-"},"content":"  \"title\": \"Hello World\",  // Inherited from page"},{"lineNumber":168,"author":{"gitId":"-"},"content":"  \"layout\": \"normal\",      // Inherited from glob"},{"lineNumber":169,"author":{"gitId":"-"},"content":"  \"searchable\": \"no\",      // Page takes priority over glob"},{"lineNumber":170,"author":{"gitId":"-"},"content":"}"},{"lineNumber":171,"author":{"gitId":"-"},"content":"```"},{"lineNumber":172,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":173,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":174,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":175,"author":{"gitId":"-"},"content":""},{"lineNumber":176,"author":{"gitId":"-"},"content":"#### **`pagesExclude`**"},{"lineNumber":177,"author":{"gitId":"-"},"content":"**An array of file patterns to be excluded from rendering.** The exclusion pattern follows the glob syntax."},{"lineNumber":178,"author":{"gitId":"-"},"content":""},{"lineNumber":179,"author":{"gitId":"-"},"content":"This property is the global variant to the `globExclude` property and is functionally identical to it. If the two are used at once, the file patterns from both properties will be combined when excluding pages."},{"lineNumber":180,"author":{"gitId":"-"},"content":""},{"lineNumber":181,"author":{"gitId":"-"},"content":"#### **`externalScripts`**"},{"lineNumber":182,"author":{"gitId":"-"},"content":""},{"lineNumber":183,"author":{"gitId":"-"},"content":"**An array of external scripts to be referenced on all pages.** To reference an external script only on specific pages, `externalScripts` should be specified in `pages` instead. Scripts referenced will be run before the layout script."},{"lineNumber":184,"author":{"gitId":"-"},"content":""},{"lineNumber":185,"author":{"gitId":"-"},"content":"#### **`globalOverride`**"},{"lineNumber":186,"author":{"gitId":"-"},"content":""},{"lineNumber":187,"author":{"gitId":"-"},"content":"**Globally overrides properties in the front matter of all pages.** Any property included in the global override will automatically be merged with the front matter of every single page, and override them if the property exists."},{"lineNumber":188,"author":{"gitId":"-"},"content":""},{"lineNumber":189,"author":{"gitId":"-"},"content":"#### **`ignore`**"},{"lineNumber":190,"author":{"gitId":"-"},"content":""},{"lineNumber":191,"author":{"gitId":"-"},"content":"**An array of file patterns to be ignored when copying files to the generated site.** By default, MarkBind will copy all the files as assets of the generated site."},{"lineNumber":192,"author":{"gitId":"-"},"content":""},{"lineNumber":193,"author":{"gitId":"-"},"content":"The ignore pattern follows the [glob pattern used in .gitignore](https://git-scm.com/docs/gitignore#_pattern_format). For example, `*.md` ignores all markdown source files."},{"lineNumber":194,"author":{"gitId":"-"},"content":""},{"lineNumber":195,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"site-json-deploy\"\u003e"},{"lineNumber":196,"author":{"gitId":"-"},"content":""},{"lineNumber":197,"author":{"gitId":"-"},"content":"#### **`deploy`**"},{"lineNumber":198,"author":{"gitId":"-"},"content":""},{"lineNumber":199,"author":{"gitId":"-"},"content":"**The settings for [auto-deployment to Github pages](deployingTheSite.html).**"},{"lineNumber":200,"author":{"gitId":"-"},"content":""},{"lineNumber":201,"author":{"gitId":"-"},"content":"* **`message`** [Optional. Default: `\"Site Update.\"`]\u003cbr\u003e"},{"lineNumber":202,"author":{"gitId":"-"},"content":"  The commit message used for the deployment commit."},{"lineNumber":203,"author":{"gitId":"-"},"content":""},{"lineNumber":204,"author":{"gitId":"-"},"content":"* **`repo`** [Optional. Default: the current working project\u0027s repo]\u003cbr\u003e"},{"lineNumber":205,"author":{"gitId":"-"},"content":"  The repo you want to deploy to.\u003cbr\u003e"},{"lineNumber":206,"author":{"gitId":"-"},"content":"  Format: `\"https://github.com/\u003corg|username\u003e/\u003crepo\u003e.git\"` (`\"git@github.com:\u003corg|username\u003e/\u003crepo\u003e.git\"` if you use SSH)\u003cbr\u003e"},{"lineNumber":207,"author":{"gitId":"-"},"content":"  {{ icon_example }} `\"https://github.com/myorg/myrepo.git\"`"},{"lineNumber":208,"author":{"gitId":"-"},"content":""},{"lineNumber":209,"author":{"gitId":"-"},"content":"* **`branch`** [Optional. Default: `\"gh-pages\"`]\u003cbr\u003e"},{"lineNumber":210,"author":{"gitId":"-"},"content":"  The branch that will be deployed to in the remote repo."},{"lineNumber":211,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":212,"author":{"gitId":"-"},"content":""},{"lineNumber":213,"author":{"gitId":"-"},"content":"#### **`plugins`**,  **`pluginsContext`**"},{"lineNumber":214,"author":{"gitId":"-"},"content":""},{"lineNumber":215,"author":{"gitId":"-"},"content":"**A list of plugins to load.** Plugins are user-defined extensions that can add custom features to MarkBind. `pluginsContext` contains settings to be applied to the loaded plugins. See [User Guide: Using Plugins](usingPlugins.html) for more details."},{"lineNumber":216,"author":{"gitId":"-"},"content":""},{"lineNumber":217,"author":{"gitId":"-"},"content":"The example above uses tags as an example of configuring plugin settings, refer to the [`filterTags` plugin](tweakingThePageStructure.html#filtertags-toggling-alternative-contents-in-a-page) for more details."},{"lineNumber":218,"author":{"gitId":"-"},"content":""},{"lineNumber":219,"author":{"gitId":"-"},"content":"#### **`headingIndexingLevel`**"},{"lineNumber":220,"author":{"gitId":"-"},"content":""},{"lineNumber":221,"author":{"gitId":"-"},"content":"**The level of headings to be indexed for searching.** Default: `3` %%i.e., only headings of levels 1,2,3 will be indexed for searching%%."},{"lineNumber":222,"author":{"gitId":"-"},"content":""},{"lineNumber":223,"author":{"gitId":"-"},"content":"#### **`enableSearch`**"},{"lineNumber":224,"author":{"gitId":"-"},"content":""},{"lineNumber":225,"author":{"gitId":"-"},"content":"**Specifies that the website should use MarkBind\u0027s search functionality.** Default: `true`. See [User Guide: Making the Site Searchable](makingTheSiteSearchable.html) for more details."},{"lineNumber":226,"author":{"gitId":"-"},"content":""},{"lineNumber":227,"author":{"gitId":"-"},"content":"#### **`disableHtmlBeautify`**"},{"lineNumber":228,"author":{"gitId":"-"},"content":""},{"lineNumber":229,"author":{"gitId":"-"},"content":"**Turn off html beautification done by [js-beautify](https://github.com/beautify-web/js-beautify) for html files generated by MarkBind.** By default, MarkBind beautifies the HTML files it generates, which helps in user-friendly viewing and editing."},{"lineNumber":230,"author":{"gitId":"wxwxwxwx9"},"content":"You can choose to turn this option off to improve the performance of the MarkBind build process.  "},{"lineNumber":231,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":232,"author":{"gitId":"wxwxwxwx9"},"content":"To turn off the option, add the following to `site.json`: "},{"lineNumber":233,"author":{"gitId":"-"},"content":"```js"},{"lineNumber":234,"author":{"gitId":"-"},"content":"..."},{"lineNumber":235,"author":{"gitId":"-"},"content":"\"disableHtmlBeautify\": true,"},{"lineNumber":236,"author":{"gitId":"-"},"content":"..."},{"lineNumber":237,"author":{"gitId":"-"},"content":"```"},{"lineNumber":238,"author":{"gitId":"-"},"content":""},{"lineNumber":239,"author":{"gitId":"-"},"content":"#### **`timeZone`**"},{"lineNumber":240,"author":{"gitId":"-"},"content":""},{"lineNumber":241,"author":{"gitId":"-"},"content":"**Time zone of the [time stamp](reusingContents.html#built-in-global-variables).** Default: `\"UTC\"`. "},{"lineNumber":242,"author":{"gitId":"-"},"content":""},{"lineNumber":243,"author":{"gitId":"-"},"content":"\u003cpanel type\u003d\"minimal\" header\u003d\"Time Zone Options\"\u003e"},{"lineNumber":244,"author":{"gitId":"-"},"content":"  \u003cinclude src\u003d\"pages/timeZones.md\" /\u003e"},{"lineNumber":245,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":246,"author":{"gitId":"-"},"content":""},{"lineNumber":247,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":248,"author":{"gitId":"-"},"content":""},{"lineNumber":249,"author":{"gitId":"-"},"content":"#### **`locale`**"},{"lineNumber":250,"author":{"gitId":"-"},"content":""},{"lineNumber":251,"author":{"gitId":"-"},"content":"**Language by locale used for the [time stamp](reusingContents.html#built-in-global-variables).** Default: `\"en-GB\"` (`English (United Kingdom)`). \u003cbr\u003e"},{"lineNumber":252,"author":{"gitId":"-"},"content":"The date format is thus - \u003cbr\u003e"},{"lineNumber":253,"author":{"gitId":"-"},"content":"`\u003cDay\u003e, \u003cDate\u003e \u003cMonth\u003e \u003cYear\u003e, \u003c24-hour Time\u003e \u003cTime Zone Code\u003e`. "},{"lineNumber":254,"author":{"gitId":"-"},"content":""},{"lineNumber":255,"author":{"gitId":"-"},"content":"\u003cpanel type\u003d\"minimal\" header\u003d\"Locale Options\"\u003e"},{"lineNumber":256,"author":{"gitId":"-"},"content":"  \u003cinclude src\u003d\"pages/locales.md\" /\u003e"},{"lineNumber":257,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":258,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":259,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":260,"author":{"gitId":"wxwxwxwx9"},"content":"#### **`intrasiteLinkValidation`**"},{"lineNumber":261,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":262,"author":{"gitId":"wxwxwxwx9"},"content":"**Toggle whether to validate intra-site links.** By default, MarkBind will validate all intra-site links and alert you of any potentially invalid ones. "},{"lineNumber":263,"author":{"gitId":"wxwxwxwx9"},"content":"To disable this validation **entirely**, you may add the following to `site.json`:"},{"lineNumber":264,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cdiv id\u003d\"disable-global-intrasite-link-validation\"\u003e"},{"lineNumber":265,"author":{"gitId":"wxwxwxwx9"},"content":"  ```js"},{"lineNumber":266,"author":{"gitId":"wxwxwxwx9"},"content":"  ..."},{"lineNumber":267,"author":{"gitId":"wxwxwxwx9"},"content":"  \"intrasiteLinkValidation\": {"},{"lineNumber":268,"author":{"gitId":"wxwxwxwx9"},"content":"    \"enabled\": false"},{"lineNumber":269,"author":{"gitId":"wxwxwxwx9"},"content":"  },"},{"lineNumber":270,"author":{"gitId":"wxwxwxwx9"},"content":"  ..."},{"lineNumber":271,"author":{"gitId":"wxwxwxwx9"},"content":"  ```"},{"lineNumber":272,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/div\u003e"}],"authorContributionMap":{"wxwxwxwx9":20,"-":252}},{"path":"docs/userGuide/syntax/blockquotes.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"## Blockquotes"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":5,"author":{"gitId":"-"},"content":"Normal text"},{"lineNumber":6,"author":{"gitId":"-"},"content":"\u003e Blockquote, first paragraph"},{"lineNumber":7,"author":{"gitId":"-"},"content":"\u003e"},{"lineNumber":8,"author":{"gitId":"-"},"content":"\u003e Second paragraph"},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003e\u003e Nested quoteblock"},{"lineNumber":10,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":12,"author":{"gitId":"-"},"content":""},{"lineNumber":13,"author":{"gitId":"-"},"content":"Alternatively, you can use `\u003cblockquote\u003e` tags:"},{"lineNumber":14,"author":{"gitId":"-"},"content":""},{"lineNumber":15,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":16,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003emarkdown\u003c/variable\u003e"},{"lineNumber":17,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":18,"author":{"gitId":"-"},"content":"Normal text"},{"lineNumber":19,"author":{"gitId":"-"},"content":"\u003cblockquote\u003e"},{"lineNumber":20,"author":{"gitId":"-"},"content":"Blockquote, first paragraph"},{"lineNumber":21,"author":{"gitId":"-"},"content":""},{"lineNumber":22,"author":{"gitId":"-"},"content":"Second paragraph"},{"lineNumber":23,"author":{"gitId":"-"},"content":"\u003cblockquote\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":"Nested blockquote"},{"lineNumber":25,"author":{"gitId":"-"},"content":"\u003c/blockquote\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":"\u003c/blockquote\u003e"},{"lineNumber":27,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":28,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":29,"author":{"gitId":"-"},"content":""},{"lineNumber":30,"author":{"gitId":"-"},"content":"\u003csmall\u003eMore info: https://www.markdownguide.org/basic-syntax#blockquotes-1\u003c/small\u003e"},{"lineNumber":31,"author":{"gitId":"-"},"content":""},{"lineNumber":32,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"short\" class\u003d\"d-none\"\u003e"},{"lineNumber":33,"author":{"gitId":"-"},"content":""},{"lineNumber":34,"author":{"gitId":"ryoarmanda"},"content":"```"},{"lineNumber":35,"author":{"gitId":"-"},"content":"\u003e Blockquote, first paragraph"},{"lineNumber":36,"author":{"gitId":"-"},"content":"\u003e"},{"lineNumber":37,"author":{"gitId":"-"},"content":"\u003e Second paragraph"},{"lineNumber":38,"author":{"gitId":"-"},"content":"\u003e\u003e Nested blockquote"},{"lineNumber":39,"author":{"gitId":"-"},"content":"```"},{"lineNumber":40,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":41,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"examples\" class\u003d\"d-none\"\u003e"},{"lineNumber":42,"author":{"gitId":"-"},"content":""},{"lineNumber":43,"author":{"gitId":"-"},"content":"\u003e Blockquote, first paragraph"},{"lineNumber":44,"author":{"gitId":"-"},"content":"\u003e"},{"lineNumber":45,"author":{"gitId":"-"},"content":"\u003e Second paragraph"},{"lineNumber":46,"author":{"gitId":"-"},"content":"\u003e\u003e Nested blockquote"},{"lineNumber":47,"author":{"gitId":"-"},"content":"\u003c/span\u003e"}],"authorContributionMap":{"-":46,"ryoarmanda":1}},{"path":"docs/userGuide/syntax/dropdowns.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"{% from \"userGuide/components/advanced.md\" import slot_info_trigger %}"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"## Dropdowns"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"**You can use Dropdowns as a top level component.**"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":8,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":"\u003c!--Notice how header attribute supports inline MarkDown--\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":"\u003cdropdown header\u003d\"*Action*\" type\u003d\"primary\"\u003e"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAction\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAnother action\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSomething else here\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":15,"author":{"gitId":"-"},"content":"  \u003cli role\u003d\"separator\" class\u003d\"dropdown-divider\"\u003e\u003c/li\u003e"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSeparated link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":17,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":18,"author":{"gitId":"-"},"content":""},{"lineNumber":19,"author":{"gitId":"-"},"content":"\u003c!-- For segmented dropdown, ignore header and add a \"before\" slot --\u003e"},{"lineNumber":20,"author":{"gitId":"-"},"content":"\u003cdropdown type\u003d\"info\"\u003e"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  \u003cbutton slot\u003d\"before\" type\u003d\"button\" class\u003d\"btn btn-info\"\u003eSegmented\u003c/button\u003e"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003e...\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":23,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":""},{"lineNumber":25,"author":{"gitId":"-"},"content":"\u003c!-- Right aligned list --\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":"\u003cdropdown header\u003d\"Right aligned list\" type\u003d\"primary\" menu-align-right\u003e"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSomething else here\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":28,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":29,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":30,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":31,"author":{"gitId":"-"},"content":""},{"lineNumber":32,"author":{"gitId":"-"},"content":"**You can also use Dropdowns as a nested component (e.g. part of a button group).**"},{"lineNumber":33,"author":{"gitId":"-"},"content":""},{"lineNumber":34,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":35,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":36,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":37,"author":{"gitId":"-"},"content":"\u003c!-- In a button group --\u003e"},{"lineNumber":38,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"btn-group d-flex\" role\u003d\"group\"\u003e"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  \u003ca href\u003d\"#dropdown\" class\u003d\"btn btn-danger w-100\" role\u003d\"button\"\u003eLeft\u003c/a\u003e"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  \u003c!-- With slots you can handle some elements as native bootstrap --\u003e"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  \u003cdropdown class\u003d\"w-100\"\u003e"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    \u003cbutton slot\u003d\"button\" type\u003d\"button\" class\u003d\"btn btn-warning dropdown-toggle w-100\"\u003e"},{"lineNumber":43,"author":{"gitId":"-"},"content":"      Action"},{"lineNumber":44,"author":{"gitId":"-"},"content":"      \u003cspan class\u003d\"caret\"\u003e\u003c/span\u003e"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    \u003c/button\u003e"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    \u003cul slot\u003d\"dropdown-menu\" class\u003d\"dropdown-menu\"\u003e"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAction\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":48,"author":{"gitId":"-"},"content":"      \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAnother action\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSomething else here\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":50,"author":{"gitId":"-"},"content":"      \u003cli role\u003d\"separator\" class\u003d\"dropdown-divider\"\u003e\u003c/li\u003e"},{"lineNumber":51,"author":{"gitId":"-"},"content":"      \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSeparated link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    \u003c/ul\u003e"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":54,"author":{"gitId":"-"},"content":"  \u003ca href\u003d\"#dropdown\" class\u003d\"btn btn-success w-100\" role\u003d\"button\"\u003eRight\u003c/a\u003e"},{"lineNumber":55,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":56,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":57,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":58,"author":{"gitId":"-"},"content":""},{"lineNumber":59,"author":{"gitId":"jonahtanjz"},"content":"**You can also create multi-level submenus by nesting Dropdowns.**"},{"lineNumber":60,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":61,"author":{"gitId":"jonahtanjz"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":62,"author":{"gitId":"jonahtanjz"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":63,"author":{"gitId":"jonahtanjz"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":64,"author":{"gitId":"jonahtanjz"},"content":"\u003c!-- Nest the dropdown syntax to create dropdown submenus --\u003e"},{"lineNumber":65,"author":{"gitId":"jonahtanjz"},"content":"\u003cdropdown header\u003d\"*Multi-Level Dropdown*\" type\u003d\"primary\"\u003e"},{"lineNumber":66,"author":{"gitId":"jonahtanjz"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eItem\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":67,"author":{"gitId":"jonahtanjz"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAnother item\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":68,"author":{"gitId":"jonahtanjz"},"content":"  \u003cdropdown header\u003d\"*Submenu*\"\u003e"},{"lineNumber":69,"author":{"gitId":"jonahtanjz"},"content":"    \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eItem\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":70,"author":{"gitId":"jonahtanjz"},"content":"    \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAnother item\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":71,"author":{"gitId":"jonahtanjz"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":72,"author":{"gitId":"jonahtanjz"},"content":"\u003c/dropdown\u003e"},{"lineNumber":73,"author":{"gitId":"jonahtanjz"},"content":"\u003c/variable\u003e"},{"lineNumber":74,"author":{"gitId":"jonahtanjz"},"content":"\u003c/include\u003e"},{"lineNumber":75,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":76,"author":{"gitId":"-"},"content":"****Options****"},{"lineNumber":77,"author":{"gitId":"-"},"content":""},{"lineNumber":78,"author":{"gitId":"-"},"content":"Name | Type | Default | Description"},{"lineNumber":79,"author":{"gitId":"-"},"content":"--- | --- | --- | ---"},{"lineNumber":80,"author":{"gitId":"-"},"content":"disabled | `Boolean` | `false` | Whether Dropdown can be opened."},{"lineNumber":81,"author":{"gitId":"-"},"content":"menu-align-right | `Boolean` | `false` | Whether the dropdown list will be right-aligned."},{"lineNumber":82,"author":{"gitId":"-"},"content":"header{{slot_info_trigger}} \u003chr style\u003d\"margin-top:0.2rem; margin-bottom:0\" /\u003e \u003csmall\u003etext \u003cbr\u003e (deprecated)\u003c/small\u003e | `String` | `\u0027\u0027` | Dropdown button header text. (Supports inline MarkDown syntax)"},{"lineNumber":83,"author":{"gitId":"-"},"content":"type | `String` | `default` | Supports: `default`, `primary`, `danger`, `info`, `warning`, `success`."},{"lineNumber":84,"author":{"gitId":"-"},"content":""},{"lineNumber":85,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":86,"author":{"gitId":"-"},"content":""},{"lineNumber":87,"author":{"gitId":"-"},"content":"%%{{ icon_info }} You may refer to [this documentation](https://getbootstrap.com/docs/4.0/components/buttons/) regarding how you can use the **Bootstrap buttons**, and how to style them.%%"},{"lineNumber":88,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":89,"author":{"gitId":"-"},"content":""},{"lineNumber":90,"author":{"gitId":"-"},"content":""},{"lineNumber":91,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"short\" class\u003d\"d-none\"\u003e"},{"lineNumber":92,"author":{"gitId":"-"},"content":""},{"lineNumber":93,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":94,"author":{"gitId":"-"},"content":"\u003cdropdown header\u003d\"Action\" type\u003d\"primary\"\u003e"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAction\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAnother action\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  \u003cli role\u003d\"separator\" class\u003d\"dropdown-divider\"\u003e\u003c/li\u003e"},{"lineNumber":98,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSeparated link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":99,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":100,"author":{"gitId":"-"},"content":"```"},{"lineNumber":101,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":102,"author":{"gitId":"-"},"content":""},{"lineNumber":103,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"examples\" class\u003d\"d-none\"\u003e"},{"lineNumber":104,"author":{"gitId":"-"},"content":""},{"lineNumber":105,"author":{"gitId":"-"},"content":"\u003cdropdown header\u003d\"Action\" type\u003d\"primary\"\u003e"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAction\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":107,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAnother action\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":108,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSomething else here\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  \u003cli role\u003d\"separator\" class\u003d\"dropdown-divider\"\u003e\u003c/li\u003e"},{"lineNumber":110,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSeparated link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":111,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":112,"author":{"gitId":"-"},"content":""},{"lineNumber":113,"author":{"gitId":"-"},"content":"\u003c!-- For segmented dropdown, ignore header and add a \"before\" slot --\u003e"},{"lineNumber":114,"author":{"gitId":"-"},"content":"\u003cdropdown type\u003d\"info\"\u003e"},{"lineNumber":115,"author":{"gitId":"-"},"content":"  \u003cbutton slot\u003d\"before\" type\u003d\"button\" class\u003d\"btn btn-info\"\u003eSegmented\u003c/button\u003e"},{"lineNumber":116,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003e...\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":117,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":118,"author":{"gitId":"-"},"content":"\u003cp/\u003e"},{"lineNumber":119,"author":{"gitId":"-"},"content":"\u003c!-- In a button group --\u003e"},{"lineNumber":120,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"btn-group d-flex\" role\u003d\"group\"\u003e"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  \u003ca href\u003d\"#dropdown\" class\u003d\"btn btn-danger w-100\" role\u003d\"button\"\u003eLeft\u003c/a\u003e"},{"lineNumber":122,"author":{"gitId":"-"},"content":"  \u003c!-- With slots you can handle some elements as native bootstrap --\u003e"},{"lineNumber":123,"author":{"gitId":"-"},"content":"  \u003cdropdown class\u003d\"w-100\"\u003e"},{"lineNumber":124,"author":{"gitId":"-"},"content":"    \u003cbutton slot\u003d\"button\" type\u003d\"button\" class\u003d\"btn btn-warning dropdown-toggle w-100\"\u003e"},{"lineNumber":125,"author":{"gitId":"-"},"content":"      Action"},{"lineNumber":126,"author":{"gitId":"-"},"content":"      \u003cspan class\u003d\"caret\"\u003e\u003c/span\u003e"},{"lineNumber":127,"author":{"gitId":"-"},"content":"    \u003c/button\u003e"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    \u003cul slot\u003d\"dropdown-menu\" class\u003d\"dropdown-menu\"\u003e"},{"lineNumber":129,"author":{"gitId":"-"},"content":"      \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAction\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":130,"author":{"gitId":"-"},"content":"      \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eAnother action\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":131,"author":{"gitId":"-"},"content":"      \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSomething else here\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":132,"author":{"gitId":"-"},"content":"      \u003cli role\u003d\"separator\" class\u003d\"dropdown-divider\"\u003e\u003c/li\u003e"},{"lineNumber":133,"author":{"gitId":"-"},"content":"      \u003cli\u003e\u003ca href\u003d\"#dropdown\" class\u003d\"dropdown-item\"\u003eSeparated link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":134,"author":{"gitId":"-"},"content":"    \u003c/ul\u003e"},{"lineNumber":135,"author":{"gitId":"-"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  \u003ca href\u003d\"#dropdown\" class\u003d\"btn btn-success w-100\" role\u003d\"button\"\u003eRight\u003c/a\u003e"},{"lineNumber":137,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":138,"author":{"gitId":"-"},"content":"\u003c/span\u003e"}],"authorContributionMap":{"jonahtanjz":17,"-":121}},{"path":"docs/userGuide/syntax/includes.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"link\" class\u003d\"d-none\"\u003e"},{"lineNumber":2,"author":{"gitId":"-"},"content":"\u003cmd\u003e[_User Guide → Reusing Contents → Includes_]({{ baseUrl }}/userGuide/reusingContents.html#includes)\u003c/md\u003e"},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"## Includes"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"overview\"\u003e"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"**MarkBind has a powerful `\u003cinclude\u003e` mechanism** which allows you to create documents by combining other content fragments."},{"lineNumber":10,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":""},{"lineNumber":12,"author":{"gitId":"-"},"content":"**You can use `\u003cinclude\u003e` tag to include another markdown or HTML document into the current document.**"},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"{{ icon_example }} Including text from a `tip2.md` in another file."},{"lineNumber":17,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":18,"author":{"gitId":"-"},"content":"Tip 1. ..."},{"lineNumber":19,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"tips/tip2.md\" /\u003e"},{"lineNumber":20,"author":{"gitId":"-"},"content":"Tip 3. ..."},{"lineNumber":21,"author":{"gitId":"-"},"content":"```"},{"lineNumber":22,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":23,"author":{"gitId":"-"},"content":""},{"lineNumber":24,"author":{"gitId":"-"},"content":"**You can `\u003cinclude\u003e` a fragment of a file** by specifying the `#fragment-id` at the end of the `src` attribute value, provided the fragment is wrapped in a `\u003cdiv\u003e`/`\u003cspan\u003e`/`\u003cseg\u003e` tag with the matching `id`."},{"lineNumber":25,"author":{"gitId":"-"},"content":""},{"lineNumber":26,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":27,"author":{"gitId":"-"},"content":""},{"lineNumber":28,"author":{"gitId":"-"},"content":"{{ icon_example }} Including a fragment from a file:"},{"lineNumber":29,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":30,"author":{"gitId":"-"},"content":"Some text"},{"lineNumber":31,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"docs/tips.md#tip-1\" /\u003e"},{"lineNumber":32,"author":{"gitId":"-"},"content":"Some other text"},{"lineNumber":33,"author":{"gitId":"-"},"content":"```"},{"lineNumber":34,"author":{"gitId":"-"},"content":""},{"lineNumber":35,"author":{"gitId":"-"},"content":"`docs/tips.md`:"},{"lineNumber":36,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":37,"author":{"gitId":"-"},"content":"..."},{"lineNumber":38,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"tip-1\" /\u003e"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  Tip 1. ..."},{"lineNumber":40,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":41,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":42,"author":{"gitId":"-"},"content":"Tip 2. ..."},{"lineNumber":43,"author":{"gitId":"-"},"content":"```"},{"lineNumber":44,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":47,"author":{"gitId":"-"},"content":""},{"lineNumber":48,"author":{"gitId":"-"},"content":"When setting the `id` of a fragment, be careful not to clash with heading anchor IDs auto-generated by MarkBind. For example, if you have a heading `## Some Useful Tips`, MarkBind will auto-generate an ID `some-useful-tips` for that heading."},{"lineNumber":49,"author":{"gitId":"-"},"content":""},{"lineNumber":50,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":51,"author":{"gitId":"-"},"content":""},{"lineNumber":52,"author":{"gitId":"-"},"content":""},{"lineNumber":53,"author":{"gitId":"-"},"content":"\u003cbox border-left-color\u003d\"{{ markbind_blue}}\"\u003e"},{"lineNumber":54,"author":{"gitId":"-"},"content":""},{"lineNumber":55,"author":{"gitId":"-"},"content":"{{ icon_bulb_blue }} The `\u003cinclude\u003e` tag works for any MarBind source file including the _font matter_ section but it may not work in some _special_ files such as the `_markbind/variables.md`."},{"lineNumber":56,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":57,"author":{"gitId":"-"},"content":""},{"lineNumber":58,"author":{"gitId":"-"},"content":"**Attributes:**"},{"lineNumber":59,"author":{"gitId":"-"},"content":"* **`src`**: specify the source file path."},{"lineNumber":60,"author":{"gitId":"-"},"content":"* **`inline`** (optional): make the included result an inline element. (wrapped in `\u003cspan\u003e` tag). e.g.,"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  ```html"},{"lineNumber":62,"author":{"gitId":"-"},"content":"  The title is \u003cinclude src\u003d\"../docs/summary.md#title\" inline /\u003e while ..."},{"lineNumber":63,"author":{"gitId":"-"},"content":"   ```"},{"lineNumber":64,"author":{"gitId":"-"},"content":"* **`optional`** (optional): include the file/fragment only if it exists i.e., there will be no error message if the file/fragment does not exist. e.g.,"},{"lineNumber":65,"author":{"gitId":"-"},"content":"  ```html"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  \u003cinclude src\u003d\"UserStories.md\" optional /\u003e"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  ```"},{"lineNumber":68,"author":{"gitId":"-"},"content":"* **`trim`** (optional): remove leading and trailing whitespace and newlines from the document before including."},{"lineNumber":69,"author":{"gitId":"-"},"content":"  ```html"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  \u003cinclude src\u003d\"UserStories.md#epic\" trim /\u003e"},{"lineNumber":71,"author":{"gitId":"ryoarmanda"},"content":"* **`omitFrontmatter`** (optional): omit the front matter of the file/fragment from being included (if any)."},{"lineNumber":72,"author":{"gitId":"-"},"content":"  ```"},{"lineNumber":73,"author":{"gitId":"-"},"content":""},{"lineNumber":74,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"tip.md\" boilerplate \u003e"},{"lineNumber":75,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"tip_body\"\u003e"},{"lineNumber":76,"author":{"gitId":"-"},"content":"The `\u003cinclude\u003e` mechanism can be used inside any MarkBind source file (even inside the _front matter_ section) but it will not work inside some _special_ files such as the `_markbind/variables.md`."},{"lineNumber":77,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":78,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":79,"author":{"gitId":"-"},"content":""},{"lineNumber":80,"author":{"gitId":"-"},"content":"##### `\u003cinclude\u003e` Inside an Included File"},{"lineNumber":81,"author":{"gitId":"-"},"content":""},{"lineNumber":82,"author":{"gitId":"-"},"content":"**Although the `src` attribute of an `\u003cinclude\u003e` is given _relative_ to the current directory, it is converted to an _absolute_ value _before_ the \u003ctooltip content\u003d\"i.e., the file containing the `\u003cinclude\u003e`\"\u003ehost file\u003c/tooltip\u003e is included from another file.**"},{"lineNumber":83,"author":{"gitId":"-"},"content":""},{"lineNumber":84,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":85,"author":{"gitId":"-"},"content":""},{"lineNumber":86,"author":{"gitId":"-"},"content":"{{ icon_example }} Suppose you have a MarkBind project with the following file structure."},{"lineNumber":87,"author":{"gitId":"dcshzj"},"content":"```{.no-line-numbers}"},{"lineNumber":88,"author":{"gitId":"dcshzj"},"content":"C:/mySite/"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  ├── bookFiles/"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  |      ├── book.md"},{"lineNumber":91,"author":{"gitId":"-"},"content":"  |      ├── chapter1.md"},{"lineNumber":92,"author":{"gitId":"-"},"content":"  |      └── chapter2.md"},{"lineNumber":93,"author":{"gitId":"-"},"content":"  └── reviewFiles/"},{"lineNumber":94,"author":{"gitId":"-"},"content":"         └── review.md"},{"lineNumber":95,"author":{"gitId":"-"},"content":"```"},{"lineNumber":96,"author":{"gitId":"-"},"content":"The `book.md`:"},{"lineNumber":97,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":98,"author":{"gitId":"-"},"content":"# My Book"},{"lineNumber":99,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"chapter1.md\" /\u003e"},{"lineNumber":100,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"chapter2.md\" /\u003e"},{"lineNumber":101,"author":{"gitId":"-"},"content":"```"},{"lineNumber":102,"author":{"gitId":"-"},"content":"The `review.md`:"},{"lineNumber":103,"author":{"gitId":"-"},"content":""},{"lineNumber":104,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":105,"author":{"gitId":"-"},"content":"# My Review"},{"lineNumber":106,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"../bookFiles/book.md\" /\u003e"},{"lineNumber":107,"author":{"gitId":"-"},"content":"..."},{"lineNumber":108,"author":{"gitId":"-"},"content":"```"},{"lineNumber":109,"author":{"gitId":"-"},"content":""},{"lineNumber":110,"author":{"gitId":"-"},"content":"The content of the `chapter1.md` and `chapter2.md` will be included in the `review.md` (via `\u003cinclude src\u003d\"../bookFiles/book.md\" /\u003e`) although `chapter1.md` and `chapter2.md` are not in `reviewFiles` directory. i.e., `\u003cinclude src\u003d\"chapter1.md\" /\u003e` will be interpreted as `\u003cinclude src\u003d\"c:/mySite/bookFiles/chapter1.md\" /\u003e`"},{"lineNumber":111,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":112,"author":{"gitId":"-"},"content":""},{"lineNumber":113,"author":{"gitId":"-"},"content":"In other words, **`\u003cinclude\u003e` interprets the reused code relative to the original location of the file, not the location in which it is reused.**"},{"lineNumber":114,"author":{"gitId":"-"},"content":""},{"lineNumber":115,"author":{"gitId":"-"},"content":"\u003chr\u003e\u003c!-- \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d --\u003e"},{"lineNumber":116,"author":{"gitId":"-"},"content":""},{"lineNumber":117,"author":{"gitId":"-"},"content":"##### Specifying Variables in an `\u003cinclude\u003e`"},{"lineNumber":118,"author":{"gitId":"-"},"content":""},{"lineNumber":119,"author":{"gitId":"-"},"content":"**It is possible to include variables in an `\u003cinclude\u003e`.**"},{"lineNumber":120,"author":{"gitId":"-"},"content":""},{"lineNumber":121,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":122,"author":{"gitId":"-"},"content":""},{"lineNumber":123,"author":{"gitId":"-"},"content":"{{ icon_example }} Specifying `title` and `author` variables in an `\u003cinclude\u003e` tag:"},{"lineNumber":124,"author":{"gitId":"-"},"content":""},{"lineNumber":125,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":126,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"article.md\"\u003e"},{"lineNumber":127,"author":{"gitId":"-"},"content":"  \u003cvariable name\u003d\"title\"\u003eMy Title\u003c/variable\u003e"},{"lineNumber":128,"author":{"gitId":"-"},"content":"  \u003cvariable name\u003d\"author\"\u003eJohn Doe\u003c/variable\u003e"},{"lineNumber":129,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":130,"author":{"gitId":"-"},"content":"```"},{"lineNumber":131,"author":{"gitId":"-"},"content":""},{"lineNumber":132,"author":{"gitId":"-"},"content":"In `article.md`:"},{"lineNumber":133,"author":{"gitId":"-"},"content":""},{"lineNumber":134,"author":{"gitId":"-"},"content":"{% raw %}"},{"lineNumber":135,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":136,"author":{"gitId":"-"},"content":"# {{ title }}\u003cbr\u003e"},{"lineNumber":137,"author":{"gitId":"-"},"content":"Author: {{ author }}"},{"lineNumber":138,"author":{"gitId":"-"},"content":"```"},{"lineNumber":139,"author":{"gitId":"-"},"content":"{% endraw %}"},{"lineNumber":140,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":141,"author":{"gitId":"-"},"content":""},{"lineNumber":142,"author":{"gitId":"-"},"content":"These variables work the same way as variables in `_markbind/variables.md`, except that they only apply to the included file. They allow the included file to be reused as a template, for different source files using different variable values."},{"lineNumber":143,"author":{"gitId":"-"},"content":""},{"lineNumber":144,"author":{"gitId":"-"},"content":"You can also specify include variables within the `\u003cinclude\u003e` tag itself by adding a `var-` prefix."},{"lineNumber":145,"author":{"gitId":"-"},"content":""},{"lineNumber":146,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":147,"author":{"gitId":"-"},"content":""},{"lineNumber":148,"author":{"gitId":"-"},"content":"{{ icon_example }} Specifying `title` and `author` variables inline:"},{"lineNumber":149,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":150,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"article.md\" var-title\u003d\"My Title\" var-author\u003d\"John Doe\" /\u003e"},{"lineNumber":151,"author":{"gitId":"-"},"content":"```"},{"lineNumber":152,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":153,"author":{"gitId":"-"},"content":""},{"lineNumber":154,"author":{"gitId":"-"},"content":"If the same variable is defined in a chain of `\u003cinclude\u003e`s (e.g. `a.md` includes `b.md` includes `c.md`...), variables defined in the top-most `\u003cinclude\u003e` will take precedence. Global variables (`_markbind/variables.md`) will take precedence over any `\u003cinclude\u003e` variables."},{"lineNumber":155,"author":{"gitId":"-"},"content":""},{"lineNumber":156,"author":{"gitId":"-"},"content":"### Using Boilerplate Files"},{"lineNumber":157,"author":{"gitId":"-"},"content":""},{"lineNumber":158,"author":{"gitId":"-"},"content":"**If you find duplicating a \u003ctooltip content\u003d\"code that needs to stay relative to the directory in which it used\"\u003e_boilerplate code_\u003c/tooltip\u003e fragment in multiple places of your code base, you can use a `boilerplate` file to avoid such duplication.** Note that you cannot use a normal `\u003cinclude\u003e` in this case because the code included using a normal `\u003cinclude\u003e` stays relative to the original location while boilerplate code needs to be interpreted relative to the location it is being used."},{"lineNumber":159,"author":{"gitId":"-"},"content":""},{"lineNumber":160,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":161,"author":{"gitId":"-"},"content":""},{"lineNumber":162,"author":{"gitId":"-"},"content":"{{ icon_example }} Suppose you have a MarkBind project with the following file structure."},{"lineNumber":163,"author":{"gitId":"dcshzj"},"content":"```{.no-line-numbers}"},{"lineNumber":164,"author":{"gitId":"dcshzj"},"content":"C:/mySite/"},{"lineNumber":165,"author":{"gitId":"-"},"content":"  ├── chapter1/"},{"lineNumber":166,"author":{"gitId":"-"},"content":"  |      ├── chapter.md"},{"lineNumber":167,"author":{"gitId":"-"},"content":"  |      ├── text.md"},{"lineNumber":168,"author":{"gitId":"-"},"content":"  |      └── exercises.md"},{"lineNumber":169,"author":{"gitId":"-"},"content":"  ├── chapter2/"},{"lineNumber":170,"author":{"gitId":"-"},"content":"  |      ├── chapter.md"},{"lineNumber":171,"author":{"gitId":"-"},"content":"  |      ├── text.md"},{"lineNumber":172,"author":{"gitId":"-"},"content":"  |      └── exercises.md"},{"lineNumber":173,"author":{"gitId":"-"},"content":"  └── book.md"},{"lineNumber":174,"author":{"gitId":"-"},"content":"```"},{"lineNumber":175,"author":{"gitId":"-"},"content":"The `book.md`:"},{"lineNumber":176,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":177,"author":{"gitId":"-"},"content":"# My Book"},{"lineNumber":178,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"chapter1/chapter.md\" /\u003e"},{"lineNumber":179,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"chapter2/chapter.md\" /\u003e"},{"lineNumber":180,"author":{"gitId":"-"},"content":"```"},{"lineNumber":181,"author":{"gitId":"-"},"content":"The `chapter1/chapter.md`:"},{"lineNumber":182,"author":{"gitId":"-"},"content":""},{"lineNumber":183,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":184,"author":{"gitId":"-"},"content":"## Text"},{"lineNumber":185,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"text.md\" /\u003e"},{"lineNumber":186,"author":{"gitId":"-"},"content":"## Exercises"},{"lineNumber":187,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"exercises.md\" /\u003e"},{"lineNumber":188,"author":{"gitId":"-"},"content":"```"},{"lineNumber":189,"author":{"gitId":"-"},"content":"The `chapter2/chapter.md`:"},{"lineNumber":190,"author":{"gitId":"-"},"content":""},{"lineNumber":191,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":192,"author":{"gitId":"-"},"content":"## Text"},{"lineNumber":193,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"text.md\" /\u003e"},{"lineNumber":194,"author":{"gitId":"-"},"content":"## Exercises"},{"lineNumber":195,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"exercises.md\" /\u003e"},{"lineNumber":196,"author":{"gitId":"-"},"content":"```"},{"lineNumber":197,"author":{"gitId":"-"},"content":""},{"lineNumber":198,"author":{"gitId":"-"},"content":"As you can see, both `chapter.md` files are exactly the same. If we were to use only one of the `chapter.md` files and `\u003cinclude\u003e` it twice in the `book.md`, we\u0027ll end up with the same chapter content duplicated twice, which is not what we want. In other words, `chapter.md` contains boilerplate code that needs to be interpreted relative to where it is applied, once relative to `chapter1` directory and once relative to `chapter2` directory."},{"lineNumber":199,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":200,"author":{"gitId":"-"},"content":""},{"lineNumber":201,"author":{"gitId":"-"},"content":"To use a code fragment as a boilerplate file,"},{"lineNumber":202,"author":{"gitId":"-"},"content":"1. Put the code in a file inside the `_markbind/boilerplates` directory."},{"lineNumber":203,"author":{"gitId":"-"},"content":"2. `\u003cinclude\u003e` the file _as if_ a copy of it exists in any directory you want it to applied, but add the `boilerplate` attribute to the `\u003cinclude\u003e` tag."},{"lineNumber":204,"author":{"gitId":"-"},"content":""},{"lineNumber":205,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":206,"author":{"gitId":"-"},"content":""},{"lineNumber":207,"author":{"gitId":"-"},"content":"{{ icon_example }} Here\u0027s how you can use a boilerplate file to avoid duplicating the `chapter.md`:"},{"lineNumber":208,"author":{"gitId":"dcshzj"},"content":"```{.no-line-numbers}"},{"lineNumber":209,"author":{"gitId":"dcshzj"},"content":"C:/mySite/"},{"lineNumber":210,"author":{"gitId":"-"},"content":"  ├── _markbind/boilerplates/"},{"lineNumber":211,"author":{"gitId":"-"},"content":"  |      └── chapter.md"},{"lineNumber":212,"author":{"gitId":"-"},"content":"  ├── chapter1/"},{"lineNumber":213,"author":{"gitId":"-"},"content":"  |      ├── text.md"},{"lineNumber":214,"author":{"gitId":"-"},"content":"  |      └── exercises.md"},{"lineNumber":215,"author":{"gitId":"-"},"content":"  ├── chapter2/"},{"lineNumber":216,"author":{"gitId":"-"},"content":"  |      ├── text.md"},{"lineNumber":217,"author":{"gitId":"-"},"content":"  |      └── exercises.md"},{"lineNumber":218,"author":{"gitId":"-"},"content":"  └── book.md"},{"lineNumber":219,"author":{"gitId":"-"},"content":"```"},{"lineNumber":220,"author":{"gitId":"-"},"content":"The `book.md`:"},{"lineNumber":221,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":222,"author":{"gitId":"-"},"content":"# My Book"},{"lineNumber":223,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"chapter1/chapter.md\" boilerplate /\u003e"},{"lineNumber":224,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"chapter2/chapter.md\" boilerplate /\u003e"},{"lineNumber":225,"author":{"gitId":"-"},"content":"```"},{"lineNumber":226,"author":{"gitId":"-"},"content":"The `_markbind/boilerplates/chapter.md`:"},{"lineNumber":227,"author":{"gitId":"-"},"content":""},{"lineNumber":228,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":229,"author":{"gitId":"-"},"content":"## Text"},{"lineNumber":230,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"text.md\" /\u003e"},{"lineNumber":231,"author":{"gitId":"-"},"content":"## Exercises"},{"lineNumber":232,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"exercises.md\" /\u003e"},{"lineNumber":233,"author":{"gitId":"-"},"content":"```"},{"lineNumber":234,"author":{"gitId":"-"},"content":""},{"lineNumber":235,"author":{"gitId":"-"},"content":"Consider the line `\u003cinclude src\u003d\"chapter1/chapter.md\" boilerplate /\u003e`. Note how you can use `src\u003d\"chapter1/chapter.md\"` there is no such file. MarkBind will use the `chapter.md` file `/_markbind/boilerplates/` but interpret it as if the file exist in `chapter1` directory (i.e., interpret the `chapter1.md` code relative to the `chapter1` directory."},{"lineNumber":236,"author":{"gitId":"-"},"content":""},{"lineNumber":237,"author":{"gitId":"-"},"content":"Similarly, `\u003cinclude src\u003d\"chapter2/chapter.md\" boilerplate /\u003e` interprets the `chapter.md` relative to the `chapter2` directory."},{"lineNumber":238,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":239,"author":{"gitId":"-"},"content":""},{"lineNumber":240,"author":{"gitId":"-"},"content":"If you have many boilerplate files, you can organize them into directories inside the `_markbind` directory. When using such boilerplate files, you need to replace `boilerplate` attribute with `boilerplate\u003d\"\u003cpath to file relative to _markbind/boilerplates\u003e\"`."},{"lineNumber":241,"author":{"gitId":"-"},"content":""},{"lineNumber":242,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":243,"author":{"gitId":"-"},"content":""},{"lineNumber":244,"author":{"gitId":"-"},"content":"{{ icon_example }} Suppose the `chapter.md` is places in a `book` directory:"},{"lineNumber":245,"author":{"gitId":"dcshzj"},"content":"```{.no-line-numbers}"},{"lineNumber":246,"author":{"gitId":"dcshzj"},"content":"C:/mySite/"},{"lineNumber":247,"author":{"gitId":"-"},"content":"  └── _markbind/boilerplates/"},{"lineNumber":248,"author":{"gitId":"-"},"content":"         └── book/"},{"lineNumber":249,"author":{"gitId":"-"},"content":"               └── chapter.md"},{"lineNumber":250,"author":{"gitId":"-"},"content":""},{"lineNumber":251,"author":{"gitId":"-"},"content":"```"},{"lineNumber":252,"author":{"gitId":"-"},"content":""},{"lineNumber":253,"author":{"gitId":"-"},"content":"It needs to be used as follows:"},{"lineNumber":254,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":255,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"chapter1/chapter.md\" boilerplate\u003d\"book/chapter.md\" /\u003e"},{"lineNumber":256,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"chapter2/chapter.md\" boilerplate\u003d\"book/chapter.md\" /\u003e"},{"lineNumber":257,"author":{"gitId":"-"},"content":"```"},{"lineNumber":258,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":259,"author":{"gitId":"-"},"content":""},{"lineNumber":260,"author":{"gitId":"-"},"content":""},{"lineNumber":261,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"short\" class\u003d\"d-none\"\u003e"},{"lineNumber":262,"author":{"gitId":"-"},"content":""},{"lineNumber":263,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":264,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"foo.md#bar\" boilerplate inline trim\u003e"},{"lineNumber":265,"author":{"gitId":"-"},"content":"  \u003cvariable name\u003d\"x\"\u003e5\u003c/variable\u003e"},{"lineNumber":266,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":267,"author":{"gitId":"-"},"content":"```"},{"lineNumber":268,"author":{"gitId":"-"},"content":"\u003c/span\u003e"}],"authorContributionMap":{"dcshzj":8,"-":259,"ryoarmanda":1}},{"path":"docs/userGuide/syntax/links.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"## Links"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"Basic style:"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"main-example\"\u003e"},{"lineNumber":6,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":7,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003emarkdown\u003c/variable\u003e"},{"lineNumber":8,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":9,"author":{"gitId":"-"},"content":"MarkBind home is at [here](https://markbind.org)."},{"lineNumber":10,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":12,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"-"},"content":"_Reference style_ links (i.e., specify the URL in a separate place):"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":17,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003emarkdown\u003c/variable\u003e"},{"lineNumber":18,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":19,"author":{"gitId":"-"},"content":"MarkBind home is at [here][1]."},{"lineNumber":20,"author":{"gitId":"-"},"content":""},{"lineNumber":21,"author":{"gitId":"-"},"content":"[1]: https://markbind.org"},{"lineNumber":22,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":23,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":""},{"lineNumber":25,"author":{"gitId":"-"},"content":"\u003csmall\u003eMore info: https://www.markdownguide.org/basic-syntax#links\u003c/small\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":""},{"lineNumber":27,"author":{"gitId":"-"},"content":"#### Intra-Site Links"},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"intraSiteLinks\"\u003e"},{"lineNumber":30,"author":{"gitId":"-"},"content":""},{"lineNumber":31,"author":{"gitId":"-"},"content":"Links to files of the generated site (e.g., an HTML page or an image file) can be specified either as relative paths or absolute paths."},{"lineNumber":32,"author":{"gitId":"-"},"content":""},{"lineNumber":33,"author":{"gitId":"-"},"content":"****Auto-conversion of extension****"},{"lineNumber":34,"author":{"gitId":"-"},"content":""},{"lineNumber":35,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"You may link to markdown files using its original extension (**.md**) as it will automatically be converted to a html extension (**.html**) when the site is generated. "},{"lineNumber":38,"author":{"gitId":"-"},"content":""},{"lineNumber":39,"author":{"gitId":"-"},"content":"{{ icon_example }}"},{"lineNumber":40,"author":{"gitId":"-"},"content":"`Click [here](index.md)` --- *auto-conversion* ---\u003e `Click [here](index.html)`"},{"lineNumber":41,"author":{"gitId":"-"},"content":""},{"lineNumber":42,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":43,"author":{"gitId":"-"},"content":""},{"lineNumber":44,"author":{"gitId":"-"},"content":"If you wish to disable the auto-conversion, you may use the `no-convert` attribute in your link. "},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"{{ icon_example }}"},{"lineNumber":47,"author":{"gitId":"-"},"content":"`Click [here](index.md) {.no-convert}`"},{"lineNumber":48,"author":{"gitId":"-"},"content":""},{"lineNumber":49,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":50,"author":{"gitId":"-"},"content":""},{"lineNumber":51,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":52,"author":{"gitId":"-"},"content":""},{"lineNumber":53,"author":{"gitId":"-"},"content":""},{"lineNumber":54,"author":{"gitId":"-"},"content":"****Absolute paths****"},{"lineNumber":55,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":56,"author":{"gitId":"-"},"content":""},{"lineNumber":57,"author":{"gitId":"-"},"content":"Links should start with {% raw %}`{{ baseUrl }}`{% endraw %} (which represents the root directory of the site)."},{"lineNumber":58,"author":{"gitId":"-"},"content":""},{"lineNumber":59,"author":{"gitId":"-"},"content":"{{ icon_example }} Here\u0027s how to specify a link to (1) a page, and (2) an image, using the {% raw %}`{{ baseUrl }}`:"},{"lineNumber":60,"author":{"gitId":"-"},"content":""},{"lineNumber":61,"author":{"gitId":"-"},"content":"1. `Click [here]({{ baseUrl }}/userGuide/reusingContents.html).`"},{"lineNumber":62,"author":{"gitId":"-"},"content":"2. `![]({{ baseUrl }}/images/preview.png)`"},{"lineNumber":63,"author":{"gitId":"-"},"content":""},{"lineNumber":64,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"important\"\u003e"},{"lineNumber":65,"author":{"gitId":"-"},"content":""},{"lineNumber":66,"author":{"gitId":"-"},"content":"To ensure that links in the \u003ccode\u003e_markbind/\u003c/code\u003e folder work correctly across the entire site, they should be written as absolute paths, prepended with `{{ baseUrl }}`. "},{"lineNumber":67,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":68,"author":{"gitId":"-"},"content":"{% endraw %}"},{"lineNumber":69,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":70,"author":{"gitId":"-"},"content":""},{"lineNumber":71,"author":{"gitId":"-"},"content":"****Relative paths****"},{"lineNumber":72,"author":{"gitId":"-"},"content":""},{"lineNumber":73,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":74,"author":{"gitId":"-"},"content":""},{"lineNumber":75,"author":{"gitId":"-"},"content":"{{ icon_example }} Assuming that we have the following folder structure:"},{"lineNumber":76,"author":{"gitId":"-"},"content":"```"},{"lineNumber":77,"author":{"gitId":"-"},"content":"C:\\course\\"},{"lineNumber":78,"author":{"gitId":"-"},"content":"  ├── textbook\\"},{"lineNumber":79,"author":{"gitId":"-"},"content":"  |      ├── subsite.md"},{"lineNumber":80,"author":{"gitId":"-"},"content":"  |      ├── image.png"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  |      └── site.json"},{"lineNumber":82,"author":{"gitId":"-"},"content":"  ├── index.md"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  └── site.json"},{"lineNumber":84,"author":{"gitId":"-"},"content":"```"},{"lineNumber":85,"author":{"gitId":"-"},"content":""},{"lineNumber":86,"author":{"gitId":"-"},"content":"Within `textbook/subsite.md`, we can refer to the image using:"},{"lineNumber":87,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":88,"author":{"gitId":"-"},"content":"\u003cimg src\u003d\"image.png\" /\u003e"},{"lineNumber":89,"author":{"gitId":"-"},"content":"\u003c!-- or --\u003e"},{"lineNumber":90,"author":{"gitId":"-"},"content":"![](image.png)"},{"lineNumber":91,"author":{"gitId":"-"},"content":"```"},{"lineNumber":92,"author":{"gitId":"-"},"content":"Within `index.md`, we can also display the image using"},{"lineNumber":93,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":94,"author":{"gitId":"-"},"content":"\u003cimg src\u003d\"textbook/image.png\" /\u003e"},{"lineNumber":95,"author":{"gitId":"-"},"content":"\u003c!-- or --\u003e"},{"lineNumber":96,"author":{"gitId":"-"},"content":"![](textbook/image.png)"},{"lineNumber":97,"author":{"gitId":"-"},"content":"```"},{"lineNumber":98,"author":{"gitId":"-"},"content":""},{"lineNumber":99,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":100,"author":{"gitId":"-"},"content":""},{"lineNumber":101,"author":{"gitId":"-"},"content":"  Relative links to resources (e.g. images, hrefs) should be valid **relative to the file where the link is defined**."},{"lineNumber":102,"author":{"gitId":"-"},"content":""},{"lineNumber":103,"author":{"gitId":"-"},"content":"  In the example above, `image.png` is in the same directory as `subsite.md`. Thus, the correct path is `image.png` and not `textbook/image.png`."},{"lineNumber":104,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":105,"author":{"gitId":"-"},"content":""},{"lineNumber":106,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":107,"author":{"gitId":"-"},"content":""},{"lineNumber":108,"author":{"gitId":"-"},"content":"****Link validation****"},{"lineNumber":109,"author":{"gitId":"-"},"content":""},{"lineNumber":110,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":111,"author":{"gitId":"-"},"content":""},{"lineNumber":112,"author":{"gitId":"-"},"content":"Links will be validated when generating a site and a warning will be displayed in the console for every link that is invalid. "},{"lineNumber":113,"author":{"gitId":"-"},"content":""},{"lineNumber":114,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":115,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":116,"author":{"gitId":"-"},"content":""},{"lineNumber":117,"author":{"gitId":"wxwxwxwx9"},"content":"**Disabling link validation**"},{"lineNumber":118,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":119,"author":{"gitId":"wxwxwxwx9"},"content":"Link validation is enabled by default. "},{"lineNumber":120,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":121,"author":{"gitId":"wxwxwxwx9"},"content":"If you wish to only disable validation for a **specific link**, you may use the `no-validation` attribute."},{"lineNumber":122,"author":{"gitId":"-"},"content":""},{"lineNumber":123,"author":{"gitId":"-"},"content":"{{ icon_example }}"},{"lineNumber":124,"author":{"gitId":"-"},"content":"`Click [here](index.md){no-validation}`"},{"lineNumber":125,"author":{"gitId":"-"},"content":""},{"lineNumber":126,"author":{"gitId":"wxwxwxwx9"},"content":"However, if you wish to disable this feature **entirely**, you may simply modify your `site.json` like \u003ctrigger for\u003d\"pop:global-intralink-disable\" placement\u003d\"bottom\" trigger\u003d\"click\"\u003e this \u003c/trigger\u003e. "},{"lineNumber":127,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":128,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cmodal header\u003d\"Disabling global intra-site link validation in `site.json`\" id\u003d\"pop:global-intralink-disable\" backdrop\u003e "},{"lineNumber":129,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003cinclude src\u003d\"{{ baseUrl }}/userGuide/siteJsonFile.md#disable-global-intrasite-link-validation\"/\u003e"},{"lineNumber":130,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/modal\u003e\t"},{"lineNumber":131,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":132,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":133,"author":{"gitId":"-"},"content":""},{"lineNumber":134,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":135,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":136,"author":{"gitId":"-"},"content":""},{"lineNumber":137,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"short\" class\u003d\"d-none\"\u003e"},{"lineNumber":138,"author":{"gitId":"-"},"content":""},{"lineNumber":139,"author":{"gitId":"-"},"content":"```markdown"},{"lineNumber":140,"author":{"gitId":"-"},"content":"MarkBind home is at [here](https://markbind.org)."},{"lineNumber":141,"author":{"gitId":"-"},"content":""},{"lineNumber":142,"author":{"gitId":"-"},"content":"MarkBind home is at [here][1]."},{"lineNumber":143,"author":{"gitId":"-"},"content":""},{"lineNumber":144,"author":{"gitId":"-"},"content":"[1]: https://markbind.org"},{"lineNumber":145,"author":{"gitId":"-"},"content":"```"},{"lineNumber":146,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":147,"author":{"gitId":"-"},"content":""},{"lineNumber":148,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"examples\" class\u003d\"d-none\"\u003e"},{"lineNumber":149,"author":{"gitId":"-"},"content":""},{"lineNumber":150,"author":{"gitId":"-"},"content":"MarkBind home is at [here](https://markbind.org)."},{"lineNumber":151,"author":{"gitId":"-"},"content":"\u003c/span\u003e"}],"authorContributionMap":{"wxwxwxwx9":12,"-":139}},{"path":"docs/userGuide/syntax/navBars.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"## Navbars"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"**Navbar allows visitors of your website to navigate through pages easily.**"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"**Navbars support link highlighting; link highlighting can be customised by specifying rules.**"},{"lineNumber":6,"author":{"gitId":"-"},"content":"- Define `default-highlight-on` in `\u003cnavbar\u003e` to specify fallback highlight rules."},{"lineNumber":7,"author":{"gitId":"-"},"content":"- Define `data-highlight` in `\u003ca\u003e` tags with the class `nav-link` or `dropdown-item` to specify individual highlight rules."},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  \u003cmarkdown\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":"Note: **Navbars** should be placed within a [header file]({{ baseUrl }}/userGuide/tweakingThePageStructure.html#headers) to ensure that they are correctly positioned at the top of the page, above the [site navigation]({{ baseUrl }}/userGuide/tweakingThePageStructure.html#site-navigation-menus) and [page navigation]({{ baseUrl }}/userGuide/tweakingThePageStructure.html#page-navigation-menus) menus."},{"lineNumber":12,"author":{"gitId":"-"},"content":"  \u003c/markdown\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":14,"author":{"gitId":"-"},"content":""},{"lineNumber":15,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":16,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":17,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":18,"author":{"gitId":"-"},"content":"\u003cnavbar type\u003d\"primary\"\u003e"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  \u003c!-- Brand as slot --\u003e"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  \u003ca slot\u003d\"brand\" href\u003d\"/\" title\u003d\"Home\" class\u003d\"navbar-brand\"\u003eMarkBind\u003c/a\u003e"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"{{baseUrl}}/userGuide/usingComponents.html#navbars\" class\u003d\"nav-link\"\u003eHighlighted Link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  \u003c!-- You can use dropdown component --\u003e"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  \u003cdropdown header\u003d\"Dropdown\" class\u003d\"nav-link\"\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    \u003cli\u003e\u003ca href\u003d\"#navbar\" class\u003d\"dropdown-item\"\u003eOption\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  \u003c!-- For right positioning use slot --\u003e"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  \u003cli slot\u003d\"right\"\u003e"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    \u003ca href\u003d\"https://github.com/MarkBind/markbind\" target\u003d\"_blank\" class\u003d\"nav-link\"\u003eFork...\u003c/a\u003e"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  \u003c/li\u003e"},{"lineNumber":30,"author":{"gitId":"-"},"content":"\u003c/navbar\u003e"},{"lineNumber":31,"author":{"gitId":"-"},"content":""},{"lineNumber":32,"author":{"gitId":"-"},"content":"\u003cnavbar type\u003d\"dark\"\u003e"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  \u003c!-- Brand as slot --\u003e"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  \u003ca slot\u003d\"brand\" href\u003d\"/\" title\u003d\"Home\" class\u003d\"navbar-brand\"\u003eMarkBind\u003c/a\u003e"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"{{baseUrl}}/userGuide/usingComponents.html#navbars\" class\u003d\"nav-link\"\u003eHighlighted Link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  \u003c!-- You can use dropdown component --\u003e"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  \u003cdropdown header\u003d\"Dropdown\" class\u003d\"nav-link\"\u003e"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    \u003cli\u003e\u003ca href\u003d\"#navbar\" class\u003d\"dropdown-item\"\u003eOption\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  \u003c!-- For right positioning use slot --\u003e"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  \u003cli slot\u003d\"right\"\u003e"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    \u003ca href\u003d\"https://github.com/MarkBind/markbind\" target\u003d\"_blank\" class\u003d\"nav-link\"\u003eFork...\u003c/a\u003e"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  \u003c/li\u003e"},{"lineNumber":44,"author":{"gitId":"-"},"content":"\u003c/navbar\u003e"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"\u003cnavbar type\u003d\"light\"\u003e"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  \u003c!-- Brand as slot --\u003e"},{"lineNumber":48,"author":{"gitId":"-"},"content":"  \u003ca slot\u003d\"brand\" href\u003d\"/\" title\u003d\"Home\" class\u003d\"navbar-brand\"\u003eMarkBind\u003c/a\u003e"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"{{baseUrl}}/userGuide/usingComponents.html#navbars\" class\u003d\"nav-link\"\u003eHighlighted Link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  \u003c!-- You can use dropdown component --\u003e"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  \u003cdropdown header\u003d\"Dropdown\" class\u003d\"nav-link\"\u003e"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    \u003cli\u003e\u003ca href\u003d\"#navbar\" class\u003d\"dropdown-item\"\u003eOption\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":54,"author":{"gitId":"-"},"content":"  \u003c!-- For right positioning use slot --\u003e"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  \u003cli slot\u003d\"right\"\u003e"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    \u003ca href\u003d\"https://github.com/MarkBind/markbind\" target\u003d\"_blank\" class\u003d\"nav-link\"\u003eFork...\u003c/a\u003e"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  \u003c/li\u003e"},{"lineNumber":58,"author":{"gitId":"-"},"content":"\u003c/navbar\u003e"},{"lineNumber":59,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":60,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":61,"author":{"gitId":"-"},"content":""},{"lineNumber":62,"author":{"gitId":"-"},"content":"****Options****"},{"lineNumber":63,"author":{"gitId":"-"},"content":""},{"lineNumber":64,"author":{"gitId":"-"},"content":"Name | Type | Default | Description"},{"lineNumber":65,"author":{"gitId":"-"},"content":"--- | --- | --- | ---"},{"lineNumber":66,"author":{"gitId":"-"},"content":"type | `String` | `primary` | Supports: `primary`, `dark`, `light`, `none`."},{"lineNumber":67,"author":{"gitId":"-"},"content":"default-highlight-on | `String` | `sibling-or-child` | Supports: `sibling-or-child`, `sibling`, `child`, `exact`, `none`. Specifies link highlight rules for navbars."},{"lineNumber":68,"author":{"gitId":"-"},"content":""},{"lineNumber":69,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"tip\"\u003e"},{"lineNumber":70,"author":{"gitId":"-"},"content":""},{"lineNumber":71,"author":{"gitId":"-"},"content":"If you wish to further customize your navbar beyond the primary, dark, and light theme colors, specify the `type\u003d\"none\"` attribute and [insert your own custom styles](#inserting-custom-classes-into-components) or \u003ctrigger trigger\u003d\"click\" for\u003d\"modal:built-in-bg\"\u003euse built-in background styles\u003c/trigger\u003e via the `add-class` attribute."},{"lineNumber":72,"author":{"gitId":"-"},"content":""},{"lineNumber":73,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":74,"author":{"gitId":"-"},"content":""},{"lineNumber":75,"author":{"gitId":"-"},"content":"\u003cmodal header\u003d\"Built-in background styles\" id\u003d\"modal:built-in-bg\"\u003e"},{"lineNumber":76,"author":{"gitId":"-"},"content":"\u003cmd\u003eFor instance, Bootstrap supports `.bg-danger`, `bg-info`, `bg-primary`, `bg-success`, `bg-warning` as background colors.\u003c/md\u003e"},{"lineNumber":77,"author":{"gitId":"-"},"content":"\u003cmd\u003eIn `{your-site}/_markbind/headers/header.md`, you can change `\u003cnavbar type\u003d\"dark/primary/light\"\u003e` to `\u003cnavbar type\u003d\"none\" add-class\u003d\"bg-warning/danger/info/primary/success\"\u003e` to apply Bootstrap background styles.\u003c/md\u003e"},{"lineNumber":78,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":79,"author":{"gitId":"-"},"content":""},{"lineNumber":80,"author":{"gitId":"-"},"content":"****Navbar Link Highlighting****"},{"lineNumber":81,"author":{"gitId":"-"},"content":""},{"lineNumber":82,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":83,"author":{"gitId":"-"},"content":"{% include \"_markbind/layouts/headers/header.mbdf\" %}"},{"lineNumber":84,"author":{"gitId":"-"},"content":"```"},{"lineNumber":85,"author":{"gitId":"-"},"content":""},{"lineNumber":86,"author":{"gitId":"-"},"content":"****Highlight Options****"},{"lineNumber":87,"author":{"gitId":"-"},"content":""},{"lineNumber":88,"author":{"gitId":"-"},"content":"Name | Description"},{"lineNumber":89,"author":{"gitId":"-"},"content":"--- | ---"},{"lineNumber":90,"author":{"gitId":"-"},"content":"`child` | Highlights link if URL in address bar is a child of the link. E.g `foo/bar` is a child of `foo`."},{"lineNumber":91,"author":{"gitId":"-"},"content":"`sibling` | Highlights link if URL in address bar is a sibling of the link. E.g `foo/bar` and `foo/bear` are siblings."},{"lineNumber":92,"author":{"gitId":"-"},"content":"`sibling-or-child` | Highlights link if URL in address bar is a sibling or child of the link."},{"lineNumber":93,"author":{"gitId":"-"},"content":"`exact` | Highlights link if URL in address bar exactly matches link."},{"lineNumber":94,"author":{"gitId":"-"},"content":"`none` | No highlighting."},{"lineNumber":95,"author":{"gitId":"-"},"content":""},{"lineNumber":96,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"short\" class\u003d\"d-none\"\u003e"},{"lineNumber":97,"author":{"gitId":"-"},"content":""},{"lineNumber":98,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":99,"author":{"gitId":"-"},"content":"\u003cnavbar type\u003d\"primary\"\u003e"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  \u003c!-- Brand as slot --\u003e"},{"lineNumber":101,"author":{"gitId":"-"},"content":"  \u003ca slot\u003d\"brand\" href\u003d\"/\" title\u003d\"Home\" class\u003d\"navbar-brand\"\u003eMarkBind\u003c/a\u003e"},{"lineNumber":102,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"{{baseUrl}}/userGuide/usingComponents.html#navbars\" class\u003d\"nav-link\"\u003eHighlighted Link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  \u003c!-- You can use dropdown component --\u003e"},{"lineNumber":104,"author":{"gitId":"-"},"content":"  \u003cdropdown header\u003d\"Dropdown\" class\u003d\"nav-link\"\u003e"},{"lineNumber":105,"author":{"gitId":"-"},"content":"    \u003cli\u003e\u003ca href\u003d\"#navbar\" class\u003d\"dropdown-item\"\u003eOption\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":107,"author":{"gitId":"-"},"content":"  \u003c!-- For right positioning use slot --\u003e"},{"lineNumber":108,"author":{"gitId":"-"},"content":"  \u003cli slot\u003d\"right\"\u003e"},{"lineNumber":109,"author":{"gitId":"-"},"content":"    \u003ca href\u003d\"https://github.com/MarkBind/markbind\" target\u003d\"_blank\" class\u003d\"nav-link\"\u003eFork...\u003c/a\u003e"},{"lineNumber":110,"author":{"gitId":"-"},"content":"  \u003c/li\u003e"},{"lineNumber":111,"author":{"gitId":"-"},"content":"\u003c/navbar\u003e"},{"lineNumber":112,"author":{"gitId":"-"},"content":"```"},{"lineNumber":113,"author":{"gitId":"-"},"content":""},{"lineNumber":114,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":115,"author":{"gitId":"-"},"content":""},{"lineNumber":116,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"examples\" class\u003d\"d-none\"\u003e"},{"lineNumber":117,"author":{"gitId":"-"},"content":""},{"lineNumber":118,"author":{"gitId":"-"},"content":"\u003cnavbar type\u003d\"primary\"\u003e"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  \u003c!-- Brand as slot --\u003e"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  \u003ca slot\u003d\"brand\" href\u003d\"/\" title\u003d\"Home\" class\u003d\"navbar-brand\"\u003eMarkBind\u003c/a\u003e"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"{{baseUrl}}/userGuide/usingComponents.html#navbars\" class\u003d\"nav-link\"\u003eHighlighted Link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":122,"author":{"gitId":"-"},"content":"  \u003c!-- You can use dropdown component --\u003e"},{"lineNumber":123,"author":{"gitId":"-"},"content":"  \u003cdropdown header\u003d\"Dropdown\" class\u003d\"nav-link\"\u003e"},{"lineNumber":124,"author":{"gitId":"-"},"content":"    \u003cli\u003e\u003ca href\u003d\"#navbar\" class\u003d\"dropdown-item\"\u003eOption\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":125,"author":{"gitId":"-"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":126,"author":{"gitId":"-"},"content":"  \u003c!-- For right positioning use slot --\u003e"},{"lineNumber":127,"author":{"gitId":"-"},"content":"  \u003cli slot\u003d\"right\"\u003e"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    \u003ca href\u003d\"https://github.com/MarkBind/markbind\" target\u003d\"_blank\" class\u003d\"nav-link\"\u003eFork...\u003c/a\u003e"},{"lineNumber":129,"author":{"gitId":"-"},"content":"  \u003c/li\u003e"},{"lineNumber":130,"author":{"gitId":"-"},"content":"\u003c/navbar\u003e"},{"lineNumber":131,"author":{"gitId":"-"},"content":""},{"lineNumber":132,"author":{"gitId":"-"},"content":"\u003cnavbar type\u003d\"dark\"\u003e"},{"lineNumber":133,"author":{"gitId":"-"},"content":"  \u003c!-- Brand as slot --\u003e"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  \u003ca slot\u003d\"brand\" href\u003d\"/\" title\u003d\"Home\" class\u003d\"navbar-brand\"\u003eMarkBind\u003c/a\u003e"},{"lineNumber":135,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"{{baseUrl}}/userGuide/usingComponents.html#navbars\" class\u003d\"nav-link\"\u003eHighlighted Link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  \u003c!-- You can use dropdown component --\u003e"},{"lineNumber":137,"author":{"gitId":"-"},"content":"  \u003cdropdown header\u003d\"Dropdown\" class\u003d\"nav-link\"\u003e"},{"lineNumber":138,"author":{"gitId":"-"},"content":"    \u003cli\u003e\u003ca href\u003d\"#navbar\" class\u003d\"dropdown-item\"\u003eOption\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":139,"author":{"gitId":"-"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":140,"author":{"gitId":"-"},"content":"  \u003c!-- For right positioning use slot --\u003e"},{"lineNumber":141,"author":{"gitId":"-"},"content":"  \u003cli slot\u003d\"right\"\u003e"},{"lineNumber":142,"author":{"gitId":"-"},"content":"    \u003ca href\u003d\"https://github.com/MarkBind/markbind\" target\u003d\"_blank\" class\u003d\"nav-link\"\u003eFork...\u003c/a\u003e"},{"lineNumber":143,"author":{"gitId":"-"},"content":"  \u003c/li\u003e"},{"lineNumber":144,"author":{"gitId":"-"},"content":"\u003c/navbar\u003e"},{"lineNumber":145,"author":{"gitId":"-"},"content":""},{"lineNumber":146,"author":{"gitId":"-"},"content":"\u003cnavbar type\u003d\"light\"\u003e"},{"lineNumber":147,"author":{"gitId":"-"},"content":"  \u003c!-- Brand as slot --\u003e"},{"lineNumber":148,"author":{"gitId":"-"},"content":"  \u003ca slot\u003d\"brand\" href\u003d\"/\" title\u003d\"Home\" class\u003d\"navbar-brand\"\u003eMarkBind\u003c/a\u003e"},{"lineNumber":149,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca href\u003d\"{{baseUrl}}/userGuide/usingComponents.html#navbars\" class\u003d\"nav-link\"\u003eHighlighted Link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":150,"author":{"gitId":"-"},"content":"  \u003c!-- You can use dropdown component --\u003e"},{"lineNumber":151,"author":{"gitId":"-"},"content":"  \u003cdropdown header\u003d\"Dropdown\" class\u003d\"nav-link\"\u003e"},{"lineNumber":152,"author":{"gitId":"-"},"content":"    \u003cli\u003e\u003ca href\u003d\"#navbar\" class\u003d\"dropdown-item\"\u003eOption\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":153,"author":{"gitId":"-"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":154,"author":{"gitId":"-"},"content":"  \u003c!-- For right positioning use slot --\u003e"},{"lineNumber":155,"author":{"gitId":"-"},"content":"  \u003cli slot\u003d\"right\"\u003e"},{"lineNumber":156,"author":{"gitId":"-"},"content":"    \u003ca href\u003d\"https://github.com/MarkBind/markbind\" target\u003d\"_blank\" class\u003d\"nav-link\"\u003eFork...\u003c/a\u003e"},{"lineNumber":157,"author":{"gitId":"-"},"content":"  \u003c/li\u003e"},{"lineNumber":158,"author":{"gitId":"-"},"content":"\u003c/navbar\u003e"},{"lineNumber":159,"author":{"gitId":"-"},"content":""},{"lineNumber":160,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":161,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":162,"author":{"gitId":"jonahtanjz"},"content":"****Page and site navigation menus****  "},{"lineNumber":163,"author":{"gitId":"jonahtanjz"},"content":"Both [site navigation]({{ baseUrl }}/userGuide/usingComponents.html#site-navigation-menus) and [page navigation]({{ baseUrl }}/userGuide/usingComponents.html#page-navigation-menus) menus will be hidden on smaller screens."},{"lineNumber":164,"author":{"gitId":"jonahtanjz"},"content":"To make these accessible on smaller screens, you can use the `\u003csite-nav-button /\u003e` and `\u003cpage-nav-button /\u003e` components in the `lower-navbar` slot. By default, if the `lower-navbar` slot is not specified, both the site and "},{"lineNumber":165,"author":{"gitId":"jonahtanjz"},"content":"page navigation buttons will automatically be added if they exist."},{"lineNumber":166,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":167,"author":{"gitId":"jonahtanjz"},"content":"```html{.no-line-numbers}"},{"lineNumber":168,"author":{"gitId":"jonahtanjz"},"content":"\u003cnavbar\u003e"},{"lineNumber":169,"author":{"gitId":"jonahtanjz"},"content":"  \u003c!-- Any normal navbar items --\u003e"},{"lineNumber":170,"author":{"gitId":"jonahtanjz"},"content":"  \u003ca slot\u003d\"brand\" href\u003d\"/\" title\u003d\"Home\" class\u003d\"navbar-brand\"\u003eMarkBind\u003c/a\u003e"},{"lineNumber":171,"author":{"gitId":"jonahtanjz"},"content":"  \u003cli\u003e\u003ca href\u003d\"/userGuide/usingComponents.html#navbars\" class\u003d\"nav-link\"\u003eHighlighted Link\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":172,"author":{"gitId":"jonahtanjz"},"content":"  \u003c!-- Use slot to wrap the buttons in the lower navbar --\u003e"},{"lineNumber":173,"author":{"gitId":"jonahtanjz"},"content":"  \u003cdiv slot\u003d\"lower-navbar\" class\u003d\"nav-menu-container\"\u003e"},{"lineNumber":174,"author":{"gitId":"jonahtanjz"},"content":"    \u003csite-nav-button /\u003e"},{"lineNumber":175,"author":{"gitId":"jonahtanjz"},"content":"    \u003cpage-nav-button /\u003e"},{"lineNumber":176,"author":{"gitId":"jonahtanjz"},"content":"  \u003c/div\u003e"},{"lineNumber":177,"author":{"gitId":"jonahtanjz"},"content":"\u003c/navbar\u003e"},{"lineNumber":178,"author":{"gitId":"jonahtanjz"},"content":"```"},{"lineNumber":179,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":180,"author":{"gitId":"jonahtanjz"},"content":"Component | Description"},{"lineNumber":181,"author":{"gitId":"jonahtanjz"},"content":"--- | ---"},{"lineNumber":182,"author":{"gitId":"jonahtanjz"},"content":"`page-nav-button` | Pulls any element with an identifier, `id\u003dpage-nav` into the menu. If no such element exists, it pulls any [page navigation menu]({{ baseUrl }}/userGuide/usingComponents.html#page-navigation-menus) used in the layout."},{"lineNumber":183,"author":{"gitId":"jonahtanjz"},"content":"`site-nav-button` | Pulls any element with an identifier, `id\u003dsite-nav` into the menu. If no such element exists, it pulls the first [site navigation menu]({{ baseUrl }}/userGuide/usingComponents.html#site-navigation-menus) used in the layout."}],"authorContributionMap":{"jonahtanjz":23,"-":160}},{"path":"docs/userGuide/syntax/pageNavigationMenus.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"## Page Navigation Menus"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"content\"\u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"**A _Page Navigation Menu_ (\u003d\u003d_pageNav_ for short\u003d\u003d)  a list of the current page\u0027s headings.** Page navigation menus are only available for use in [layouts]({{baseUrl}}/userGuide/tweakingThePageStructure.html#layouts)."},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"****Adding a pageNav****"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"1. **Specify the smallest heading level you want to be included** within the `\u003cfrontmatter\u003e` of a page with \u003ctooltip content\u003d\"The value `default` will use `headingIndexingLevel` within `site.json`.\"\u003e`\"default\"`\u003c/tooltip\u003e or a \u003ctooltip content\u003d\"HTML defines six levels of headings, numbered from \u003cbr\u003e`1 to 6`.\"\u003e`heading level`\u003c/tooltip\u003e."},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"   \u003cbox type\u003d\"info\" seamless\u003e"},{"lineNumber":12,"author":{"gitId":"-"},"content":""},{"lineNumber":13,"author":{"gitId":"-"},"content":"   The `default` level uses the [`headingIndexingLevel` property]({{baseUrl}}/userGuide/siteJsonFile.html#headingindexinglevel) of your site configuration file."},{"lineNumber":14,"author":{"gitId":"-"},"content":"   \u003c/box\u003e"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"2. **(Optional) You may also specify a page navigation title** within `\u003cfrontmatter\u003e` that will be placed at the top of the page navigation menu."},{"lineNumber":17,"author":{"gitId":"-"},"content":""},{"lineNumber":18,"author":{"gitId":"-"},"content":"3. **Position the page navigation menu** within your layout using the `{% raw %}{{ pageNav }}{% endraw %}` variable."},{"lineNumber":19,"author":{"gitId":"-"},"content":""},{"lineNumber":20,"author":{"gitId":"jonahtanjz"},"content":"4. **(Optional) To make pageNav accessible on smaller screens, you can use the `\u003cpage-nav-button /\u003e` component in the [navbar]({{baseUrl}}/userGuide/usingComponents.html#navbars).**"},{"lineNumber":21,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":22,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"short\" class\u003d\"indented\"\u003e"},{"lineNumber":23,"author":{"gitId":"-"},"content":""},{"lineNumber":24,"author":{"gitId":"-"},"content":"{{ icon_example }}"},{"lineNumber":25,"author":{"gitId":"-"},"content":"In the page that you want to have page navigation, you may show only `\u003ch1\u003e` and `\u003ch2\u003e` headings in the pageNav, and set a custom pageNav title like so:"},{"lineNumber":26,"author":{"gitId":"-"},"content":""},{"lineNumber":27,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":28,"author":{"gitId":"-"},"content":"\u003cfrontmatter\u003e"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  pageNav: 2"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  pageNavTitle: \"Chapters of This Page\""},{"lineNumber":31,"author":{"gitId":"-"},"content":"\u003c/frontmatter\u003e"},{"lineNumber":32,"author":{"gitId":"-"},"content":"```"},{"lineNumber":33,"author":{"gitId":"-"},"content":""},{"lineNumber":34,"author":{"gitId":"-"},"content":"Then, in your [layout file]({{baseUrl}}/userGuide/tweakingThePageStructure.html#layouts), use the `{% raw %}{{ pageNav }}{% endraw %}` variable to position the pageNav."},{"lineNumber":35,"author":{"gitId":"-"},"content":""},{"lineNumber":36,"author":{"gitId":"-"},"content":"{% if not doNotShowPageNav %}"},{"lineNumber":37,"author":{"gitId":"-"},"content":"{{ icon_example }} \u003ctrigger for\u003d\"modal:page-nav-example\"\u003eExample usage of the `{% raw %}{{ pageNav }}{% endraw %}` variable\u003c/trigger\u003e"},{"lineNumber":38,"author":{"gitId":"-"},"content":""},{"lineNumber":39,"author":{"gitId":"-"},"content":"\u003cmodal header\u003d\"Using the `pageNav` variable in a layout\" id\u003d\"modal:page-nav-example\" large\u003e"},{"lineNumber":40,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"../tweakingThePageStructure.md#layout-code-snippet\"\u003e"},{"lineNumber":41,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightLines\"\u003e54\u003c/variable\u003e"},{"lineNumber":42,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":43,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":44,"author":{"gitId":"-"},"content":"{% endif %}"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":47,"author":{"gitId":"-"},"content":""},{"lineNumber":48,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":49,"author":{"gitId":"-"},"content":""},{"lineNumber":50,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"examples\" class\u003d\"d-none\"\u003e"},{"lineNumber":51,"author":{"gitId":"-"},"content":""},{"lineNumber":52,"author":{"gitId":"-"},"content":"You can see an example of a Page Navigation Bar \u003d\u003don the right side\u003d\u003d of \u003ca target\u003d\"_blank\" href\u003d\"{{ baseUrl }}/userGuide/formattingContents.html\"\u003ethis page\u003c/a\u003e."},{"lineNumber":53,"author":{"gitId":"-"},"content":"\u003c/span\u003e"}],"authorContributionMap":{"jonahtanjz":2,"-":51}},{"path":"docs/userGuide/syntax/panels.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"{% from \"userGuide/components/advanced.md\" import slot_info_trigger %}"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"## Panels"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"**Panel is a flexible container that supports collapsing and expanding its content. It is expandable by default.**"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":8,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"This is your header for a Panel, click me to expand!\"\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  Lorem ipsum ..."},{"lineNumber":12,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":14,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"**With `minimized` attribute, panel is minimized into an inline block element. The `alt` attribute is for you to specify the minimized block header.**"},{"lineNumber":17,"author":{"gitId":"-"},"content":""},{"lineNumber":18,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":19,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":20,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":21,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"How to cultivate a tomato plant at home\" alt\u003d\"Tomatoes\" minimized\u003e"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  Lorem ipsum ..."},{"lineNumber":23,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":25,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":""},{"lineNumber":27,"author":{"gitId":"-"},"content":"**With `expanded` attribute, you can set the panels to be expanded when loaded in.**"},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":30,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":31,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":32,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"Have your readers click less to see the Panel\u0027s contents\" expanded\u003e"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  Lorem ipsum ..."},{"lineNumber":34,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":35,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":36,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":37,"author":{"gitId":"-"},"content":""},{"lineNumber":38,"author":{"gitId":"raysonkoh"},"content":"**With the `expand-headerless` attribute, you can hide the panel header when it is expanded.**"},{"lineNumber":39,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":40,"author":{"gitId":"raysonkoh"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":41,"author":{"gitId":"raysonkoh"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":42,"author":{"gitId":"raysonkoh"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":43,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cpanel header\u003d\"This header will only show when the Panel is collapsed\" expand-headerless\u003e"},{"lineNumber":44,"author":{"gitId":"raysonkoh"},"content":"  Lorem ipsum ..."},{"lineNumber":45,"author":{"gitId":"raysonkoh"},"content":"\u003c/panel\u003e"},{"lineNumber":46,"author":{"gitId":"raysonkoh"},"content":"\u003c/variable\u003e"},{"lineNumber":47,"author":{"gitId":"raysonkoh"},"content":"\u003c/include\u003e"},{"lineNumber":48,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":49,"author":{"gitId":"wxwxwxwx9"},"content":"**With the `peek` attribute, you may showcase part of your content without expanding the panel.**"},{"lineNumber":50,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":51,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":52,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":53,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":54,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cpanel header\u003d\"Give your readers a peek of the content without expanding Panel\" peek\u003e"},{"lineNumber":55,"author":{"gitId":"wxwxwxwx9"},"content":"  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore"},{"lineNumber":56,"author":{"gitId":"wxwxwxwx9"},"content":"  magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo"},{"lineNumber":57,"author":{"gitId":"wxwxwxwx9"},"content":"  consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."},{"lineNumber":58,"author":{"gitId":"wxwxwxwx9"},"content":"  Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{"lineNumber":59,"author":{"gitId":"wxwxwxwx9"},"content":"  Curabitur ornare ipsum eu ex congue egestas. Maecenas pretium nibh sed enim ornare finibus. Mauris quis metus "},{"lineNumber":60,"author":{"gitId":"wxwxwxwx9"},"content":"  facilisis, mattis tellus nec, pulvinar mi. Quisque at vehicula lectus. Ut ac lacus mi. Donec mattis nec velit "},{"lineNumber":61,"author":{"gitId":"wxwxwxwx9"},"content":"  eget tincidunt. Maecenas vel mauris mattis nisl tempor sollicitudin. Orci varius natoque penatibus et magnis "},{"lineNumber":62,"author":{"gitId":"wxwxwxwx9"},"content":"  dis parturient montes, nascetur ridiculus mus. Duis tincidunt diam eu dolor pellentesque, eget dignissim tortor "},{"lineNumber":63,"author":{"gitId":"wxwxwxwx9"},"content":"  pellentesque. "},{"lineNumber":64,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/panel\u003e"},{"lineNumber":65,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/variable\u003e"},{"lineNumber":66,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/include\u003e"},{"lineNumber":67,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":68,"author":{"gitId":"-"},"content":"**Panel provides many types that change its appearance.**"},{"lineNumber":69,"author":{"gitId":"-"},"content":""},{"lineNumber":70,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":71,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":72,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":73,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**light type panel (DEFAULT)**\" type\u003d\"light\" minimized\u003e"},{"lineNumber":74,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":75,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":76,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**dark type panel**\" type\u003d\"dark\" minimized\u003e"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":78,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":79,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**primary type panel**\" type\u003d\"primary\" minimized\u003e"},{"lineNumber":80,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":81,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":82,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**secondary type panel**\" type\u003d\"secondary\" minimized\u003e"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":84,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":85,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**info type panel**\" type\u003d\"info\" minimized\u003e"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":87,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":88,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**danger type panel**\" type\u003d\"danger\" minimized\u003e"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":90,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":91,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**warning type panel**\" type\u003d\"warning\" minimized\u003e"},{"lineNumber":92,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":93,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":94,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**success type panel**\" type\u003d\"success\" minimized\u003e"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":96,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":97,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**seamless type panel**\" type\u003d\"seamless\" minimized\u003e"},{"lineNumber":98,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":99,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":100,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**minimal type panel**\" type\u003d\"minimal\" minimized\u003e"},{"lineNumber":101,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":102,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":103,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":104,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":105,"author":{"gitId":"-"},"content":""},{"lineNumber":106,"author":{"gitId":"-"},"content":""},{"lineNumber":107,"author":{"gitId":"-"},"content":"**Show/Hide buttons using `no-switch` or `no-close`.**"},{"lineNumber":108,"author":{"gitId":"-"},"content":""},{"lineNumber":109,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":110,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":111,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":112,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"This panel does not have a switch button\" no-switch\u003e"},{"lineNumber":113,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":114,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":115,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"This panel does not have a close button\" no-close\u003e"},{"lineNumber":116,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":117,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":118,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"This panel does not have either buttons\" no-close no-switch\u003e"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":120,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":121,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":122,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":123,"author":{"gitId":"-"},"content":""},{"lineNumber":124,"author":{"gitId":"-"},"content":"**Use markdown in the header (only inline level markdown are supported).**"},{"lineNumber":125,"author":{"gitId":"-"},"content":""},{"lineNumber":126,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":127,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":128,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":129,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"**Bold text** :rocket: ![](https://markbind.org/images/logo-lightbackground.png \u003dx20)\" type\u003d\"seamless\"\u003e"},{"lineNumber":130,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":131,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":132,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":133,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":134,"author":{"gitId":"-"},"content":""},{"lineNumber":135,"author":{"gitId":"-"},"content":"**If `src` attribute is provided, the panel will take content from the `src` specified and add it to the Panel body.**"},{"lineNumber":136,"author":{"gitId":"-"},"content":""},{"lineNumber":137,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":138,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":139,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":140,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"Content loaded in from \u0027src\u0027\" src\u003d\"extra/loadContent.html#fragment\" minimized\u003e\u003c/panel\u003e"},{"lineNumber":141,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":142,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":143,"author":{"gitId":"-"},"content":""},{"lineNumber":144,"author":{"gitId":"-"},"content":"**If `popup-url` attribute is provided, a popup button will be shown. If clicked, it opens the specified url in a new window.**"},{"lineNumber":145,"author":{"gitId":"-"},"content":""},{"lineNumber":146,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":147,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":148,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":149,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"Try clicking on my pop-up button\" popup-url\u003d\"{{ baseUrl }}/userGuide/syntax/extra/loadContent.html\"\u003e"},{"lineNumber":150,"author":{"gitId":"-"},"content":"  This panel has a popup."},{"lineNumber":151,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":152,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":153,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":154,"author":{"gitId":"-"},"content":""},{"lineNumber":155,"author":{"gitId":"-"},"content":"**If `preload` attribute is provided, the panel body will load the HTML when the page renders instead of after being expanded.**"},{"lineNumber":156,"author":{"gitId":"-"},"content":""},{"lineNumber":157,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":158,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":159,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":160,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"Right click and inspect my HTML before expanding me!\" src\u003d\"extra/loadContent.html#fragment\" preload\u003e"},{"lineNumber":161,"author":{"gitId":"-"},"content":"  \u003cp\u003eYou should be able to find this text before expanding the Panel.\u003c/p\u003e"},{"lineNumber":162,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":163,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":164,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":165,"author":{"gitId":"-"},"content":""},{"lineNumber":166,"author":{"gitId":"-"},"content":"**You can nest Panels or other components within a Panel.**"},{"lineNumber":167,"author":{"gitId":"-"},"content":""},{"lineNumber":168,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":169,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"highlightStyle\"\u003ehtml\u003c/variable\u003e"},{"lineNumber":170,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":171,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"Parent Panel\"\u003e"},{"lineNumber":172,"author":{"gitId":"-"},"content":"  \u003cpanel header\u003d\"Level 1 Nested Panel\"\u003e"},{"lineNumber":173,"author":{"gitId":"-"},"content":"    \u003cpanel header\u003d\"Level 2 Nested Panel\"\u003e"},{"lineNumber":174,"author":{"gitId":"-"},"content":"      \u003ctip-box type\u003d\"success\"\u003e"},{"lineNumber":175,"author":{"gitId":"-"},"content":"        I\u0027m a nested tip-box"},{"lineNumber":176,"author":{"gitId":"-"},"content":"      \u003c/tip-box\u003e"},{"lineNumber":177,"author":{"gitId":"-"},"content":"      \u003cpanel header\u003d\"Level 3 Nested Panel\" type\u003d\"minimal\"\u003e"},{"lineNumber":178,"author":{"gitId":"-"},"content":"        minimal-type panel"},{"lineNumber":179,"author":{"gitId":"-"},"content":"      \u003c/panel\u003e"},{"lineNumber":180,"author":{"gitId":"-"},"content":"    \u003c/panel\u003e"},{"lineNumber":181,"author":{"gitId":"-"},"content":"  \u003c/panel\u003e"},{"lineNumber":182,"author":{"gitId":"-"},"content":"  \u003cpanel header\u003d\"Level 1 Nested Panel\" type\u003d\"info\"\u003e"},{"lineNumber":183,"author":{"gitId":"-"},"content":"    Some Text"},{"lineNumber":184,"author":{"gitId":"-"},"content":"  \u003c/panel\u003e"},{"lineNumber":185,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":186,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":187,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":188,"author":{"gitId":"-"},"content":""},{"lineNumber":189,"author":{"gitId":"-"},"content":"****Options****"},{"lineNumber":190,"author":{"gitId":"-"},"content":"Name | Type | Default | Description"},{"lineNumber":191,"author":{"gitId":"-"},"content":"--- | --- | --- | ---"},{"lineNumber":192,"author":{"gitId":"-"},"content":"header{{slot_info_trigger}} | `String` | `\u0027\u0027` | The clickable text on the Panel\u0027s header. Supports MarkDown text."},{"lineNumber":193,"author":{"gitId":"-"},"content":"alt | `String` | Panel header | The clickable text on the minimised Panel. Supports MarkDown text."},{"lineNumber":194,"author":{"gitId":"-"},"content":"expandable | `Boolean`| `true` | Whether Panel is expandable."},{"lineNumber":195,"author":{"gitId":"-"},"content":"expanded | `Boolean` | `false` | Whether Panel is expanded or collapsed when loaded in."},{"lineNumber":196,"author":{"gitId":"-"},"content":"minimized | `Boolean` | `false` | Whether Panel is minimized."},{"lineNumber":197,"author":{"gitId":"raysonkoh"},"content":"expand-headerless | `Boolean` | `false` | Whether to hide the header text when the Panel is expanded."},{"lineNumber":198,"author":{"gitId":"wxwxwxwx9"},"content":"peek | `Boolean` | `false` | Whether to show part of the content when the Panel is collapsed."},{"lineNumber":199,"author":{"gitId":"-"},"content":"no-close | `Boolean` | `false` | Whether to show the close button."},{"lineNumber":200,"author":{"gitId":"-"},"content":"no-switch | `Boolean` | `false` | Whether to show the expand switch."},{"lineNumber":201,"author":{"gitId":"-"},"content":"bottom-switch | `Boolean` | `true` | Whether to show an expand switch at the bottom of the panel. Independent of no-switch."},{"lineNumber":202,"author":{"gitId":"-"},"content":"popup-url | `String` | | The url that the popup window will navigate to. The url can be absolute or relative."},{"lineNumber":203,"author":{"gitId":"-"},"content":"preload | `Boolean` | `false` | Whether the content is loaded immediately from `src`."},{"lineNumber":204,"author":{"gitId":"-"},"content":"src | `String` | | The url to the remote page to be loaded as the content of the panel."},{"lineNumber":205,"author":{"gitId":"-"},"content":"type | `String` | `light` | The type or color scheme of the panel (single).\u003cbr\u003eSupports: `light`, `dark`, `primary`, `secondary`, `info`, `success`, `warning`, `danger`, `seamless`, `minimal`."},{"lineNumber":206,"author":{"gitId":"-"},"content":""},{"lineNumber":207,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"short\" class\u003d\"d-none\"\u003e"},{"lineNumber":208,"author":{"gitId":"-"},"content":""},{"lineNumber":209,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":210,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"primary type panel\" type\u003d\"primary\" \u003e"},{"lineNumber":211,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":212,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":213,"author":{"gitId":"-"},"content":"```"},{"lineNumber":214,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":215,"author":{"gitId":"-"},"content":""},{"lineNumber":216,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"examples\" class\u003d\"d-none\"\u003e"},{"lineNumber":217,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"minimal type panel\" type\u003d\"minimal\" \u003e"},{"lineNumber":218,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":219,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":220,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"seamless type panel\" type\u003d\"seamless\" \u003e"},{"lineNumber":221,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":222,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":223,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"info type panel\" type\u003d\"info\" expanded\u003e"},{"lineNumber":224,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":225,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":226,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"danger type panel\" type\u003d\"danger\" \u003e"},{"lineNumber":227,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":228,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":229,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"warning type panel\" type\u003d\"warning\" \u003e"},{"lineNumber":230,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":231,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":232,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"success type panel\" type\u003d\"success\" \u003e"},{"lineNumber":233,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":234,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":235,"author":{"gitId":"-"},"content":"\u003cp/\u003e"},{"lineNumber":236,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"light type panel (DEFAULT)\" type\u003d\"light\" minimized\u003e"},{"lineNumber":237,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":238,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":239,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"dark type panel\" type\u003d\"dark\" minimized\u003e"},{"lineNumber":240,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":241,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":242,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"primary type panel\" type\u003d\"primary\" minimized\u003e"},{"lineNumber":243,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":244,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":245,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"secondary type panel\" type\u003d\"secondary\" minimized\u003e"},{"lineNumber":246,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":247,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":248,"author":{"gitId":"-"},"content":""},{"lineNumber":249,"author":{"gitId":"-"},"content":""},{"lineNumber":250,"author":{"gitId":"-"},"content":"\u003c/span\u003e"}],"authorContributionMap":{"raysonkoh":11,"wxwxwxwx9":21,"-":218}},{"path":"docs/userGuide/syntax/siteNavigationMenus.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"## Site Navigation Menus"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"content\"\u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"**A _Site Navigation Menu_ (\u003d\u003d_siteNav_ for short\u003d\u003d) can be used to show a road map of the main pages of your site.**"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"Steps to add a siteNav:"},{"lineNumber":8,"author":{"gitId":"-"},"content":"1. Format your siteNav as an unordered Markdown list"},{"lineNumber":9,"author":{"gitId":"-"},"content":"2. Include it under a `\u003csite-nav\u003e` element."},{"lineNumber":10,"author":{"gitId":"jonahtanjz"},"content":"3. (Optional) To make siteNav accessible on smaller screens, you can use the `\u003csite-nav-button /\u003e` component in the [navbar]({{baseUrl}}/userGuide/usingComponents.html#navbars)."},{"lineNumber":11,"author":{"gitId":"-"},"content":""},{"lineNumber":12,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"short\"\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"codeAndOutput.md\" boilerplate \u003e"},{"lineNumber":15,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"code\"\u003e"},{"lineNumber":16,"author":{"gitId":"-"},"content":"\u003csite-nav\u003e"},{"lineNumber":17,"author":{"gitId":"-"},"content":"* [**Getting Started**]({{baseUrl}}/userGuide/gettingStarted.html)"},{"lineNumber":18,"author":{"gitId":"-"},"content":"* **Authoring Contents** :expanded:"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  * [Overview]({{baseUrl}}/userGuide/authoringContents.html)"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  * [Adding Pages]({{baseUrl}}/userGuide/addingPages.html)"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  * [MarkBind Syntax Overview]({{baseUrl}}/userGuide/markBindSyntaxOverview.html)"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  * [Formatting Contents]({{baseUrl}}/userGuide/formattingContents.html)"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  * [Using Components]({{baseUrl}}/userGuide/usingComponents.html)"},{"lineNumber":24,"author":{"gitId":"-"},"content":"\u003c/site-nav\u003e"},{"lineNumber":25,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":"\u003c/include\u003e"},{"lineNumber":27,"author":{"gitId":"-"},"content":""},{"lineNumber":28,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":29,"author":{"gitId":"-"},"content":""},{"lineNumber":30,"author":{"gitId":"-"},"content":"MarkBind has styles nested lists with additional padding and smaller text sizes up to **4** nesting levels."},{"lineNumber":31,"author":{"gitId":"-"},"content":"Beyond that, you\u0027d have to include your own styles."},{"lineNumber":32,"author":{"gitId":"-"},"content":""},{"lineNumber":33,"author":{"gitId":"-"},"content":"****Expanding menu items by default****"},{"lineNumber":34,"author":{"gitId":"-"},"content":""},{"lineNumber":35,"author":{"gitId":"-"},"content":"You can **append the `:expanded:` to a \u003ctooltip content\u003d\"a menu item with sub menu-items\"\u003eparent menu item\u003c/tooltip\u003e to make it expand by default.** In the example above, `* Docs :expanded:` will make the menu item `Docs` expand by default."},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"A parent menu item that is also linked will not be collapsible %%e.g., the `Search` menu item in the above example%%."},{"lineNumber":38,"author":{"gitId":"-"},"content":""},{"lineNumber":39,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":40,"author":{"gitId":"-"},"content":""},{"lineNumber":41,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"examples\"\u003e\u003c/div\u003e"}],"authorContributionMap":{"jonahtanjz":1,"-":40}},{"path":"docs/userGuide/syntax/variables.mbdf","fileType":"mbdf","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"link\" class\u003d\"d-none\"\u003e"},{"lineNumber":2,"author":{"gitId":"-"},"content":"\u003cmd\u003e[_User Guide → Reusing Contents → Variables_]({{ baseUrl }}/userGuide/reusingContents.html#variables)\u003c/md\u003e"},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"## Variables"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"overview\"\u003e"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"**Nunjucks [variables](https://mozilla.github.io/nunjucks/templating.html#set) are ideal for reusing small bits of code** in multiple places; you can define a variable to represent the code bit in question and reuse it anywhere in the site by referring to the variable instead of duplicating the code bit."},{"lineNumber":10,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":""},{"lineNumber":12,"author":{"gitId":"-"},"content":"MarkBind does not aim to alter the already robust variable features of nunjucks, but provides several extensions to it."},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"-"},"content":"### Global Variables"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"**Global variables are to be defined in the `_markbind/variables.md` file.** Each variable must have an `name` and the value can be any MarkBind-compliant code fragment. The `name` should not contain `-` and `.`. For example, `search-option` and `search.options` are not allowed."},{"lineNumber":17,"author":{"gitId":"-"},"content":""},{"lineNumber":18,"author":{"gitId":"-"},"content":"The variables declared here are available from anywhere in the code base."},{"lineNumber":19,"author":{"gitId":"-"},"content":""},{"lineNumber":20,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":21,"author":{"gitId":"-"},"content":""},{"lineNumber":22,"author":{"gitId":"-"},"content":"{{ icon_example }} Here\u0027s how you can define two variables `year` and `options`:"},{"lineNumber":23,"author":{"gitId":"-"},"content":""},{"lineNumber":24,"author":{"gitId":"-"},"content":"```html {.no-line-numbers}"},{"lineNumber":25,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"year\"\u003e2018\u003c/variable\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":""},{"lineNumber":27,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"options\"\u003e"},{"lineNumber":28,"author":{"gitId":"-"},"content":"* yes"},{"lineNumber":29,"author":{"gitId":"-"},"content":"* no"},{"lineNumber":30,"author":{"gitId":"-"},"content":"* maybe"},{"lineNumber":31,"author":{"gitId":"-"},"content":"\u003c/variable\u003e"},{"lineNumber":32,"author":{"gitId":"-"},"content":"```"},{"lineNumber":33,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":34,"author":{"gitId":"-"},"content":""},{"lineNumber":35,"author":{"gitId":"-"},"content":"To include a variable value in your code, give the variable id enclosed in Nunjucks\u0027 double curly braces syntax."},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":38,"author":{"gitId":"-"},"content":""},{"lineNumber":39,"author":{"gitId":"-"},"content":"{{ icon_example }} `The year was {% raw %}{{ year }}{% endraw %}.` {{ icon_arrow_right }} The year was 2018."},{"lineNumber":40,"author":{"gitId":"-"},"content":""},{"lineNumber":41,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":42,"author":{"gitId":"-"},"content":""},{"lineNumber":43,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"warning\"\u003e"},{"lineNumber":44,"author":{"gitId":"-"},"content":""},{"lineNumber":45,"author":{"gitId":"-"},"content":"Global variables (`_markbind/variables.md`) will take precedence over any variables set via Nunjucks\u0027 tags (e.g. `{% raw %}{% set %}{% endraw %}`)."},{"lineNumber":46,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":47,"author":{"gitId":"-"},"content":""},{"lineNumber":48,"author":{"gitId":"-"},"content":"#### Built-in Global Variables"},{"lineNumber":49,"author":{"gitId":"-"},"content":""},{"lineNumber":50,"author":{"gitId":"-"},"content":"MarkBind also provides a number of built-in variables."},{"lineNumber":51,"author":{"gitId":"-"},"content":""},{"lineNumber":52,"author":{"gitId":"-"},"content":"Variable | Notes | {{ icon_example }} | Output"},{"lineNumber":53,"author":{"gitId":"-"},"content":"--- | --- | --- | ---"},{"lineNumber":54,"author":{"gitId":"-"},"content":"`baseUrl` | Represents the root directory of the site on the server, as configured in your [site configuration]({{baseUrl}}/userGuide/siteJsonFile.html#baseurl) file. \u003cbr\u003e Used for specifying [intra-site links](../formattingContents.html#intra-site-links). | If `baseUrl` is specified as `userGuide/`:\u003cbr\u003e\u003cbr\u003e `\u003cimg src\u003d\"{% raw %}{{baseUrl}}{% endraw %}/images/logo.png\" /\u003e` | `\u003cimg src\u003d\"userGuide/images/logo.png\" /\u003e`"},{"lineNumber":55,"author":{"gitId":"-"},"content":"`timestamp` | The time stamp that indicates when the page was generated. \u003cbr\u003e\u003cbr\u003e The [default]({{baseUrl}}/userGuide/siteJsonFile.html#timezone) values of `\"timeZone\"` and `\"locale\"` are `\"UTC\"` and `\"en-GB\"` respectively.  | The following example showcases the use of the `\"Asia/Singapore\"` time zone.\u003cbr\u003e\u003cbr\u003e `Page generated at: {% raw %}{{timestamp}}{% endraw %}` | `Page generated at: {{ timestamp }}`"},{"lineNumber":56,"author":{"gitId":"-"},"content":"`MarkBind` | The MarkBind version in use, linked to the MarkBind website. | `Page generated by: {% raw %}{{MarkBind}}{% endraw %}`  | `Page generated by:` {{ MarkBind | safe }}"},{"lineNumber":57,"author":{"gitId":"-"},"content":""},{"lineNumber":58,"author":{"gitId":"-"},"content":""},{"lineNumber":59,"author":{"gitId":"-"},"content":"### Importing variables from other external file formats"},{"lineNumber":60,"author":{"gitId":"-"},"content":""},{"lineNumber":61,"author":{"gitId":"-"},"content":"You can also source variables from external files using MarkBind\u0027s {%raw%}`{% ext varName \u003d \"filepathToFile\" %}`{%endraw%} Nunjucks extension."},{"lineNumber":62,"author":{"gitId":"-"},"content":"This is useful if you have external datasets you want to display in your site!"},{"lineNumber":63,"author":{"gitId":"-"},"content":""},{"lineNumber":64,"author":{"gitId":"-"},"content":"To do so, assign a root variable name (`varName`) to the file path from the \u003ctooltip content\u003d\"similar to how you assign filepaths for other Nunjucks tags\"\u003eroot directory of the site\u003c/tooltip\u003e. You may then access the file\u0027s variables using dot `varName.xx` or array `varName[i]` syntax, depending on the file\u0027s contents."},{"lineNumber":65,"author":{"gitId":"-"},"content":""},{"lineNumber":66,"author":{"gitId":"-"},"content":""},{"lineNumber":67,"author":{"gitId":"-"},"content":""},{"lineNumber":68,"author":{"gitId":"raysonkoh"},"content":"\u003ctabs\u003e"},{"lineNumber":69,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":70,"author":{"gitId":"raysonkoh"},"content":"\u003ctab header\u003d\"Importing from JSON files\"\u003e"},{"lineNumber":71,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":72,"author":{"gitId":"-"},"content":"{{icon_example}}"},{"lineNumber":73,"author":{"gitId":"-"},"content":""},{"lineNumber":74,"author":{"gitId":"-"},"content":"%%CODE:%%"},{"lineNumber":75,"author":{"gitId":"-"},"content":""},{"lineNumber":76,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":77,"author":{"gitId":"-"},"content":""},{"lineNumber":78,"author":{"gitId":"-"},"content":"{% raw %}"},{"lineNumber":79,"author":{"gitId":"-"},"content":"```html {heading\u003d\"Displaying a student scoreboard stored as JSON\"}"},{"lineNumber":80,"author":{"gitId":"-"},"content":"{% ext studentScoreboard \u003d \"userGuide/syntax/extra/scoreboard.json\" %}"},{"lineNumber":81,"author":{"gitId":"-"},"content":""},{"lineNumber":82,"author":{"gitId":"-"},"content":"Student Number | Score | Rank"},{"lineNumber":83,"author":{"gitId":"-"},"content":":----- | :-------: | ----"},{"lineNumber":84,"author":{"gitId":"-"},"content":"{% for student in studentScoreboard.students -%}"},{"lineNumber":85,"author":{"gitId":"-"},"content":"{{ student.number }} | {{ student.score }} | {{ student.rank }}"},{"lineNumber":86,"author":{"gitId":"-"},"content":"{% endfor %}"},{"lineNumber":87,"author":{"gitId":"-"},"content":""},{"lineNumber":88,"author":{"gitId":"-"},"content":"\u003csmall\u003eLast updated at {{ studentScoreboard.lastUpdated }}\u003c/small\u003e"},{"lineNumber":89,"author":{"gitId":"-"},"content":"```"},{"lineNumber":90,"author":{"gitId":"-"},"content":"{% endraw %}"},{"lineNumber":91,"author":{"gitId":"-"},"content":""},{"lineNumber":92,"author":{"gitId":"-"},"content":"\u003cpanel type\u003d\"minimal\" header\u003d\"Json file used in example\"\u003e"},{"lineNumber":93,"author":{"gitId":"-"},"content":""},{"lineNumber":94,"author":{"gitId":"-"},"content":"```json {heading\u003d\"Json File\"}"},{"lineNumber":95,"author":{"gitId":"-"},"content":"{% include \"userGuide/syntax/extra/scoreboard.json\" %}"},{"lineNumber":96,"author":{"gitId":"-"},"content":"```"},{"lineNumber":97,"author":{"gitId":"-"},"content":""},{"lineNumber":98,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":99,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":100,"author":{"gitId":"-"},"content":""},{"lineNumber":101,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":102,"author":{"gitId":"-"},"content":""},{"lineNumber":103,"author":{"gitId":"-"},"content":"%%OUTPUT:%%"},{"lineNumber":104,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":105,"author":{"gitId":"-"},"content":""},{"lineNumber":106,"author":{"gitId":"-"},"content":"\u003cbox border-left-color\u003d\"grey\" background-color\u003d\"white\"\u003e"},{"lineNumber":107,"author":{"gitId":"-"},"content":""},{"lineNumber":108,"author":{"gitId":"-"},"content":"{% ext studentScoreboard \u003d \"userGuide/syntax/extra/scoreboard.json\" %}"},{"lineNumber":109,"author":{"gitId":"-"},"content":""},{"lineNumber":110,"author":{"gitId":"-"},"content":"Student Number | Score | Rank"},{"lineNumber":111,"author":{"gitId":"-"},"content":":----- | :-------: | ----"},{"lineNumber":112,"author":{"gitId":"-"},"content":"{% for student in studentScoreboard.students -%}"},{"lineNumber":113,"author":{"gitId":"-"},"content":"{{ student.number }} | {{ student.score }} / 100 | {{ student.rank }}"},{"lineNumber":114,"author":{"gitId":"-"},"content":"{% endfor %}"},{"lineNumber":115,"author":{"gitId":"-"},"content":""},{"lineNumber":116,"author":{"gitId":"-"},"content":"\u003csmall\u003eLast updated at {{ studentScoreboard.lastUpdated }}\u003c/small\u003e"},{"lineNumber":117,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":118,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":119,"author":{"gitId":"-"},"content":""},{"lineNumber":120,"author":{"gitId":"raysonkoh"},"content":"\u003c/tab\u003e"},{"lineNumber":121,"author":{"gitId":"raysonkoh"},"content":"\u003ctab header\u003d\"Importing from CSV files\"\u003e"},{"lineNumber":122,"author":{"gitId":"-"},"content":""},{"lineNumber":123,"author":{"gitId":"raysonkoh"},"content":"{{icon_example}}"},{"lineNumber":124,"author":{"gitId":"-"},"content":""},{"lineNumber":125,"author":{"gitId":"raysonkoh"},"content":"%%CODE:%%"},{"lineNumber":126,"author":{"gitId":"-"},"content":""},{"lineNumber":127,"author":{"gitId":"raysonkoh"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":128,"author":{"gitId":"-"},"content":""},{"lineNumber":129,"author":{"gitId":"raysonkoh"},"content":"{% raw %}"},{"lineNumber":130,"author":{"gitId":"raysonkoh"},"content":"```html {heading\u003d\"Displaying a student scoreboard stored as CSV\"}"},{"lineNumber":131,"author":{"gitId":"raysonkoh"},"content":"{% ext studentScoreboard \u003d \"userGuide/syntax/extra/scoreboard.csv\" %}"},{"lineNumber":132,"author":{"gitId":"-"},"content":""},{"lineNumber":133,"author":{"gitId":"raysonkoh"},"content":"Student Number | Score | Rank"},{"lineNumber":134,"author":{"gitId":"raysonkoh"},"content":":----- | :-------: | ----"},{"lineNumber":135,"author":{"gitId":"raysonkoh"},"content":"{% for student in studentScoreboard -%}"},{"lineNumber":136,"author":{"gitId":"raysonkoh"},"content":"{{ student.number }} | {{ student.score }} | {{ student.rank }}"},{"lineNumber":137,"author":{"gitId":"raysonkoh"},"content":"{% endfor %}"},{"lineNumber":138,"author":{"gitId":"-"},"content":"```"},{"lineNumber":139,"author":{"gitId":"raysonkoh"},"content":"{% endraw %}"},{"lineNumber":140,"author":{"gitId":"-"},"content":""},{"lineNumber":141,"author":{"gitId":"raysonkoh"},"content":"\u003cpanel type\u003d\"minimal\" header\u003d\"CSV file used in example\"\u003e"},{"lineNumber":142,"author":{"gitId":"-"},"content":""},{"lineNumber":143,"author":{"gitId":"raysonkoh"},"content":"```csv {heading\u003d\"CSV File\"}"},{"lineNumber":144,"author":{"gitId":"raysonkoh"},"content":"{% include \"userGuide/syntax/extra/scoreboard.csv\" %}"},{"lineNumber":145,"author":{"gitId":"-"},"content":"```"},{"lineNumber":146,"author":{"gitId":"-"},"content":""},{"lineNumber":147,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":148,"author":{"gitId":"-"},"content":"\u003cbr\u003e"},{"lineNumber":149,"author":{"gitId":"-"},"content":""},{"lineNumber":150,"author":{"gitId":"raysonkoh"},"content":"\u003cbox border-left-color\u003d\"{{ markbind_blue}}\"\u003e"},{"lineNumber":151,"author":{"gitId":"-"},"content":""},{"lineNumber":152,"author":{"gitId":"raysonkoh"},"content":"{{ icon_bulb_blue }} If you do not want to have a header row, you can specify it by appending a `noHeader` option at the end of the variable declaration. In this example, it should be {% raw %} `{% ext studentScoreboard \u003d \"userGuide/syntax/extra/scoreboard.csv\", noHeader %}` {% endraw %}. Elements have to be accessed using the `[]` operator (i.e. using `student[0]` to access student number instead of `student.number`)."},{"lineNumber":153,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":154,"author":{"gitId":"-"},"content":""},{"lineNumber":155,"author":{"gitId":"raysonkoh"},"content":"\u003c/div\u003e"},{"lineNumber":156,"author":{"gitId":"-"},"content":""},{"lineNumber":157,"author":{"gitId":"raysonkoh"},"content":"%%OUTPUT:%%"},{"lineNumber":158,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"indented\"\u003e"},{"lineNumber":159,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":160,"author":{"gitId":"-"},"content":"\u003cbox border-left-color\u003d\"grey\" background-color\u003d\"white\"\u003e"},{"lineNumber":161,"author":{"gitId":"-"},"content":""},{"lineNumber":162,"author":{"gitId":"raysonkoh"},"content":"{% ext studentScoreboard \u003d \"userGuide/syntax/extra/scoreboard.csv\" %}"},{"lineNumber":163,"author":{"gitId":"-"},"content":""},{"lineNumber":164,"author":{"gitId":"raysonkoh"},"content":"Student Number | Score | Rank"},{"lineNumber":165,"author":{"gitId":"raysonkoh"},"content":":----- | :-------: | ----"},{"lineNumber":166,"author":{"gitId":"raysonkoh"},"content":"{% for student in studentScoreboard -%}"},{"lineNumber":167,"author":{"gitId":"raysonkoh"},"content":"{{ student.number }} | {{ student.score }} / 100 | {{ student.rank }}"},{"lineNumber":168,"author":{"gitId":"raysonkoh"},"content":"{% endfor %}"},{"lineNumber":169,"author":{"gitId":"-"},"content":""},{"lineNumber":170,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":171,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":172,"author":{"gitId":"-"},"content":""},{"lineNumber":173,"author":{"gitId":"raysonkoh"},"content":"\u003c/tab\u003e"},{"lineNumber":174,"author":{"gitId":"raysonkoh"},"content":"\u003c/tabs\u003e"},{"lineNumber":175,"author":{"gitId":"-"},"content":""},{"lineNumber":176,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"info\" seamless\u003e"},{"lineNumber":177,"author":{"gitId":"-"},"content":""},{"lineNumber":178,"author":{"gitId":"raysonkoh"},"content":"Only `.json` and `.csv` files are supported for now."},{"lineNumber":179,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":180,"author":{"gitId":"-"},"content":""},{"lineNumber":181,"author":{"gitId":"-"},"content":""},{"lineNumber":182,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"short\" class\u003d\"d-none\"\u003e"},{"lineNumber":183,"author":{"gitId":"-"},"content":""},{"lineNumber":184,"author":{"gitId":"-"},"content":"Global variables:"},{"lineNumber":185,"author":{"gitId":"-"},"content":""},{"lineNumber":186,"author":{"gitId":"-"},"content":"`_markbind/variables.md`:"},{"lineNumber":187,"author":{"gitId":"-"},"content":"```html"},{"lineNumber":188,"author":{"gitId":"-"},"content":"\u003cvariable name\u003d\"year\"\u003e2018\u003c/span\u003e"},{"lineNumber":189,"author":{"gitId":"-"},"content":"```"},{"lineNumber":190,"author":{"gitId":"-"},"content":""},{"lineNumber":191,"author":{"gitId":"-"},"content":"`The year was {% raw %}{{ year }}{% endraw %}.`"},{"lineNumber":192,"author":{"gitId":"-"},"content":""},{"lineNumber":193,"author":{"gitId":"-"},"content":"\u003c/span\u003e"}],"authorContributionMap":{"raysonkoh":35,"-":158}},{"path":"docs/userGuide/usingPlugins.md","fileType":"md","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"{% set title \u003d \"Using Plugins\" %}"},{"lineNumber":2,"author":{"gitId":"-"},"content":"{% set filename \u003d \"usingPlugins\" %}"},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"title\" class\u003d\"d-none\"\u003e{{ title }}\u003c/span\u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"\u003cfrontmatter\u003e"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  title: \"User Guide: {{ title }}\""},{"lineNumber":7,"author":{"gitId":"-"},"content":"  layout: userGuide.md"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  pageNav: \"default\""},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003c/frontmatter\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"\u003cspan id\u003d\"link\" class\u003d\"d-none\"\u003e"},{"lineNumber":12,"author":{"gitId":"-"},"content":"\u003cmd\u003e[_User Guide → {{ title }}_]({{ filename }}.html)\u003c/md\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":14,"author":{"gitId":"-"},"content":""},{"lineNumber":15,"author":{"gitId":"-"},"content":"# {{ title }}"},{"lineNumber":16,"author":{"gitId":"-"},"content":""},{"lineNumber":17,"author":{"gitId":"-"},"content":"\u003cdiv class\u003d\"lead\" id\u003d\"overview\"\u003e"},{"lineNumber":18,"author":{"gitId":"-"},"content":""},{"lineNumber":19,"author":{"gitId":"-"},"content":"A plugin is an extension that adds additional features to MarkBind. Some non-essential MarkBind functionalities are provided as plugins so that you can enable/disable/configure them as necessary. MarkBind also supports adding external plugins (written by you or other third parties)."},{"lineNumber":20,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":21,"author":{"gitId":"-"},"content":""},{"lineNumber":22,"author":{"gitId":"-"},"content":"\u003cbox type\u003d\"info\"\u003e"},{"lineNumber":23,"author":{"gitId":"-"},"content":""},{"lineNumber":24,"author":{"gitId":"-"},"content":"MarkBind\u0027s philosophy is to _bake-in_ all necessary functionality into MarkBind itself rather than expect users to go hunting for suitable plugins. Hence, we do not anticipate MarkBind users to rely heavily on such external plugins."},{"lineNumber":25,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":""},{"lineNumber":27,"author":{"gitId":"-"},"content":"## Managing Plugins"},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"Plugins are managed via the following two properties in the `site.json`."},{"lineNumber":30,"author":{"gitId":"-"},"content":""},{"lineNumber":31,"author":{"gitId":"-"},"content":"* `plugins`: An array of plugin names to use."},{"lineNumber":32,"author":{"gitId":"-"},"content":"* `pluginsContext`: Parameters passed to each plugin, specified as key-value pairs."},{"lineNumber":33,"author":{"gitId":"-"},"content":""},{"lineNumber":34,"author":{"gitId":"-"},"content":"For example:"},{"lineNumber":35,"author":{"gitId":"-"},"content":""},{"lineNumber":36,"author":{"gitId":"-"},"content":"```js"},{"lineNumber":37,"author":{"gitId":"-"},"content":"{"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  ..."},{"lineNumber":39,"author":{"gitId":"-"},"content":"  \"plugins\": ["},{"lineNumber":40,"author":{"gitId":"-"},"content":"    \"plugin1\","},{"lineNumber":41,"author":{"gitId":"-"},"content":"    \"plugin2\","},{"lineNumber":42,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  \"pluginsContext\": {"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    \"plugin1\": {"},{"lineNumber":45,"author":{"gitId":"-"},"content":"      \"input\": \"Input for Plugin 1\""},{"lineNumber":46,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    \"plugin2\": {"},{"lineNumber":48,"author":{"gitId":"-"},"content":"      \"data\": \"Data for Plugin 2\""},{"lineNumber":49,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":51,"author":{"gitId":"-"},"content":"}"},{"lineNumber":52,"author":{"gitId":"-"},"content":"```"},{"lineNumber":53,"author":{"gitId":"-"},"content":""},{"lineNumber":54,"author":{"gitId":"-"},"content":"## Using Built-in Plugins"},{"lineNumber":55,"author":{"gitId":"-"},"content":""},{"lineNumber":56,"author":{"gitId":"-"},"content":""},{"lineNumber":57,"author":{"gitId":"-"},"content":"MarkBind has a set of built-in plugins that can be used immediately without installation."},{"lineNumber":58,"author":{"gitId":"-"},"content":""},{"lineNumber":59,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"plugins/algolia.mbdf\" /\u003e"},{"lineNumber":60,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"plugins/codeBlockCopyButtons.mbdf\" /\u003e"},{"lineNumber":61,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"plugins/tags.mbdf\" /\u003e"},{"lineNumber":62,"author":{"gitId":"-"},"content":"\u003cinclude src\u003d\"plugins/googleAnalytics.mbdf\" /\u003e"},{"lineNumber":63,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cinclude src\u003d\"plugins/disqus.mbdf\" /\u003e"},{"lineNumber":64,"author":{"gitId":"-"},"content":""},{"lineNumber":65,"author":{"gitId":"-"},"content":"## Using External Plugins"},{"lineNumber":66,"author":{"gitId":"-"},"content":""},{"lineNumber":67,"author":{"gitId":"-"},"content":"### Adding External Plugins"},{"lineNumber":68,"author":{"gitId":"-"},"content":""},{"lineNumber":69,"author":{"gitId":"-"},"content":"\u003ctip-box type\u003d\"warning\"\u003e"},{"lineNumber":70,"author":{"gitId":"-"},"content":""},{"lineNumber":71,"author":{"gitId":"-"},"content":"**WARNING:** Plugins are executable programs that can be written by anyone. This means that they might contain malicious code that may damage your computer."},{"lineNumber":72,"author":{"gitId":"-"},"content":""},{"lineNumber":73,"author":{"gitId":"-"},"content":"Only run plugins from sources that you trust. Do not run the plugin if the source/origin of the plugin cannot be ascertained."},{"lineNumber":74,"author":{"gitId":"-"},"content":"\u003c/tip-box\u003e"},{"lineNumber":75,"author":{"gitId":"-"},"content":""},{"lineNumber":76,"author":{"gitId":"-"},"content":"Plugins come as `.js` files. To install an external plugin, simply put it in the `_markbind/plugins` folder. To use the plugin, update the `site.json` file the same way you did for built-in plugins."},{"lineNumber":77,"author":{"gitId":"-"},"content":""},{"lineNumber":78,"author":{"gitId":"-"},"content":""},{"lineNumber":79,"author":{"gitId":"-"},"content":"## Writing Plugins"},{"lineNumber":80,"author":{"gitId":"-"},"content":""},{"lineNumber":81,"author":{"gitId":"-"},"content":"You may also write your own plugins! Refer [here](https://markbind.org/devdocs/devGuide/writingPlugins.html) for the available interfaces to do so."},{"lineNumber":82,"author":{"gitId":"-"},"content":""},{"lineNumber":83,"author":{"gitId":"-"},"content":"{% from \"njk/common.njk\" import previous_next %}"},{"lineNumber":84,"author":{"gitId":"-"},"content":"{{ previous_next(\u0027settingSiteProperties\u0027, \u0027makingTheSiteSearchable\u0027) }}"}],"authorContributionMap":{"wxwxwxwx9":1,"-":83}},{"path":"package.json","fileType":"json","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"{"},{"lineNumber":2,"author":{"gitId":"-"},"content":"  \"name\": \"root\","},{"lineNumber":3,"author":{"gitId":"-"},"content":"  \"private\": true,"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  \"scripts\": {"},{"lineNumber":5,"author":{"gitId":"-"},"content":"    \"build:web\": \"cd packages/core-web \u0026\u0026 npm run build\","},{"lineNumber":6,"author":{"gitId":"jonahtanjz"},"content":"    \"csslint\": \"stylelint **/*.css **/*.vue\","},{"lineNumber":7,"author":{"gitId":"jonahtanjz"},"content":"    \"csslintfix\": \"stylelint **/*.css **/*.vue --fix\","},{"lineNumber":8,"author":{"gitId":"-"},"content":"    \"lint\": \"eslint . --ext .js,.vue \u0026\u0026 npm run csslint\","},{"lineNumber":9,"author":{"gitId":"-"},"content":"    \"lintfix\": \"eslint . --ext .js,.vue --fix \u0026\u0026 npm run csslintfix\","},{"lineNumber":10,"author":{"gitId":"-"},"content":"    \"setup\": \"npm ci \u0026\u0026 lerna clean --yes \u0026\u0026 lerna bootstrap --hoist\","},{"lineNumber":11,"author":{"gitId":"-"},"content":"    \"test\": \"npm run lint \u0026\u0026 lerna run test --stream\","},{"lineNumber":12,"author":{"gitId":"-"},"content":"    \"updatetest\": \"lerna run updatetest --stream\""},{"lineNumber":13,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  \"devDependencies\": {"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    \"eslint\": \"^7.4.0\","},{"lineNumber":16,"author":{"gitId":"-"},"content":"    \"eslint-config-airbnb-base\": \"^14.2.0\","},{"lineNumber":17,"author":{"gitId":"-"},"content":"    \"eslint-plugin-import\": \"^2.22.0\","},{"lineNumber":18,"author":{"gitId":"-"},"content":"    \"eslint-plugin-lodash\": \"^7.1.0\","},{"lineNumber":19,"author":{"gitId":"-"},"content":"    \"stylelint\": \"^12.0.0\","},{"lineNumber":20,"author":{"gitId":"-"},"content":"    \"stylelint-config-standard\": \"^19.0.0\","},{"lineNumber":21,"author":{"gitId":"-"},"content":"    \"lerna\": \"^3.22.1\""},{"lineNumber":22,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":23,"author":{"gitId":"-"},"content":"}"}],"authorContributionMap":{"jonahtanjz":2,"-":21}},{"path":"packages/cli/index.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"#!/usr/bin/env node"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"// Entry file for Markbind project"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const chokidar \u003d require(\u0027chokidar\u0027);"},{"lineNumber":5,"author":{"gitId":"-"},"content":"const fs \u003d require(\u0027fs-extra\u0027);"},{"lineNumber":6,"author":{"gitId":"-"},"content":"const liveServer \u003d require(\u0027live-server\u0027);"},{"lineNumber":7,"author":{"gitId":"-"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":8,"author":{"gitId":"-"},"content":"const program \u003d require(\u0027commander\u0027);"},{"lineNumber":9,"author":{"gitId":"-"},"content":"const Promise \u003d require(\u0027bluebird\u0027);"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"const _ \u003d {};"},{"lineNumber":12,"author":{"gitId":"-"},"content":"_.isBoolean \u003d require(\u0027lodash/isBoolean\u0027);"},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"-"},"content":"const { Site } \u003d require(\u0027@markbind/core\u0027);"},{"lineNumber":15,"author":{"gitId":"-"},"content":"const fsUtil \u003d require(\u0027@markbind/core/src/utils/fsUtil\u0027);"},{"lineNumber":16,"author":{"gitId":"-"},"content":"const utils \u003d require(\u0027@markbind/core/src/utils\u0027);"},{"lineNumber":17,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  INDEX_MARKDOWN_FILE,"},{"lineNumber":19,"author":{"gitId":"-"},"content":"  INDEX_MARKBIND_FILE,"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  LAZY_LOADING_SITE_FILE_NAME,"},{"lineNumber":21,"author":{"gitId":"-"},"content":"} \u003d require(\u0027@markbind/core/src/Site/constants\u0027);"},{"lineNumber":22,"author":{"gitId":"-"},"content":""},{"lineNumber":23,"author":{"gitId":"-"},"content":"const cliUtil \u003d require(\u0027./src/util/cliUtil\u0027);"},{"lineNumber":24,"author":{"gitId":"-"},"content":"const logger \u003d require(\u0027./src/util/logger\u0027);"},{"lineNumber":25,"author":{"gitId":"-"},"content":""},{"lineNumber":26,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  ACCEPTED_COMMANDS,"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  ACCEPTED_COMMANDS_ALIAS,"},{"lineNumber":29,"author":{"gitId":"-"},"content":"} \u003d require(\u0027./src/constants\u0027);"},{"lineNumber":30,"author":{"gitId":"-"},"content":"const CLI_VERSION \u003d require(\u0027./package.json\u0027).version;"},{"lineNumber":31,"author":{"gitId":"-"},"content":""},{"lineNumber":32,"author":{"gitId":"-"},"content":"process.title \u003d \u0027MarkBind\u0027;"},{"lineNumber":33,"author":{"gitId":"-"},"content":"process.stdout.write("},{"lineNumber":34,"author":{"gitId":"-"},"content":"  `${String.fromCharCode(27)}]0; MarkBind${String.fromCharCode(7)}`,"},{"lineNumber":35,"author":{"gitId":"-"},"content":");"},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"function printHeader() {"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  logger.logo();"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  logger.log(` v${CLI_VERSION}`);"},{"lineNumber":40,"author":{"gitId":"-"},"content":"}"},{"lineNumber":41,"author":{"gitId":"-"},"content":""},{"lineNumber":42,"author":{"gitId":"-"},"content":"function handleError(error) {"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  logger.error(error.message);"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  process.exitCode \u003d 1;"},{"lineNumber":45,"author":{"gitId":"-"},"content":"}"},{"lineNumber":46,"author":{"gitId":"-"},"content":""},{"lineNumber":47,"author":{"gitId":"-"},"content":"// We want to customize the help message to print MarkBind\u0027s header,"},{"lineNumber":48,"author":{"gitId":"-"},"content":"// but commander.js does not provide an API directly for doing so."},{"lineNumber":49,"author":{"gitId":"-"},"content":"// Hence we override commander\u0027s outputHelp() completely."},{"lineNumber":50,"author":{"gitId":"-"},"content":"program.defaultOutputHelp \u003d program.outputHelp;"},{"lineNumber":51,"author":{"gitId":"-"},"content":"program.outputHelp \u003d function (cb) {"},{"lineNumber":52,"author":{"gitId":"-"},"content":"  printHeader();"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  this.defaultOutputHelp(cb);"},{"lineNumber":54,"author":{"gitId":"-"},"content":"};"},{"lineNumber":55,"author":{"gitId":"-"},"content":""},{"lineNumber":56,"author":{"gitId":"-"},"content":"program"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  .allowUnknownOption()"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  .usage(\u0027\u003ccommand\u003e\u0027);"},{"lineNumber":59,"author":{"gitId":"-"},"content":""},{"lineNumber":60,"author":{"gitId":"-"},"content":"program"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  .name(\u0027markbind\u0027)"},{"lineNumber":62,"author":{"gitId":"-"},"content":"  .version(CLI_VERSION);"},{"lineNumber":63,"author":{"gitId":"-"},"content":""},{"lineNumber":64,"author":{"gitId":"-"},"content":"program"},{"lineNumber":65,"author":{"gitId":"-"},"content":"  .command(\u0027init [root]\u0027)"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  .option(\u0027-c, --convert\u0027, \u0027convert a GitHub wiki or docs folder to a MarkBind website\u0027)"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  .option(\u0027-t, --template \u003ctype\u003e\u0027, \u0027initialise markbind with a specified template\u0027, \u0027default\u0027)"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  .alias(\u0027i\u0027)"},{"lineNumber":69,"author":{"gitId":"-"},"content":"  .description(\u0027init a markbind website project\u0027)"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  .action((root, options) \u003d\u003e {"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    const rootFolder \u003d path.resolve(root || process.cwd());"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    const outputRoot \u003d path.join(rootFolder, \u0027_site\u0027);"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    printHeader();"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    if (options.convert) {"},{"lineNumber":75,"author":{"gitId":"-"},"content":"      if (fs.existsSync(path.resolve(rootFolder, \u0027site.json\u0027))) {"},{"lineNumber":76,"author":{"gitId":"-"},"content":"        logger.error(\u0027Cannot convert an existing MarkBind website!\u0027);"},{"lineNumber":77,"author":{"gitId":"-"},"content":"        return;"},{"lineNumber":78,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":79,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":80,"author":{"gitId":"-"},"content":"    Site.initSite(rootFolder, options.template)"},{"lineNumber":81,"author":{"gitId":"-"},"content":"      .then(() \u003d\u003e {"},{"lineNumber":82,"author":{"gitId":"-"},"content":"        logger.info(\u0027Initialization success.\u0027);"},{"lineNumber":83,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":84,"author":{"gitId":"-"},"content":"      .then(() \u003d\u003e {"},{"lineNumber":85,"author":{"gitId":"-"},"content":"        if (options.convert) {"},{"lineNumber":86,"author":{"gitId":"-"},"content":"          logger.info(\u0027Converting to MarkBind website.\u0027);"},{"lineNumber":87,"author":{"gitId":"-"},"content":"          new Site(rootFolder, outputRoot).convert()"},{"lineNumber":88,"author":{"gitId":"-"},"content":"            .then(() \u003d\u003e {"},{"lineNumber":89,"author":{"gitId":"-"},"content":"              logger.info(\u0027Conversion success.\u0027);"},{"lineNumber":90,"author":{"gitId":"-"},"content":"            })"},{"lineNumber":91,"author":{"gitId":"-"},"content":"            .catch(handleError);"},{"lineNumber":92,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":93,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":94,"author":{"gitId":"-"},"content":"      .catch(handleError);"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":96,"author":{"gitId":"-"},"content":""},{"lineNumber":97,"author":{"gitId":"-"},"content":"program"},{"lineNumber":98,"author":{"gitId":"-"},"content":"  .command(\u0027serve [root]\u0027)"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  .alias(\u0027s\u0027)"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  .description(\u0027build then serve a website from a directory\u0027)"},{"lineNumber":101,"author":{"gitId":"-"},"content":"  .option(\u0027-f, --force-reload\u0027, \u0027force a full reload of all site files when a file is changed\u0027)"},{"lineNumber":102,"author":{"gitId":"-"},"content":"  .option(\u0027-n, --no-open\u0027, \u0027do not automatically open the site in browser\u0027)"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  .option(\u0027-o, --one-page [file]\u0027, \u0027build and serve only a single page in the site initially,\u0027"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    + \u0027building more pages when they are navigated to. Also lazily rebuilds only the page being viewed when\u0027"},{"lineNumber":105,"author":{"gitId":"-"},"content":"    + \u0027there are changes to the source files (if needed), building others when navigated to\u0027)"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  .option(\u0027-p, --port \u003cport\u003e\u0027, \u0027port for server to listen on (Default is 8080)\u0027)"},{"lineNumber":107,"author":{"gitId":"-"},"content":"  .option(\u0027-s, --site-config \u003cfile\u003e\u0027, \u0027specify the site config file (default: site.json)\u0027)"},{"lineNumber":108,"author":{"gitId":"-"},"content":"  .option(\u0027-d, --dev\u0027, \u0027development mode, enabling live \u0026 hot reload for frontend source files.\u0027)"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  .action((userSpecifiedRoot, options) \u003d\u003e {"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    if (options.dev) {"},{"lineNumber":111,"author":{"gitId":"-"},"content":"      logger.useDebugConsole();"},{"lineNumber":112,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":113,"author":{"gitId":"-"},"content":""},{"lineNumber":114,"author":{"gitId":"-"},"content":"    let rootFolder;"},{"lineNumber":115,"author":{"gitId":"-"},"content":"    try {"},{"lineNumber":116,"author":{"gitId":"-"},"content":"      rootFolder \u003d cliUtil.findRootFolder(userSpecifiedRoot, options.siteConfig);"},{"lineNumber":117,"author":{"gitId":"-"},"content":""},{"lineNumber":118,"author":{"gitId":"-"},"content":"      if (options.forceReload \u0026\u0026 options.onePage) {"},{"lineNumber":119,"author":{"gitId":"-"},"content":"        handleError(new Error(\u0027Oops! You shouldn\\\u0027t need to use the --force-reload option with --one-page.\u0027));"},{"lineNumber":120,"author":{"gitId":"-"},"content":"        process.exit();"},{"lineNumber":121,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":122,"author":{"gitId":"-"},"content":"    } catch (err) {"},{"lineNumber":123,"author":{"gitId":"-"},"content":"      handleError(err);"},{"lineNumber":124,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":125,"author":{"gitId":"-"},"content":"    const logsFolder \u003d path.join(rootFolder, \u0027_markbind/logs\u0027);"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    const outputFolder \u003d path.join(rootFolder, \u0027_site\u0027);"},{"lineNumber":127,"author":{"gitId":"-"},"content":""},{"lineNumber":128,"author":{"gitId":"-"},"content":"    const defaultFiles \u003d [INDEX_MARKDOWN_FILE, INDEX_MARKBIND_FILE];"},{"lineNumber":129,"author":{"gitId":"-"},"content":"    const presentDefaultFile \u003d defaultFiles.find(utils.fileExists);"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    if (options.onePage \u003d\u003d\u003d true \u0026\u0026 !presentDefaultFile) {"},{"lineNumber":131,"author":{"gitId":"-"},"content":"      handleError(new Error(\u0027Oops! It seems that you didn\\\u0027t have the default file index.md|mbd.\u0027));"},{"lineNumber":132,"author":{"gitId":"-"},"content":"      process.exit();"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":134,"author":{"gitId":"-"},"content":"    let onePagePath \u003d options.onePage \u003d\u003d\u003d true ? presentDefaultFile : options.onePage;"},{"lineNumber":135,"author":{"gitId":"-"},"content":"    onePagePath \u003d onePagePath ? utils.ensurePosix(onePagePath) : onePagePath;"},{"lineNumber":136,"author":{"gitId":"-"},"content":""},{"lineNumber":137,"author":{"gitId":"-"},"content":"    const site \u003d new Site(rootFolder, outputFolder, onePagePath,"},{"lineNumber":138,"author":{"gitId":"-"},"content":"                          options.forceReload, options.siteConfig, options.dev);"},{"lineNumber":139,"author":{"gitId":"-"},"content":""},{"lineNumber":140,"author":{"gitId":"-"},"content":"    const addHandler \u003d (filePath) \u003d\u003e {"},{"lineNumber":141,"author":{"gitId":"-"},"content":"      logger.info(`[${new Date().toLocaleTimeString()}] Reload for file add: ${filePath}`);"},{"lineNumber":142,"author":{"gitId":"-"},"content":"      Promise.resolve(\u0027\u0027).then(() \u003d\u003e {"},{"lineNumber":143,"author":{"gitId":"-"},"content":"        if (site.isFilepathAPage(filePath) || site.isDependencyOfPage(filePath)) {"},{"lineNumber":144,"author":{"gitId":"-"},"content":"          return site.rebuildSourceFiles(filePath);"},{"lineNumber":145,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":146,"author":{"gitId":"-"},"content":"        return site.buildAsset(filePath);"},{"lineNumber":147,"author":{"gitId":"-"},"content":"      }).catch((err) \u003d\u003e {"},{"lineNumber":148,"author":{"gitId":"-"},"content":"        logger.error(err.message);"},{"lineNumber":149,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":150,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":151,"author":{"gitId":"-"},"content":""},{"lineNumber":152,"author":{"gitId":"-"},"content":"    const changeHandler \u003d (filePath) \u003d\u003e {"},{"lineNumber":153,"author":{"gitId":"-"},"content":"      logger.info(`[${new Date().toLocaleTimeString()}] Reload for file change: ${filePath}`);"},{"lineNumber":154,"author":{"gitId":"-"},"content":"      Promise.resolve(\u0027\u0027).then(() \u003d\u003e {"},{"lineNumber":155,"author":{"gitId":"-"},"content":"        if (site.isDependencyOfPage(filePath)) {"},{"lineNumber":156,"author":{"gitId":"-"},"content":"          return site.rebuildAffectedSourceFiles(filePath);"},{"lineNumber":157,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":158,"author":{"gitId":"-"},"content":"        return site.buildAsset(filePath);"},{"lineNumber":159,"author":{"gitId":"-"},"content":"      }).catch((err) \u003d\u003e {"},{"lineNumber":160,"author":{"gitId":"-"},"content":"        logger.error(err.message);"},{"lineNumber":161,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":162,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":163,"author":{"gitId":"-"},"content":""},{"lineNumber":164,"author":{"gitId":"-"},"content":"    const removeHandler \u003d (filePath) \u003d\u003e {"},{"lineNumber":165,"author":{"gitId":"-"},"content":"      logger.info(`[${new Date().toLocaleTimeString()}] Reload for file deletion: ${filePath}`);"},{"lineNumber":166,"author":{"gitId":"-"},"content":"      Promise.resolve(\u0027\u0027).then(() \u003d\u003e {"},{"lineNumber":167,"author":{"gitId":"-"},"content":"        if (site.isFilepathAPage(filePath) || site.isDependencyOfPage(filePath)) {"},{"lineNumber":168,"author":{"gitId":"-"},"content":"          return site.rebuildSourceFiles(filePath);"},{"lineNumber":169,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":170,"author":{"gitId":"-"},"content":"        return site.removeAsset(filePath);"},{"lineNumber":171,"author":{"gitId":"-"},"content":"      }).catch((err) \u003d\u003e {"},{"lineNumber":172,"author":{"gitId":"-"},"content":"        logger.error(err.message);"},{"lineNumber":173,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":174,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":175,"author":{"gitId":"-"},"content":""},{"lineNumber":176,"author":{"gitId":"-"},"content":"    // server config"},{"lineNumber":177,"author":{"gitId":"-"},"content":"    const serverConfig \u003d {"},{"lineNumber":178,"author":{"gitId":"-"},"content":"      open: options.open,"},{"lineNumber":179,"author":{"gitId":"-"},"content":"      logLevel: 0,"},{"lineNumber":180,"author":{"gitId":"-"},"content":"      root: outputFolder,"},{"lineNumber":181,"author":{"gitId":"-"},"content":"      port: options.port || 8080,"},{"lineNumber":182,"author":{"gitId":"-"},"content":"      middleware: [],"},{"lineNumber":183,"author":{"gitId":"-"},"content":"      mount: [],"},{"lineNumber":184,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":185,"author":{"gitId":"-"},"content":""},{"lineNumber":186,"author":{"gitId":"-"},"content":"    printHeader();"},{"lineNumber":187,"author":{"gitId":"-"},"content":""},{"lineNumber":188,"author":{"gitId":"-"},"content":"    site"},{"lineNumber":189,"author":{"gitId":"-"},"content":"      .readSiteConfig()"},{"lineNumber":190,"author":{"gitId":"-"},"content":"      .then((config) \u003d\u003e {"},{"lineNumber":191,"author":{"gitId":"-"},"content":"        serverConfig.mount.push([config.baseUrl || \u0027/\u0027, outputFolder]);"},{"lineNumber":192,"author":{"gitId":"-"},"content":""},{"lineNumber":193,"author":{"gitId":"-"},"content":"        if (options.dev) {"},{"lineNumber":194,"author":{"gitId":"-"},"content":"          // eslint-disable-next-line global-require"},{"lineNumber":195,"author":{"gitId":"-"},"content":"          const getMiddlewares \u003d require(\u0027@markbind/core-web/webpack.dev\u0027);"},{"lineNumber":196,"author":{"gitId":"-"},"content":"          getMiddlewares(`${config.baseUrl}/markbind`)"},{"lineNumber":197,"author":{"gitId":"-"},"content":"            .forEach(middleware \u003d\u003e serverConfig.middleware.push(middleware));"},{"lineNumber":198,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":199,"author":{"gitId":"-"},"content":""},{"lineNumber":200,"author":{"gitId":"-"},"content":"        if (onePagePath) {"},{"lineNumber":201,"author":{"gitId":"-"},"content":"          const lazyReloadMiddleware \u003d function (req, res, next) {"},{"lineNumber":202,"author":{"gitId":"-"},"content":"            const urlExtension \u003d path.posix.extname(req.url);"},{"lineNumber":203,"author":{"gitId":"-"},"content":""},{"lineNumber":204,"author":{"gitId":"-"},"content":"            const hasEndingSlash \u003d req.url.endsWith(\u0027/\u0027);"},{"lineNumber":205,"author":{"gitId":"-"},"content":"            const hasNoExtension \u003d urlExtension \u003d\u003d\u003d \u0027\u0027;"},{"lineNumber":206,"author":{"gitId":"-"},"content":"            const isHtmlFileRequest \u003d urlExtension \u003d\u003d\u003d \u0027.html\u0027 || hasEndingSlash || hasNoExtension;"},{"lineNumber":207,"author":{"gitId":"-"},"content":""},{"lineNumber":208,"author":{"gitId":"-"},"content":"            if (!isHtmlFileRequest || req.url.endsWith(\u0027._include_.html\u0027)) {"},{"lineNumber":209,"author":{"gitId":"-"},"content":"              next();"},{"lineNumber":210,"author":{"gitId":"-"},"content":"              return;"},{"lineNumber":211,"author":{"gitId":"-"},"content":"            }"},{"lineNumber":212,"author":{"gitId":"-"},"content":""},{"lineNumber":213,"author":{"gitId":"-"},"content":"            if (hasNoExtension \u0026\u0026 !hasEndingSlash) {"},{"lineNumber":214,"author":{"gitId":"-"},"content":"              // Urls of type \u0027host/userGuide\u0027 - check if \u0027userGuide\u0027 is a raw file or does not exist"},{"lineNumber":215,"author":{"gitId":"-"},"content":"              const diskFilePath \u003d path.resolve(rootFolder, req.url);"},{"lineNumber":216,"author":{"gitId":"-"},"content":"              if (!fs.existsSync(diskFilePath) || !(fs.statSync(diskFilePath).isDirectory())) {"},{"lineNumber":217,"author":{"gitId":"-"},"content":"                // Request for a raw file"},{"lineNumber":218,"author":{"gitId":"-"},"content":"                next();"},{"lineNumber":219,"author":{"gitId":"-"},"content":"                return;"},{"lineNumber":220,"author":{"gitId":"-"},"content":"              }"},{"lineNumber":221,"author":{"gitId":"-"},"content":"            }"},{"lineNumber":222,"author":{"gitId":"-"},"content":""},{"lineNumber":223,"author":{"gitId":"-"},"content":"            const urlWithoutBaseUrl \u003d req.url.replace(config.baseUrl, \u0027\u0027);"},{"lineNumber":224,"author":{"gitId":"-"},"content":"            // Map \u0027hostname/userGuide/\u0027 and \u0027hostname/userGuide\u0027 to hostname/userGuide/index."},{"lineNumber":225,"author":{"gitId":"-"},"content":"            const urlWithIndex \u003d (hasNoExtension || hasEndingSlash)"},{"lineNumber":226,"author":{"gitId":"-"},"content":"              ? path.posix.join(urlWithoutBaseUrl, \u0027index\u0027)"},{"lineNumber":227,"author":{"gitId":"-"},"content":"              : urlWithoutBaseUrl;"},{"lineNumber":228,"author":{"gitId":"-"},"content":"            const urlWithoutExtension \u003d fsUtil.removeExtension(urlWithIndex);"},{"lineNumber":229,"author":{"gitId":"-"},"content":""},{"lineNumber":230,"author":{"gitId":"-"},"content":"            const didInitiateRebuild \u003d site.changeCurrentPage(urlWithoutExtension);"},{"lineNumber":231,"author":{"gitId":"-"},"content":"            if (didInitiateRebuild) {"},{"lineNumber":232,"author":{"gitId":"-"},"content":"              req.url \u003d utils.ensurePosix(path.join(config.baseUrl || \u0027/\u0027, LAZY_LOADING_SITE_FILE_NAME));"},{"lineNumber":233,"author":{"gitId":"-"},"content":"            }"},{"lineNumber":234,"author":{"gitId":"-"},"content":"            next();"},{"lineNumber":235,"author":{"gitId":"-"},"content":"          };"},{"lineNumber":236,"author":{"gitId":"-"},"content":""},{"lineNumber":237,"author":{"gitId":"-"},"content":"          const onePageHtmlUrl \u003d `${config.baseUrl}/${onePagePath.replace(/\\.(md|mbd|mbdf)$/, \u0027.html\u0027)}`;"},{"lineNumber":238,"author":{"gitId":"-"},"content":"          serverConfig.open \u003d serverConfig.open \u0026\u0026 onePageHtmlUrl;"},{"lineNumber":239,"author":{"gitId":"-"},"content":""},{"lineNumber":240,"author":{"gitId":"-"},"content":"          serverConfig.middleware.push(lazyReloadMiddleware);"},{"lineNumber":241,"author":{"gitId":"-"},"content":"        } else {"},{"lineNumber":242,"author":{"gitId":"-"},"content":"          serverConfig.open \u003d serverConfig.open \u0026\u0026 `${config.baseUrl}/`;"},{"lineNumber":243,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":244,"author":{"gitId":"-"},"content":""},{"lineNumber":245,"author":{"gitId":"-"},"content":"        return site.generate();"},{"lineNumber":246,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":247,"author":{"gitId":"-"},"content":"      .then(() \u003d\u003e {"},{"lineNumber":248,"author":{"gitId":"-"},"content":"        const watcher \u003d chokidar.watch(rootFolder, {"},{"lineNumber":249,"author":{"gitId":"-"},"content":"          ignored: ["},{"lineNumber":250,"author":{"gitId":"-"},"content":"            logsFolder,"},{"lineNumber":251,"author":{"gitId":"-"},"content":"            outputFolder,"},{"lineNumber":252,"author":{"gitId":"-"},"content":"            /(^|[/\\\\])\\../,"},{"lineNumber":253,"author":{"gitId":"-"},"content":"            x \u003d\u003e x.endsWith(\u0027___jb_tmp___\u0027), x \u003d\u003e x.endsWith(\u0027___jb_old___\u0027), // IDE temp files"},{"lineNumber":254,"author":{"gitId":"-"},"content":"          ],"},{"lineNumber":255,"author":{"gitId":"-"},"content":"          ignoreInitial: true,"},{"lineNumber":256,"author":{"gitId":"-"},"content":"        });"},{"lineNumber":257,"author":{"gitId":"-"},"content":"        watcher"},{"lineNumber":258,"author":{"gitId":"-"},"content":"          .on(\u0027add\u0027, addHandler)"},{"lineNumber":259,"author":{"gitId":"-"},"content":"          .on(\u0027change\u0027, changeHandler)"},{"lineNumber":260,"author":{"gitId":"-"},"content":"          .on(\u0027unlink\u0027, removeHandler);"},{"lineNumber":261,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":262,"author":{"gitId":"-"},"content":"      .then(() \u003d\u003e {"},{"lineNumber":263,"author":{"gitId":"-"},"content":"        const server \u003d liveServer.start(serverConfig);"},{"lineNumber":264,"author":{"gitId":"-"},"content":"        server.addListener(\u0027listening\u0027, () \u003d\u003e {"},{"lineNumber":265,"author":{"gitId":"-"},"content":"          const address \u003d server.address();"},{"lineNumber":266,"author":{"gitId":"-"},"content":"          const serveHost \u003d address.address \u003d\u003d\u003d \u00270.0.0.0\u0027 ? \u0027127.0.0.1\u0027 : address.address;"},{"lineNumber":267,"author":{"gitId":"-"},"content":"          const serveURL \u003d `http://${serveHost}:${address.port}`;"},{"lineNumber":268,"author":{"gitId":"-"},"content":"          logger.info(`Serving \"${outputFolder}\" at ${serveURL}`);"},{"lineNumber":269,"author":{"gitId":"-"},"content":"          logger.info(\u0027Press CTRL+C to stop ...\u0027);"},{"lineNumber":270,"author":{"gitId":"-"},"content":"        });"},{"lineNumber":271,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":272,"author":{"gitId":"-"},"content":"      .catch(handleError);"},{"lineNumber":273,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":274,"author":{"gitId":"-"},"content":""},{"lineNumber":275,"author":{"gitId":"-"},"content":"program"},{"lineNumber":276,"author":{"gitId":"-"},"content":"  .command(\u0027build [root] [output]\u0027)"},{"lineNumber":277,"author":{"gitId":"-"},"content":"  .alias(\u0027b\u0027)"},{"lineNumber":278,"author":{"gitId":"-"},"content":"  .option(\u0027--baseUrl [baseUrl]\u0027,"},{"lineNumber":279,"author":{"gitId":"-"},"content":"          \u0027optional flag which overrides baseUrl in site.json, leave argument empty for empty baseUrl\u0027)"},{"lineNumber":280,"author":{"gitId":"-"},"content":"  .option(\u0027-s, --site-config \u003cfile\u003e\u0027, \u0027specify the site config file (default: site.json)\u0027)"},{"lineNumber":281,"author":{"gitId":"-"},"content":"  .description(\u0027build a website\u0027)"},{"lineNumber":282,"author":{"gitId":"-"},"content":"  .action((userSpecifiedRoot, output, options) \u003d\u003e {"},{"lineNumber":283,"author":{"gitId":"-"},"content":"    // if --baseUrl contains no arguments (options.baseUrl \u003d\u003d\u003d true) then set baseUrl to empty string"},{"lineNumber":284,"author":{"gitId":"-"},"content":"    const baseUrl \u003d _.isBoolean(options.baseUrl) ? \u0027\u0027 : options.baseUrl;"},{"lineNumber":285,"author":{"gitId":"-"},"content":"    let rootFolder;"},{"lineNumber":286,"author":{"gitId":"-"},"content":"    try {"},{"lineNumber":287,"author":{"gitId":"-"},"content":"      rootFolder \u003d cliUtil.findRootFolder(userSpecifiedRoot, options.siteConfig);"},{"lineNumber":288,"author":{"gitId":"-"},"content":"    } catch (err) {"},{"lineNumber":289,"author":{"gitId":"-"},"content":"      handleError(err);"},{"lineNumber":290,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":291,"author":{"gitId":"-"},"content":"    const defaultOutputRoot \u003d path.join(rootFolder, \u0027_site\u0027);"},{"lineNumber":292,"author":{"gitId":"-"},"content":"    const outputFolder \u003d output ? path.resolve(process.cwd(), output) : defaultOutputRoot;"},{"lineNumber":293,"author":{"gitId":"-"},"content":"    printHeader();"},{"lineNumber":294,"author":{"gitId":"-"},"content":"    new Site(rootFolder, outputFolder, undefined, undefined, options.siteConfig)"},{"lineNumber":295,"author":{"gitId":"-"},"content":"      .generate(baseUrl)"},{"lineNumber":296,"author":{"gitId":"-"},"content":"      .then(() \u003d\u003e {"},{"lineNumber":297,"author":{"gitId":"-"},"content":"        logger.info(\u0027Build success!\u0027);"},{"lineNumber":298,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":299,"author":{"gitId":"-"},"content":"      .catch(handleError);"},{"lineNumber":300,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":301,"author":{"gitId":"-"},"content":""},{"lineNumber":302,"author":{"gitId":"-"},"content":"program"},{"lineNumber":303,"author":{"gitId":"-"},"content":"  .command(\u0027deploy\u0027)"},{"lineNumber":304,"author":{"gitId":"-"},"content":"  .alias(\u0027d\u0027)"},{"lineNumber":305,"author":{"gitId":"-"},"content":"  .description(\u0027deploy the site to the repo\\\u0027s Github pages\u0027)"},{"lineNumber":306,"author":{"gitId":"raysonkoh"},"content":"  .option(\u0027-c, --ci [githubTokenName]\u0027, \u0027deploy the site in CI Environment [GITHUB_TOKEN]\u0027)"},{"lineNumber":307,"author":{"gitId":"-"},"content":"  .option(\u0027-s, --site-config \u003cfile\u003e\u0027, \u0027specify the site config file (default: site.json)\u0027)"},{"lineNumber":308,"author":{"gitId":"-"},"content":"  .action((options) \u003d\u003e {"},{"lineNumber":309,"author":{"gitId":"-"},"content":"    const rootFolder \u003d path.resolve(process.cwd());"},{"lineNumber":310,"author":{"gitId":"-"},"content":"    const outputRoot \u003d path.join(rootFolder, \u0027_site\u0027);"},{"lineNumber":311,"author":{"gitId":"raysonkoh"},"content":"    new Site(rootFolder, outputRoot, undefined, undefined, options.siteConfig).deploy(options.ci)"},{"lineNumber":312,"author":{"gitId":"-"},"content":"      .then(depUrl \u003d\u003e (depUrl !\u003d\u003d null ? logger.info(`Deployed at ${depUrl}!`) : logger.info(\u0027Deployed!\u0027)))"},{"lineNumber":313,"author":{"gitId":"-"},"content":"      .catch(handleError);"},{"lineNumber":314,"author":{"gitId":"-"},"content":"    printHeader();"},{"lineNumber":315,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":316,"author":{"gitId":"-"},"content":""},{"lineNumber":317,"author":{"gitId":"-"},"content":"program.parse(process.argv);"},{"lineNumber":318,"author":{"gitId":"-"},"content":""},{"lineNumber":319,"author":{"gitId":"-"},"content":"if (!program.args.length"},{"lineNumber":320,"author":{"gitId":"-"},"content":"  || !(ACCEPTED_COMMANDS.concat(ACCEPTED_COMMANDS_ALIAS)).includes(process.argv[2])) {"},{"lineNumber":321,"author":{"gitId":"-"},"content":"  if (program.args.length) {"},{"lineNumber":322,"author":{"gitId":"-"},"content":"    logger.warn(`Command \u0027${program.args[0]}\u0027 doesn\u0027t exist, run \"markbind --help\" to list commands.`);"},{"lineNumber":323,"author":{"gitId":"-"},"content":"  } else {"},{"lineNumber":324,"author":{"gitId":"-"},"content":"    program.help();"},{"lineNumber":325,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":326,"author":{"gitId":"-"},"content":"}"}],"authorContributionMap":{"raysonkoh":2,"-":324}},{"path":"packages/cli/test/functional/test_site_algolia_plugin/index.md","fileType":"md","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003cfrontmatter\u003e"},{"lineNumber":2,"author":{"gitId":"-"},"content":"  title: \"Hello World\""},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003c/frontmatter\u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"**Test Algolia plugin adds algolia-no-index classes**"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"**Dropdowns should have algolia-no-index class**"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"\u003cdropdown header\u003d\"Dropdown\"\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca class\u003d\"dropdown-item\" href\u003d\"/\"\u003eOne\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  \u003cli\u003e\u003ca class\u003d\"dropdown-item\" href\u003d\"/\"\u003eTwo\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":12,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"-"},"content":"**Modal content should have algolia-no-index class**"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"\u003cmodal header\u003d\"Modal\" id\u003d\"modal:trigger_id\"\u003e"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  Content should have `algolia-no-index` class"},{"lineNumber":18,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":19,"author":{"gitId":"-"},"content":"\u003ctrigger for\u003d\"modal:trigger_id\"\u003eTrigger should not have `algolia-no-index` class\u003c/trigger\u003e"},{"lineNumber":20,"author":{"gitId":"-"},"content":""},{"lineNumber":21,"author":{"gitId":"-"},"content":"**Panels that are not expanded should have algolia-no-index class**"},{"lineNumber":22,"author":{"gitId":"-"},"content":""},{"lineNumber":23,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"Panel\"\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  Content"},{"lineNumber":25,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":""},{"lineNumber":27,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"Panel\" expanded\u003e"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  Content"},{"lineNumber":29,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":30,"author":{"gitId":"-"},"content":""},{"lineNumber":31,"author":{"gitId":"-"},"content":"**Popover content should have algolia-no-index class**"},{"lineNumber":32,"author":{"gitId":"-"},"content":""},{"lineNumber":33,"author":{"gitId":"-"},"content":"\u003cpopover effect\u003d\"fade\" header\u003d\"Title\" placement\u003d\"top\"\u003e"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"content\"\u003eContent should have `algolia-no-index` class\u003c/div\u003e"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  \u003cbutton class\u003d\"btn btn-secondary\"\u003eTrigger should not have `algolia-no-index` class\u003c/button\u003e"},{"lineNumber":36,"author":{"gitId":"-"},"content":"\u003c/popover\u003e"},{"lineNumber":37,"author":{"gitId":"-"},"content":""},{"lineNumber":38,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cpopover effect\u003d\"fade\" header\u003d\"Title\" content\u003d\"Content should have `algolia-no-index` class\" placement\u003d\"top\"\u003e"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  \u003cbutton class\u003d\"btn btn-secondary\"\u003eTrigger should not have `algolia-no-index` class\u003c/button\u003e"},{"lineNumber":40,"author":{"gitId":"-"},"content":"\u003c/popover\u003e"},{"lineNumber":41,"author":{"gitId":"-"},"content":""},{"lineNumber":42,"author":{"gitId":"wxwxwxwx9"},"content":"**Tooltip content should have algolia-no-index class**"},{"lineNumber":43,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":44,"author":{"gitId":"wxwxwxwx9"},"content":"\u003ctooltip content\u003d\"Content should have `algolia-no-index` class\" placement\u003d\"top\"\u003e"},{"lineNumber":45,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003cbutton class\u003d\"btn btn-secondary\"\u003eTrigger should not have `algolia-no-index` class\u003c/button\u003e"},{"lineNumber":46,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/tooltip\u003e"},{"lineNumber":47,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":48,"author":{"gitId":"-"},"content":"**Question hint and answer should have algolia-no-index class**"},{"lineNumber":49,"author":{"gitId":"-"},"content":""},{"lineNumber":50,"author":{"gitId":"-"},"content":"\u003cquestion\u003e"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  Question should not have `algolia-no-index` class"},{"lineNumber":52,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"hint\"\u003eHint should have `algolia-no-index` class\u003c/div\u003e"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"answer\"\u003eAnswer should have `algolia-no-index` class\u003c/div\u003e"},{"lineNumber":54,"author":{"gitId":"-"},"content":"\u003c/question\u003e"},{"lineNumber":55,"author":{"gitId":"-"},"content":""},{"lineNumber":56,"author":{"gitId":"-"},"content":"**Tabs except first tab should have algolia-no-index class**"},{"lineNumber":57,"author":{"gitId":"-"},"content":""},{"lineNumber":58,"author":{"gitId":"-"},"content":"\u003ctabs\u003e"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  \u003ctab header\u003d\"First Tab\"\u003e"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    Content\u003cbr /\u003eContent\u003cbr /\u003eContent\u003cbr /\u003eContent"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  \u003c/tab\u003e"},{"lineNumber":62,"author":{"gitId":"-"},"content":"  \u003ctab header\u003d\"Second Tab\"\u003e"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    Content\u003cbr /\u003eContent\u003cbr /\u003eContent\u003cbr /\u003eContent"},{"lineNumber":64,"author":{"gitId":"-"},"content":"  \u003c/tab\u003e"},{"lineNumber":65,"author":{"gitId":"-"},"content":"\u003c/tabs\u003e"},{"lineNumber":66,"author":{"gitId":"-"},"content":""},{"lineNumber":67,"author":{"gitId":"-"},"content":"\u003ctabs\u003e"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  \u003ctab-group header\u003d\"First Group\"\u003e"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    \u003ctab header\u003d\"First Tab\"\u003e"},{"lineNumber":70,"author":{"gitId":"-"},"content":"      Content\u003cbr /\u003eContent\u003cbr /\u003eContent\u003cbr /\u003eContent"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    \u003c/tab\u003e"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    \u003ctab header\u003d\"Second Tab\"\u003e"},{"lineNumber":73,"author":{"gitId":"-"},"content":"      Content\u003cbr /\u003eContent\u003cbr /\u003eContent\u003cbr /\u003eContent"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    \u003c/tab\u003e"},{"lineNumber":75,"author":{"gitId":"-"},"content":"  \u003c/tab-group\u003e"},{"lineNumber":76,"author":{"gitId":"-"},"content":"  \u003ctab-group header\u003d\"Second Group\"\u003e"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    \u003ctab header\u003d\"First Tab\"\u003e"},{"lineNumber":78,"author":{"gitId":"-"},"content":"      Content\u003cbr /\u003eContent\u003cbr /\u003eContent\u003cbr /\u003eContent"},{"lineNumber":79,"author":{"gitId":"-"},"content":"    \u003c/tab\u003e"},{"lineNumber":80,"author":{"gitId":"-"},"content":"    \u003ctab header\u003d\"Second Tab\"\u003e"},{"lineNumber":81,"author":{"gitId":"-"},"content":"      Content\u003cbr /\u003eContent\u003cbr /\u003eContent\u003cbr /\u003eContent"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    \u003c/tab\u003e"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  \u003c/tab-group\u003e"},{"lineNumber":84,"author":{"gitId":"-"},"content":"\u003c/tabs\u003e"},{"lineNumber":85,"author":{"gitId":"-"},"content":""},{"lineNumber":86,"author":{"gitId":"-"},"content":"\u003ctabs\u003e"},{"lineNumber":87,"author":{"gitId":"-"},"content":"  \u003ctab-group header\u003d\"Outer One\"\u003e"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    \u003ctab header\u003d\"First Tab\"\u003e"},{"lineNumber":89,"author":{"gitId":"-"},"content":"      Content\u003cbr /\u003eContent\u003cbr /\u003eContent\u003cbr /\u003eContent"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    \u003c/tab\u003e"},{"lineNumber":91,"author":{"gitId":"-"},"content":"    \u003ctab header\u003d\"Second Tab\"\u003e"},{"lineNumber":92,"author":{"gitId":"-"},"content":"      Content\u003cbr /\u003eContent\u003cbr /\u003eContent\u003cbr /\u003eContent"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    \u003c/tab\u003e"},{"lineNumber":94,"author":{"gitId":"-"},"content":"  \u003c/tab-group\u003e"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  \u003ctab header\u003d\"Outer Two\"\u003e"},{"lineNumber":96,"author":{"gitId":"-"},"content":"    Content\u003cbr /\u003eContent\u003cbr /\u003eContent\u003cbr /\u003eContent"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  \u003c/tab\u003e"},{"lineNumber":98,"author":{"gitId":"-"},"content":"\u003c/tabs\u003e"}],"authorContributionMap":{"wxwxwxwx9":7,"-":91}},{"path":"packages/core-web/src/index.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"// eslint-disable-next-line import/no-extraneous-dependencies"},{"lineNumber":2,"author":{"gitId":"-"},"content":"import MarkBindVue from \u0027@markbind/vue-components/src\u0027;"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import initScrollTopButton from \u0027./scrollTopButton\u0027;"},{"lineNumber":4,"author":{"gitId":"-"},"content":"import \u0027./styles/index.css\u0027;"},{"lineNumber":5,"author":{"gitId":"-"},"content":""},{"lineNumber":6,"author":{"gitId":"-"},"content":"Vue.use(MarkBindVue);"},{"lineNumber":7,"author":{"gitId":"-"},"content":""},{"lineNumber":8,"author":{"gitId":"-"},"content":"function scrollToUrlAnchorHeading() {"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  if (window.location.hash) {"},{"lineNumber":10,"author":{"gitId":"-"},"content":"    // remove leading hash to get element ID"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    const headingElement \u003d document.getElementById(window.location.hash.slice(1));"},{"lineNumber":12,"author":{"gitId":"-"},"content":"    if (headingElement) {"},{"lineNumber":13,"author":{"gitId":"-"},"content":"      headingElement.scrollIntoView();"},{"lineNumber":14,"author":{"gitId":"-"},"content":"      window.scrollBy(0, -document.body.style.paddingTop.replace(\u0027px\u0027, \u0027\u0027));"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":17,"author":{"gitId":"-"},"content":"}"},{"lineNumber":18,"author":{"gitId":"-"},"content":""},{"lineNumber":19,"author":{"gitId":"-"},"content":"function insertCss(cssCode) {"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  const newNode \u003d document.createElement(\u0027style\u0027);"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  newNode.innerHTML \u003d cssCode;"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  document.getElementsByTagName(\u0027head\u0027)[0].appendChild(newNode);"},{"lineNumber":23,"author":{"gitId":"-"},"content":"}"},{"lineNumber":24,"author":{"gitId":"-"},"content":""},{"lineNumber":25,"author":{"gitId":"-"},"content":"function detectAndApplyFixedHeaderStyles() {"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  jQuery(\u0027:header\u0027).each((index, heading) \u003d\u003e {"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    if (heading.id) {"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      jQuery(heading).removeAttr(\u0027id\u0027); // to avoid duplicated id problem"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":31,"author":{"gitId":"-"},"content":""},{"lineNumber":32,"author":{"gitId":"-"},"content":"  const headerSelector \u003d jQuery(\u0027header[fixed]\u0027);"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  const isFixed \u003d headerSelector.length !\u003d\u003d 0;"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  if (!isFixed) {"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    return;"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":37,"author":{"gitId":"-"},"content":""},{"lineNumber":38,"author":{"gitId":"-"},"content":"  const headerHeight \u003d headerSelector.height();"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  const bufferHeight \u003d 1;"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  insertCss(`.fixed-header-padding { padding-top: ${headerHeight}px !important }`);"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  insertCss("},{"lineNumber":42,"author":{"gitId":"-"},"content":"    `span.anchor {"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    position: relative;"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    top: calc(-${headerHeight}px - ${bufferHeight}rem)"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    }`,"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  );"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  insertCss(`span.card-container::before {"},{"lineNumber":48,"author":{"gitId":"-"},"content":"        display: block;"},{"lineNumber":49,"author":{"gitId":"-"},"content":"        content: \u0027\u0027;"},{"lineNumber":50,"author":{"gitId":"-"},"content":"        margin-top: calc(-${headerHeight}px - ${bufferHeight}rem);"},{"lineNumber":51,"author":{"gitId":"-"},"content":"        height: calc(${headerHeight}px + ${bufferHeight}rem);"},{"lineNumber":52,"author":{"gitId":"-"},"content":"      }`);"},{"lineNumber":53,"author":{"gitId":"jonahtanjz"},"content":"  insertCss(`.nav-menu-open { max-height: calc(100% - ${headerHeight}px); }`);"},{"lineNumber":54,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":55,"author":{"gitId":"jonahtanjz"},"content":"  const addResizeHeaderListener \u003d () \u003d\u003e {"},{"lineNumber":56,"author":{"gitId":"jonahtanjz"},"content":"    const resizeObserver \u003d new ResizeObserver(() \u003d\u003e {"},{"lineNumber":57,"author":{"gitId":"jonahtanjz"},"content":"      const newHeaderHeight \u003d headerSelector.height();"},{"lineNumber":58,"author":{"gitId":"jonahtanjz"},"content":"      const sheets \u003d document.styleSheets;"},{"lineNumber":59,"author":{"gitId":"jonahtanjz"},"content":"      for (let i \u003d 0; i \u003c sheets.length; i +\u003d 1) {"},{"lineNumber":60,"author":{"gitId":"jonahtanjz"},"content":"        const rules \u003d sheets[i].cssRules;"},{"lineNumber":61,"author":{"gitId":"jonahtanjz"},"content":"        // eslint-disable-next-line lodash/prefer-get"},{"lineNumber":62,"author":{"gitId":"jonahtanjz"},"content":"        if (rules \u0026\u0026 rules[0] \u0026\u0026 rules[0].selectorText) {"},{"lineNumber":63,"author":{"gitId":"jonahtanjz"},"content":"          switch (rules[0].selectorText) {"},{"lineNumber":64,"author":{"gitId":"jonahtanjz"},"content":"          case \u0027.fixed-header-padding\u0027:"},{"lineNumber":65,"author":{"gitId":"jonahtanjz"},"content":"            sheets[i].deleteRule(0);"},{"lineNumber":66,"author":{"gitId":"jonahtanjz"},"content":"            sheets[i].insertRule(`.fixed-header-padding { padding-top: ${newHeaderHeight}px !important }`);"},{"lineNumber":67,"author":{"gitId":"jonahtanjz"},"content":"            break;"},{"lineNumber":68,"author":{"gitId":"jonahtanjz"},"content":"          case \u0027span.anchor\u0027:"},{"lineNumber":69,"author":{"gitId":"jonahtanjz"},"content":"            rules[0].style.top \u003d `calc(-${newHeaderHeight}px - ${bufferHeight}rem)`;"},{"lineNumber":70,"author":{"gitId":"jonahtanjz"},"content":"            break;"},{"lineNumber":71,"author":{"gitId":"jonahtanjz"},"content":"          case \u0027span.card-container::before\u0027:"},{"lineNumber":72,"author":{"gitId":"jonahtanjz"},"content":"            rules[0].style.marginTop \u003d `calc(-${newHeaderHeight}px - ${bufferHeight}rem)`;"},{"lineNumber":73,"author":{"gitId":"jonahtanjz"},"content":"            rules[0].style.height \u003d `calc(${newHeaderHeight}px + ${bufferHeight}rem)`;"},{"lineNumber":74,"author":{"gitId":"jonahtanjz"},"content":"            break;"},{"lineNumber":75,"author":{"gitId":"jonahtanjz"},"content":"          case \u0027.nav-menu-open\u0027:"},{"lineNumber":76,"author":{"gitId":"jonahtanjz"},"content":"            rules[0].style.maxHeight \u003d `calc(100% - ${newHeaderHeight}px + 50px)`;"},{"lineNumber":77,"author":{"gitId":"jonahtanjz"},"content":"            break;"},{"lineNumber":78,"author":{"gitId":"jonahtanjz"},"content":"          default:"},{"lineNumber":79,"author":{"gitId":"jonahtanjz"},"content":"            break;"},{"lineNumber":80,"author":{"gitId":"jonahtanjz"},"content":"          }"},{"lineNumber":81,"author":{"gitId":"jonahtanjz"},"content":"        }"},{"lineNumber":82,"author":{"gitId":"jonahtanjz"},"content":"      }"},{"lineNumber":83,"author":{"gitId":"jonahtanjz"},"content":"    });"},{"lineNumber":84,"author":{"gitId":"jonahtanjz"},"content":"    resizeObserver.observe(headerSelector[0]);"},{"lineNumber":85,"author":{"gitId":"jonahtanjz"},"content":"  };"},{"lineNumber":86,"author":{"gitId":"jonahtanjz"},"content":"  addResizeHeaderListener();"},{"lineNumber":87,"author":{"gitId":"-"},"content":"}"},{"lineNumber":88,"author":{"gitId":"-"},"content":""},{"lineNumber":89,"author":{"gitId":"-"},"content":"function updateSearchData(vm) {"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  jQuery.getJSON(`${baseUrl}/siteData.json`)"},{"lineNumber":91,"author":{"gitId":"-"},"content":"    .then((siteData) \u003d\u003e {"},{"lineNumber":92,"author":{"gitId":"-"},"content":"      vm.searchData \u003d siteData.pages;"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":94,"author":{"gitId":"-"},"content":"}"},{"lineNumber":95,"author":{"gitId":"-"},"content":""},{"lineNumber":96,"author":{"gitId":"-"},"content":"function removeTemporaryStyles() {"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  jQuery(\u0027.temp-navbar\u0027).removeClass(\u0027temp-navbar\u0027);"},{"lineNumber":98,"author":{"gitId":"-"},"content":"  jQuery(\u0027.temp-dropdown\u0027).removeClass(\u0027temp-dropdown\u0027);"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  jQuery(\u0027.temp-dropdown-placeholder\u0027).remove();"},{"lineNumber":100,"author":{"gitId":"-"},"content":"}"},{"lineNumber":101,"author":{"gitId":"-"},"content":""},{"lineNumber":102,"author":{"gitId":"-"},"content":"function executeAfterCreatedRoutines() {"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  removeTemporaryStyles();"},{"lineNumber":104,"author":{"gitId":"-"},"content":"}"},{"lineNumber":105,"author":{"gitId":"-"},"content":""},{"lineNumber":106,"author":{"gitId":"-"},"content":"function executeAfterMountedRoutines() {"},{"lineNumber":107,"author":{"gitId":"-"},"content":"  scrollToUrlAnchorHeading();"},{"lineNumber":108,"author":{"gitId":"-"},"content":"  detectAndApplyFixedHeaderStyles();"},{"lineNumber":109,"author":{"gitId":"-"},"content":"}"},{"lineNumber":110,"author":{"gitId":"-"},"content":""},{"lineNumber":111,"author":{"gitId":"-"},"content":"window.handleSiteNavClick \u003d function (elem, useAnchor \u003d true) {"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  if (useAnchor) {"},{"lineNumber":113,"author":{"gitId":"-"},"content":"    const anchorElements \u003d elem.getElementsByTagName(\u0027a\u0027);"},{"lineNumber":114,"author":{"gitId":"-"},"content":"    if (anchorElements.length) {"},{"lineNumber":115,"author":{"gitId":"-"},"content":"      window.location.href \u003d anchorElements[0].href;"},{"lineNumber":116,"author":{"gitId":"-"},"content":"      return;"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":118,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  const dropdownContent \u003d elem.nextElementSibling;"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  const dropdownIcon \u003d elem.lastElementChild;"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  dropdownContent.classList.toggle(\u0027site-nav-dropdown-container-open\u0027);"},{"lineNumber":122,"author":{"gitId":"-"},"content":"  dropdownIcon.classList.toggle(\u0027site-nav-rotate-icon\u0027);"},{"lineNumber":123,"author":{"gitId":"-"},"content":"};"},{"lineNumber":124,"author":{"gitId":"-"},"content":""},{"lineNumber":125,"author":{"gitId":"-"},"content":"function setup() {"},{"lineNumber":126,"author":{"gitId":"-"},"content":"  // eslint-disable-next-line no-unused-vars"},{"lineNumber":127,"author":{"gitId":"-"},"content":"  const vm \u003d new Vue({"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    el: \u0027#app\u0027,"},{"lineNumber":129,"author":{"gitId":"-"},"content":"    created() {"},{"lineNumber":130,"author":{"gitId":"-"},"content":"      executeAfterCreatedRoutines();"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":132,"author":{"gitId":"-"},"content":"    mounted() {"},{"lineNumber":133,"author":{"gitId":"-"},"content":"      executeAfterMountedRoutines();"},{"lineNumber":134,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":135,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":136,"author":{"gitId":"-"},"content":"}"},{"lineNumber":137,"author":{"gitId":"-"},"content":""},{"lineNumber":138,"author":{"gitId":"-"},"content":"function setupWithSearch() {"},{"lineNumber":139,"author":{"gitId":"-"},"content":"  // eslint-disable-next-line no-unused-vars"},{"lineNumber":140,"author":{"gitId":"-"},"content":"  const vm \u003d new Vue({"},{"lineNumber":141,"author":{"gitId":"-"},"content":"    el: \u0027#app\u0027,"},{"lineNumber":142,"author":{"gitId":"-"},"content":"    data() {"},{"lineNumber":143,"author":{"gitId":"-"},"content":"      return {"},{"lineNumber":144,"author":{"gitId":"-"},"content":"        searchData: [],"},{"lineNumber":145,"author":{"gitId":"-"},"content":"      };"},{"lineNumber":146,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":147,"author":{"gitId":"-"},"content":"    methods: {"},{"lineNumber":148,"author":{"gitId":"-"},"content":"      searchCallback(match) {"},{"lineNumber":149,"author":{"gitId":"-"},"content":"        const page \u003d `${baseUrl}/${match.src.replace(/.(md|mbd)$/, \u0027.html\u0027)}`;"},{"lineNumber":150,"author":{"gitId":"-"},"content":"        const anchor \u003d match.heading ? `#${match.heading.id}` : \u0027\u0027;"},{"lineNumber":151,"author":{"gitId":"-"},"content":"        window.location \u003d `${page}${anchor}`;"},{"lineNumber":152,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":154,"author":{"gitId":"-"},"content":"    created() {"},{"lineNumber":155,"author":{"gitId":"-"},"content":"      executeAfterCreatedRoutines();"},{"lineNumber":156,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    mounted() {"},{"lineNumber":158,"author":{"gitId":"-"},"content":"      executeAfterMountedRoutines();"},{"lineNumber":159,"author":{"gitId":"-"},"content":"      updateSearchData(this);"},{"lineNumber":160,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":161,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":162,"author":{"gitId":"-"},"content":"}"},{"lineNumber":163,"author":{"gitId":"-"},"content":""},{"lineNumber":164,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":165,"author":{"gitId":"-"},"content":" These getters are used by popovers and tooltips to get their popover/tooltip content/title."},{"lineNumber":166,"author":{"gitId":"-"},"content":""},{"lineNumber":167,"author":{"gitId":"-"},"content":" For triggers, refer to Trigger.vue."},{"lineNumber":168,"author":{"gitId":"-"},"content":" We need to create a completely new popover/tooltip for each trigger due to bootstrap-vue\u0027s implementation,"},{"lineNumber":169,"author":{"gitId":"-"},"content":" so this is how we retrieve our contents."},{"lineNumber":170,"author":{"gitId":"-"},"content":"*/"},{"lineNumber":171,"author":{"gitId":"-"},"content":""},{"lineNumber":172,"author":{"gitId":"-"},"content":"function makeMbSlotGetter(slotName) {"},{"lineNumber":173,"author":{"gitId":"-"},"content":"  return (element) \u003d\u003e {"},{"lineNumber":174,"author":{"gitId":"-"},"content":"    const innerElement \u003d element.querySelector(`[data-mb-slot-name\u003d\"${slotName}\"]`);"},{"lineNumber":175,"author":{"gitId":"-"},"content":"    return innerElement \u003d\u003d\u003d null ? \u0027\u0027 : innerElement.innerHTML;"},{"lineNumber":176,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":177,"author":{"gitId":"-"},"content":"}"},{"lineNumber":178,"author":{"gitId":"-"},"content":""},{"lineNumber":179,"author":{"gitId":"-"},"content":"// Used via vb-popover.html\u003d\"popoverInnerGetters\" for popovers"},{"lineNumber":180,"author":{"gitId":"-"},"content":"window.popoverInnerGetters \u003d {"},{"lineNumber":181,"author":{"gitId":"-"},"content":"  title: makeMbSlotGetter(\u0027header\u0027),"},{"lineNumber":182,"author":{"gitId":"-"},"content":"  content: makeMbSlotGetter(\u0027content\u0027),"},{"lineNumber":183,"author":{"gitId":"-"},"content":"};"},{"lineNumber":184,"author":{"gitId":"-"},"content":"// Used via vb-tooltip.html\u003d\"popoverInnerGenerator\" for tooltips"},{"lineNumber":185,"author":{"gitId":"-"},"content":"window.tooltipInnerContentGetter \u003d makeMbSlotGetter(\u0027_content\u0027);"},{"lineNumber":186,"author":{"gitId":"-"},"content":""},{"lineNumber":187,"author":{"gitId":"-"},"content":"initScrollTopButton();"},{"lineNumber":188,"author":{"gitId":"-"},"content":""},{"lineNumber":189,"author":{"gitId":"-"},"content":"export default { setup, setupWithSearch };"}],"authorContributionMap":{"jonahtanjz":34,"-":155}},{"path":"packages/core-web/src/styles/markbind.css","fileType":"css","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"blockquote {"},{"lineNumber":2,"author":{"gitId":"-"},"content":"    border-left: 0.25em solid #dfe2e5;"},{"lineNumber":3,"author":{"gitId":"-"},"content":"    color: #6a737d;"},{"lineNumber":4,"author":{"gitId":"-"},"content":"    padding: 0 1rem;"},{"lineNumber":5,"author":{"gitId":"-"},"content":"}"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"code {"},{"lineNumber":8,"author":{"gitId":"-"},"content":"    background: #f8f8f8;"},{"lineNumber":9,"author":{"gitId":"-"},"content":"    border-radius: 3px;"},{"lineNumber":10,"author":{"gitId":"-"},"content":"    padding: 0.2em 0.4em;"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    word-break: normal;"},{"lineNumber":12,"author":{"gitId":"-"},"content":"}"},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"-"},"content":"mark code {"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    background: #ffffffd4;"},{"lineNumber":16,"author":{"gitId":"-"},"content":"}"},{"lineNumber":17,"author":{"gitId":"-"},"content":""},{"lineNumber":18,"author":{"gitId":"-"},"content":"pre.hljs \u003e code {"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    background: none;"},{"lineNumber":20,"author":{"gitId":"-"},"content":"}"},{"lineNumber":21,"author":{"gitId":"-"},"content":""},{"lineNumber":22,"author":{"gitId":"-"},"content":"pre \u003e code.hljs {"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    -webkit-background-clip: padding-box; /* for Safari */"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    background-clip: padding-box; /* for IE9+, Firefox 4+, Opera, Chrome */"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    border-radius: 5px;"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    counter-reset: line;"},{"lineNumber":27,"author":{"gitId":"-"},"content":"}"},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"pre \u003e code.hljs[heading] {"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    border-top-right-radius: 0;"},{"lineNumber":31,"author":{"gitId":"-"},"content":"}"},{"lineNumber":32,"author":{"gitId":"-"},"content":""},{"lineNumber":33,"author":{"gitId":"-"},"content":".code-block {"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    position: relative;"},{"lineNumber":35,"author":{"gitId":"-"},"content":"}"},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":".code-block-heading {"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    border-radius: 6px 6px 0 0;"},{"lineNumber":39,"author":{"gitId":"-"},"content":"    float: right;"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    font-size: 85%;"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    line-height: 1;"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    max-width: 85%;"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    overflow-wrap: break-word;"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    padding: 0.25em 0.4em;"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    text-align: right;"},{"lineNumber":46,"author":{"gitId":"-"},"content":"}"},{"lineNumber":47,"author":{"gitId":"-"},"content":""},{"lineNumber":48,"author":{"gitId":"-"},"content":".inline-markdown-heading {"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    line-height: 1.5;"},{"lineNumber":50,"author":{"gitId":"-"},"content":"}"},{"lineNumber":51,"author":{"gitId":"-"},"content":""},{"lineNumber":52,"author":{"gitId":"-"},"content":".code-block-content {"},{"lineNumber":53,"author":{"gitId":"-"},"content":"    clear: both;"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    display: block;"},{"lineNumber":55,"author":{"gitId":"-"},"content":"}"},{"lineNumber":56,"author":{"gitId":"-"},"content":""},{"lineNumber":57,"author":{"gitId":"-"},"content":"/* switch to light style on print view */"},{"lineNumber":58,"author":{"gitId":"-"},"content":"@media print {"},{"lineNumber":59,"author":{"gitId":"raysonkoh"},"content":"    pre \u003e code.hljs,"},{"lineNumber":60,"author":{"gitId":"raysonkoh"},"content":"    code.hljs.inline {"},{"lineNumber":61,"author":{"gitId":"-"},"content":"        background: ghostwhite;"},{"lineNumber":62,"author":{"gitId":"-"},"content":"        color: #333;"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":64,"author":{"gitId":"-"},"content":""},{"lineNumber":65,"author":{"gitId":"raysonkoh"},"content":"    code.hljs.inline {"},{"lineNumber":66,"author":{"gitId":"raysonkoh"},"content":"        border: 0.5px solid #d4d4d4;"},{"lineNumber":67,"author":{"gitId":"raysonkoh"},"content":"    }"},{"lineNumber":68,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":69,"author":{"gitId":"-"},"content":"    code span.highlighted {"},{"lineNumber":70,"author":{"gitId":"-"},"content":"        background: lavender;"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":72,"author":{"gitId":"-"},"content":"}"},{"lineNumber":73,"author":{"gitId":"-"},"content":""},{"lineNumber":74,"author":{"gitId":"-"},"content":"kbd {"},{"lineNumber":75,"author":{"gitId":"-"},"content":"    background-color: #fafbfc;"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    border: 1px solid #c6cbd1;"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    border-bottom-color: #959da5;"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    box-shadow: inset 0 -1px 0 #959da5;"},{"lineNumber":79,"author":{"gitId":"-"},"content":"    color: #444d56;"},{"lineNumber":80,"author":{"gitId":"-"},"content":"}"},{"lineNumber":81,"author":{"gitId":"-"},"content":""},{"lineNumber":82,"author":{"gitId":"-"},"content":".btn:active,"},{"lineNumber":83,"author":{"gitId":"-"},"content":".btn:focus {"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    box-shadow: none !important;"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    outline: none !important;"},{"lineNumber":86,"author":{"gitId":"-"},"content":"}"},{"lineNumber":87,"author":{"gitId":"-"},"content":""},{"lineNumber":88,"author":{"gitId":"-"},"content":"code.hljs.inline {"},{"lineNumber":89,"author":{"gitId":"-"},"content":"    display: initial;"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    padding: 0.2em 0.4em;"},{"lineNumber":91,"author":{"gitId":"-"},"content":"}"},{"lineNumber":92,"author":{"gitId":"-"},"content":""},{"lineNumber":93,"author":{"gitId":"-"},"content":".markbind-table {"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    width: auto;"},{"lineNumber":95,"author":{"gitId":"-"},"content":"}"},{"lineNumber":96,"author":{"gitId":"-"},"content":""},{"lineNumber":97,"author":{"gitId":"-"},"content":".radio-list-item,"},{"lineNumber":98,"author":{"gitId":"-"},"content":".task-list-item {"},{"lineNumber":99,"author":{"gitId":"-"},"content":"    list-style-type: none;"},{"lineNumber":100,"author":{"gitId":"-"},"content":"    margin: 0 0 0 -1.2em;"},{"lineNumber":101,"author":{"gitId":"-"},"content":"}"},{"lineNumber":102,"author":{"gitId":"-"},"content":""},{"lineNumber":103,"author":{"gitId":"-"},"content":".radio-list-item label {"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    font-weight: inherit;"},{"lineNumber":105,"author":{"gitId":"-"},"content":"}"},{"lineNumber":106,"author":{"gitId":"-"},"content":""},{"lineNumber":107,"author":{"gitId":"-"},"content":".table-striped \u003e thead,"},{"lineNumber":108,"author":{"gitId":"-"},"content":".table-striped \u003e tbody \u003e tr:nth-of-type(even) {"},{"lineNumber":109,"author":{"gitId":"-"},"content":"    background-color: #fff;"},{"lineNumber":110,"author":{"gitId":"-"},"content":"}"},{"lineNumber":111,"author":{"gitId":"-"},"content":""},{"lineNumber":112,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":113,"author":{"gitId":"-"},"content":"  * Holy Grail Layout"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  *"},{"lineNumber":115,"author":{"gitId":"-"},"content":"  * This section covers the common styles used within Header, Footer and Side Navigation bars"},{"lineNumber":116,"author":{"gitId":"-"},"content":"  */"},{"lineNumber":117,"author":{"gitId":"-"},"content":""},{"lineNumber":118,"author":{"gitId":"-"},"content":"/* Header */"},{"lineNumber":119,"author":{"gitId":"-"},"content":""},{"lineNumber":120,"author":{"gitId":"-"},"content":"header[fixed] {"},{"lineNumber":121,"author":{"gitId":"-"},"content":"    position: fixed;"},{"lineNumber":122,"author":{"gitId":"-"},"content":"    width: 100%;"},{"lineNumber":123,"author":{"gitId":"jonahtanjz"},"content":"    z-index: 1001;"},{"lineNumber":124,"author":{"gitId":"-"},"content":"}"},{"lineNumber":125,"author":{"gitId":"-"},"content":""},{"lineNumber":126,"author":{"gitId":"-"},"content":"/* #app is treated as the main container */"},{"lineNumber":127,"author":{"gitId":"-"},"content":"#app {"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    display: flex;"},{"lineNumber":129,"author":{"gitId":"-"},"content":"    flex-direction: column;"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    min-height: 100vh;"},{"lineNumber":131,"author":{"gitId":"-"},"content":"}"},{"lineNumber":132,"author":{"gitId":"-"},"content":""},{"lineNumber":133,"author":{"gitId":"-"},"content":"/* Footer */"},{"lineNumber":134,"author":{"gitId":"-"},"content":"footer {"},{"lineNumber":135,"author":{"gitId":"-"},"content":"    background-color: #f5f5f5;"},{"lineNumber":136,"author":{"gitId":"-"},"content":"    color: dimgrey;"},{"lineNumber":137,"author":{"gitId":"-"},"content":"    padding: 10px 0;"},{"lineNumber":138,"author":{"gitId":"-"},"content":"}"},{"lineNumber":139,"author":{"gitId":"-"},"content":""},{"lineNumber":140,"author":{"gitId":"-"},"content":"/* TODO move this back to markdown-it-attr if bundling is implemented */"},{"lineNumber":141,"author":{"gitId":"-"},"content":".dimmed {"},{"lineNumber":142,"author":{"gitId":"-"},"content":"    color: #777;"},{"lineNumber":143,"author":{"gitId":"-"},"content":"}"},{"lineNumber":144,"author":{"gitId":"-"},"content":""},{"lineNumber":145,"author":{"gitId":"-"},"content":"/* Bootstrap small(sm) responsive breakpoint */"},{"lineNumber":146,"author":{"gitId":"-"},"content":"@media (max-width: 767.98px) {"},{"lineNumber":147,"author":{"gitId":"-"},"content":"    .dropdown-menu \u003e li \u003e a {"},{"lineNumber":148,"author":{"gitId":"-"},"content":"        white-space: normal;"},{"lineNumber":149,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":150,"author":{"gitId":"-"},"content":""},{"lineNumber":151,"author":{"gitId":"-"},"content":"    .navbar-nav .open .dropdown-menu {"},{"lineNumber":152,"author":{"gitId":"-"},"content":"        background-color: #fff;"},{"lineNumber":153,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":154,"author":{"gitId":"-"},"content":"}"},{"lineNumber":155,"author":{"gitId":"-"},"content":""},{"lineNumber":156,"author":{"gitId":"-"},"content":"/* Temporary Anti-FOUC Styles */"},{"lineNumber":157,"author":{"gitId":"-"},"content":""},{"lineNumber":158,"author":{"gitId":"-"},"content":"/* By default, some of MarkBind\u0027s Vue components break the layout of the page before Vue is mounted,"},{"lineNumber":159,"author":{"gitId":"-"},"content":"so we apply temporary styles to fix the layout until Vue correctly updates the DOM. */"},{"lineNumber":160,"author":{"gitId":"-"},"content":""},{"lineNumber":161,"author":{"gitId":"-"},"content":".temp-navbar {"},{"lineNumber":162,"author":{"gitId":"-"},"content":"    display: flex;"},{"lineNumber":163,"author":{"gitId":"-"},"content":"}"},{"lineNumber":164,"author":{"gitId":"-"},"content":""},{"lineNumber":165,"author":{"gitId":"-"},"content":".temp-navbar li {"},{"lineNumber":166,"author":{"gitId":"-"},"content":"    display: block;"},{"lineNumber":167,"author":{"gitId":"-"},"content":"}"},{"lineNumber":168,"author":{"gitId":"-"},"content":""},{"lineNumber":169,"author":{"gitId":"-"},"content":".temp-dropdown {"},{"lineNumber":170,"author":{"gitId":"-"},"content":"    display: none;"},{"lineNumber":171,"author":{"gitId":"-"},"content":"}"},{"lineNumber":172,"author":{"gitId":"-"},"content":""},{"lineNumber":173,"author":{"gitId":"-"},"content":"/* Hide the contents of unexpanded panels */"},{"lineNumber":174,"author":{"gitId":"-"},"content":"/* stylelint-disable selector-type-no-unknown */"},{"lineNumber":175,"author":{"gitId":"-"},"content":"panel:not([expanded]):not([minimized]) {"},{"lineNumber":176,"author":{"gitId":"-"},"content":"    display: block;"},{"lineNumber":177,"author":{"gitId":"-"},"content":"    height: 53px;"},{"lineNumber":178,"author":{"gitId":"-"},"content":"    visibility: hidden;"},{"lineNumber":179,"author":{"gitId":"-"},"content":"}"},{"lineNumber":180,"author":{"gitId":"-"},"content":""},{"lineNumber":181,"author":{"gitId":"-"},"content":"panel[minimized] {"},{"lineNumber":182,"author":{"gitId":"-"},"content":"    display: inline-block;"},{"lineNumber":183,"author":{"gitId":"-"},"content":"    height: 38px;"},{"lineNumber":184,"author":{"gitId":"-"},"content":"    visibility: hidden;"},{"lineNumber":185,"author":{"gitId":"-"},"content":"}"},{"lineNumber":186,"author":{"gitId":"-"},"content":""},{"lineNumber":187,"author":{"gitId":"-"},"content":"panel:not([expanded]):not([minimized])::before {"},{"lineNumber":188,"author":{"gitId":"-"},"content":"    color: white;"},{"lineNumber":189,"author":{"gitId":"-"},"content":"    content: \"Loading...\";"},{"lineNumber":190,"author":{"gitId":"-"},"content":"    display: block;"},{"lineNumber":191,"author":{"gitId":"-"},"content":"    height: 53px;"},{"lineNumber":192,"author":{"gitId":"-"},"content":"    line-height: 1.5;"},{"lineNumber":193,"author":{"gitId":"-"},"content":"    margin-bottom: 0;"},{"lineNumber":194,"author":{"gitId":"-"},"content":"    margin-top: 5px;"},{"lineNumber":195,"author":{"gitId":"-"},"content":"    padding: 0.75rem 1.25rem;"},{"lineNumber":196,"author":{"gitId":"-"},"content":"    visibility: visible;"},{"lineNumber":197,"author":{"gitId":"-"},"content":"}"},{"lineNumber":198,"author":{"gitId":"-"},"content":""},{"lineNumber":199,"author":{"gitId":"-"},"content":"panel[minimized]::before {"},{"lineNumber":200,"author":{"gitId":"-"},"content":"    border: #0b2e13;"},{"lineNumber":201,"author":{"gitId":"-"},"content":"    color: white;"},{"lineNumber":202,"author":{"gitId":"-"},"content":"    content: \"\";"},{"lineNumber":203,"author":{"gitId":"-"},"content":"    display: inline-block;"},{"lineNumber":204,"author":{"gitId":"-"},"content":"    height: 38px;"},{"lineNumber":205,"author":{"gitId":"-"},"content":"    padding: 0.75rem 1.25rem;"},{"lineNumber":206,"author":{"gitId":"-"},"content":"    visibility: visible;"},{"lineNumber":207,"author":{"gitId":"-"},"content":"}"},{"lineNumber":208,"author":{"gitId":"-"},"content":""},{"lineNumber":209,"author":{"gitId":"-"},"content":"panel[type\u003dseamless]:not([expanded])::before {"},{"lineNumber":210,"author":{"gitId":"-"},"content":"    background-color: transparent;"},{"lineNumber":211,"author":{"gitId":"-"},"content":"    border: 0;"},{"lineNumber":212,"author":{"gitId":"-"},"content":"    color: black;"},{"lineNumber":213,"author":{"gitId":"-"},"content":"}"},{"lineNumber":214,"author":{"gitId":"-"},"content":""},{"lineNumber":215,"author":{"gitId":"-"},"content":"panel[type\u003dprimary]:not([expanded])::before {"},{"lineNumber":216,"author":{"gitId":"-"},"content":"    background-color: var(--primary);"},{"lineNumber":217,"author":{"gitId":"-"},"content":"    border-color: var(--primary);"},{"lineNumber":218,"author":{"gitId":"-"},"content":"}"},{"lineNumber":219,"author":{"gitId":"-"},"content":""},{"lineNumber":220,"author":{"gitId":"-"},"content":"panel[type\u003dsecondary]:not([expanded])::before {"},{"lineNumber":221,"author":{"gitId":"-"},"content":"    background-color: var(--secondary);"},{"lineNumber":222,"author":{"gitId":"-"},"content":"    border-color: var(--secondary);"},{"lineNumber":223,"author":{"gitId":"-"},"content":"}"},{"lineNumber":224,"author":{"gitId":"-"},"content":""},{"lineNumber":225,"author":{"gitId":"-"},"content":"panel[type\u003dsuccess]:not([expanded])::before {"},{"lineNumber":226,"author":{"gitId":"-"},"content":"    background-color: var(--success);"},{"lineNumber":227,"author":{"gitId":"-"},"content":"    border-color: var(--success);"},{"lineNumber":228,"author":{"gitId":"-"},"content":"}"},{"lineNumber":229,"author":{"gitId":"-"},"content":""},{"lineNumber":230,"author":{"gitId":"-"},"content":"panel[type\u003dwarning]:not([expanded])::before {"},{"lineNumber":231,"author":{"gitId":"-"},"content":"    background-color: var(--warning);"},{"lineNumber":232,"author":{"gitId":"-"},"content":"    border-color: var(--warning);"},{"lineNumber":233,"author":{"gitId":"-"},"content":"}"},{"lineNumber":234,"author":{"gitId":"-"},"content":""},{"lineNumber":235,"author":{"gitId":"-"},"content":"panel[type\u003ddanger]:not([expanded])::before {"},{"lineNumber":236,"author":{"gitId":"-"},"content":"    background-color: var(--danger);"},{"lineNumber":237,"author":{"gitId":"-"},"content":"    border-color: var(--danger);"},{"lineNumber":238,"author":{"gitId":"-"},"content":"}"},{"lineNumber":239,"author":{"gitId":"-"},"content":""},{"lineNumber":240,"author":{"gitId":"-"},"content":"panel[type\u003dinfo]:not([expanded])::before {"},{"lineNumber":241,"author":{"gitId":"-"},"content":"    background-color: var(--info);"},{"lineNumber":242,"author":{"gitId":"-"},"content":"    border-color: var(--info);"},{"lineNumber":243,"author":{"gitId":"-"},"content":"}"},{"lineNumber":244,"author":{"gitId":"-"},"content":""},{"lineNumber":245,"author":{"gitId":"-"},"content":"panel[type\u003dlight]:not([expanded])::before,"},{"lineNumber":246,"author":{"gitId":"-"},"content":"panel:not([type]):not([expanded])::before {"},{"lineNumber":247,"author":{"gitId":"-"},"content":"    background-color: var(--light);"},{"lineNumber":248,"author":{"gitId":"-"},"content":"    color: black;"},{"lineNumber":249,"author":{"gitId":"-"},"content":"}"},{"lineNumber":250,"author":{"gitId":"-"},"content":""},{"lineNumber":251,"author":{"gitId":"-"},"content":"panel[type\u003ddark]:not([expanded])::before {"},{"lineNumber":252,"author":{"gitId":"-"},"content":"    background-color: var(--dark);"},{"lineNumber":253,"author":{"gitId":"-"},"content":"    border-color: var(--dark);"},{"lineNumber":254,"author":{"gitId":"-"},"content":"}"},{"lineNumber":255,"author":{"gitId":"-"},"content":""},{"lineNumber":256,"author":{"gitId":"-"},"content":"panel[minimized]:not([expanded])::before {"},{"lineNumber":257,"author":{"gitId":"-"},"content":"    background-color: var(--light);"},{"lineNumber":258,"author":{"gitId":"-"},"content":"}"},{"lineNumber":259,"author":{"gitId":"-"},"content":""},{"lineNumber":260,"author":{"gitId":"-"},"content":"/* increasing specificity */"},{"lineNumber":261,"author":{"gitId":"-"},"content":"#flex-body panel:not([expanded]) panel {"},{"lineNumber":262,"author":{"gitId":"-"},"content":"    display: none;"},{"lineNumber":263,"author":{"gitId":"-"},"content":"}"},{"lineNumber":264,"author":{"gitId":"-"},"content":""},{"lineNumber":265,"author":{"gitId":"-"},"content":"/* stylelint-enable selector-type-no-unknown */"},{"lineNumber":266,"author":{"gitId":"-"},"content":""},{"lineNumber":267,"author":{"gitId":"-"},"content":"/* Footnote anchor */"},{"lineNumber":268,"author":{"gitId":"-"},"content":""},{"lineNumber":269,"author":{"gitId":"-"},"content":"li.footnote-item:target {"},{"lineNumber":270,"author":{"gitId":"-"},"content":"    background-color: #eee;"},{"lineNumber":271,"author":{"gitId":"-"},"content":"}"},{"lineNumber":272,"author":{"gitId":"-"},"content":""},{"lineNumber":273,"author":{"gitId":"-"},"content":".hljs:not(.inline) \u003e span {"},{"lineNumber":274,"author":{"gitId":"-"},"content":"    display: block;"},{"lineNumber":275,"author":{"gitId":"-"},"content":"}"},{"lineNumber":276,"author":{"gitId":"-"},"content":""},{"lineNumber":277,"author":{"gitId":"-"},"content":".hljs:not(.inline):not(.no-line-numbers) \u003e span {"},{"lineNumber":278,"author":{"gitId":"-"},"content":"    padding: 0 0.5em 0 3.5em;"},{"lineNumber":279,"author":{"gitId":"-"},"content":"    position: relative;"},{"lineNumber":280,"author":{"gitId":"-"},"content":"}"},{"lineNumber":281,"author":{"gitId":"-"},"content":""},{"lineNumber":282,"author":{"gitId":"-"},"content":"/* display line numbers beside each span */"},{"lineNumber":283,"author":{"gitId":"-"},"content":".hljs:not(.inline):not(.no-line-numbers) \u003e span::before {"},{"lineNumber":284,"author":{"gitId":"-"},"content":"    border-right: 1px solid #ddd;"},{"lineNumber":285,"author":{"gitId":"-"},"content":"    display: inline-block;"},{"lineNumber":286,"author":{"gitId":"-"},"content":"    color: #888;"},{"lineNumber":287,"author":{"gitId":"-"},"content":"    content: counter(line);"},{"lineNumber":288,"author":{"gitId":"-"},"content":"    counter-increment: line;"},{"lineNumber":289,"author":{"gitId":"-"},"content":"    left: 0;"},{"lineNumber":290,"author":{"gitId":"-"},"content":"    margin-right: 0.5em;"},{"lineNumber":291,"author":{"gitId":"-"},"content":"    padding-right: 0.5em;"},{"lineNumber":292,"author":{"gitId":"-"},"content":"    position: absolute;"},{"lineNumber":293,"author":{"gitId":"-"},"content":"    text-align: right;"},{"lineNumber":294,"author":{"gitId":"-"},"content":"    top: 0;"},{"lineNumber":295,"author":{"gitId":"-"},"content":"    width: 3em;"},{"lineNumber":296,"author":{"gitId":"-"},"content":"}"},{"lineNumber":297,"author":{"gitId":"-"},"content":""},{"lineNumber":298,"author":{"gitId":"-"},"content":"/* hide popover, tooltip content */"},{"lineNumber":299,"author":{"gitId":"-"},"content":"[data-mb-slot-name] {"},{"lineNumber":300,"author":{"gitId":"-"},"content":"    display: none;"},{"lineNumber":301,"author":{"gitId":"-"},"content":"}"},{"lineNumber":302,"author":{"gitId":"-"},"content":""},{"lineNumber":303,"author":{"gitId":"-"},"content":"/* styles for triggers, popovers, tooltips */"},{"lineNumber":304,"author":{"gitId":"-"},"content":".trigger {"},{"lineNumber":305,"author":{"gitId":"-"},"content":"    border-bottom: 1px dotted currentColor;"},{"lineNumber":306,"author":{"gitId":"-"},"content":"}"},{"lineNumber":307,"author":{"gitId":"-"},"content":""},{"lineNumber":308,"author":{"gitId":"-"},"content":".trigger-click {"},{"lineNumber":309,"author":{"gitId":"-"},"content":"    cursor: pointer;"},{"lineNumber":310,"author":{"gitId":"-"},"content":"    border-bottom: 1px dashed currentColor;"},{"lineNumber":311,"author":{"gitId":"-"},"content":"}"},{"lineNumber":312,"author":{"gitId":"-"},"content":""},{"lineNumber":313,"author":{"gitId":"-"},"content":".trigger-click:focus {"},{"lineNumber":314,"author":{"gitId":"-"},"content":"    outline: none;"},{"lineNumber":315,"author":{"gitId":"-"},"content":"}"},{"lineNumber":316,"author":{"gitId":"-"},"content":""},{"lineNumber":317,"author":{"gitId":"-"},"content":".modal.mb-zoom {"},{"lineNumber":318,"author":{"gitId":"-"},"content":"    -webkit-transform: scale(0.1);"},{"lineNumber":319,"author":{"gitId":"-"},"content":"    -moz-transform: scale(0.1);"},{"lineNumber":320,"author":{"gitId":"-"},"content":"    -ms-transform: scale(0.1);"},{"lineNumber":321,"author":{"gitId":"-"},"content":"    transform: scale(0.1);"},{"lineNumber":322,"author":{"gitId":"-"},"content":"    opacity: 0;"},{"lineNumber":323,"author":{"gitId":"-"},"content":"    -webkit-transition: all 0.3s;"},{"lineNumber":324,"author":{"gitId":"-"},"content":"    -moz-transition: all 0.3s;"},{"lineNumber":325,"author":{"gitId":"-"},"content":"    transition: all 0.3s;"},{"lineNumber":326,"author":{"gitId":"-"},"content":"}"},{"lineNumber":327,"author":{"gitId":"-"},"content":""},{"lineNumber":328,"author":{"gitId":"-"},"content":".modal.mb-zoom.show {"},{"lineNumber":329,"author":{"gitId":"-"},"content":"    -webkit-transform: scale(1);"},{"lineNumber":330,"author":{"gitId":"-"},"content":"    -moz-transform: scale(1);"},{"lineNumber":331,"author":{"gitId":"-"},"content":"    -ms-transform: scale(1);"},{"lineNumber":332,"author":{"gitId":"-"},"content":"    transform: scale(1);"},{"lineNumber":333,"author":{"gitId":"-"},"content":"    opacity: 1;"},{"lineNumber":334,"author":{"gitId":"-"},"content":"}"},{"lineNumber":335,"author":{"gitId":"-"},"content":""},{"lineNumber":336,"author":{"gitId":"-"},"content":"/* \"Copy\" code block button */"},{"lineNumber":337,"author":{"gitId":"-"},"content":"pre {"},{"lineNumber":338,"author":{"gitId":"-"},"content":"    position: relative;"},{"lineNumber":339,"author":{"gitId":"-"},"content":"}"},{"lineNumber":340,"author":{"gitId":"-"},"content":""},{"lineNumber":341,"author":{"gitId":"-"},"content":"button.copy-btn {"},{"lineNumber":342,"author":{"gitId":"-"},"content":"    border: none;"},{"lineNumber":343,"author":{"gitId":"-"},"content":"    background-color: transparent;"},{"lineNumber":344,"author":{"gitId":"-"},"content":"    color: darkgray;"},{"lineNumber":345,"author":{"gitId":"-"},"content":"    cursor: pointer;"},{"lineNumber":346,"author":{"gitId":"-"},"content":"    display: inline-block;"},{"lineNumber":347,"author":{"gitId":"-"},"content":"    padding: 0.35rem;"},{"lineNumber":348,"author":{"gitId":"-"},"content":"    position: absolute;"},{"lineNumber":349,"author":{"gitId":"-"},"content":"    right: 0.1rem;"},{"lineNumber":350,"author":{"gitId":"-"},"content":"    top: 0.1rem;"},{"lineNumber":351,"author":{"gitId":"-"},"content":"    text-align: center;"},{"lineNumber":352,"author":{"gitId":"-"},"content":"    white-space: nowrap;"},{"lineNumber":353,"author":{"gitId":"-"},"content":"}"},{"lineNumber":354,"author":{"gitId":"-"},"content":""},{"lineNumber":355,"author":{"gitId":"-"},"content":".copy-btn:hover {"},{"lineNumber":356,"author":{"gitId":"-"},"content":"    transition: all 0.5s ease;"},{"lineNumber":357,"author":{"gitId":"-"},"content":"    box-shadow: 0 0 0.25rem rgba(173, 173, 173, 0.8);"},{"lineNumber":358,"author":{"gitId":"-"},"content":"}"},{"lineNumber":359,"author":{"gitId":"-"},"content":""},{"lineNumber":360,"author":{"gitId":"-"},"content":".copy-btn-body {"},{"lineNumber":361,"author":{"gitId":"-"},"content":"    align-items: center;"},{"lineNumber":362,"author":{"gitId":"-"},"content":"    display: flex;"},{"lineNumber":363,"author":{"gitId":"-"},"content":"}"},{"lineNumber":364,"author":{"gitId":"-"},"content":""},{"lineNumber":365,"author":{"gitId":"-"},"content":".copy-btn svg {"},{"lineNumber":366,"author":{"gitId":"-"},"content":"    fill: currentColor;"},{"lineNumber":367,"author":{"gitId":"-"},"content":"}"},{"lineNumber":368,"author":{"gitId":"-"},"content":""},{"lineNumber":369,"author":{"gitId":"-"},"content":".copy-btn:focus {"},{"lineNumber":370,"author":{"gitId":"-"},"content":"    box-shadow: 0 0 0.125rem rgba(173, 173, 173, 0.8);"},{"lineNumber":371,"author":{"gitId":"-"},"content":"}"},{"lineNumber":372,"author":{"gitId":"-"},"content":""},{"lineNumber":373,"author":{"gitId":"-"},"content":"/* Octicon sizing */"},{"lineNumber":374,"author":{"gitId":"-"},"content":".octicon {"},{"lineNumber":375,"author":{"gitId":"-"},"content":"    height: 1em;"},{"lineNumber":376,"author":{"gitId":"-"},"content":"    width: 1em;"},{"lineNumber":377,"author":{"gitId":"-"},"content":"}"},{"lineNumber":378,"author":{"gitId":"-"},"content":""},{"lineNumber":379,"author":{"gitId":"-"},"content":"/* Navbar link highlight for current page */"},{"lineNumber":380,"author":{"gitId":"-"},"content":".navbar .navbar-nav .current {"},{"lineNumber":381,"author":{"gitId":"-"},"content":"    background: rgba(0, 0, 0, 0.05);"},{"lineNumber":382,"author":{"gitId":"-"},"content":"}"},{"lineNumber":383,"author":{"gitId":"-"},"content":""},{"lineNumber":384,"author":{"gitId":"-"},"content":".navbar.navbar-dark.bg-dark .navbar-nav .current {"},{"lineNumber":385,"author":{"gitId":"-"},"content":"    background: rgba(255, 255, 255, 0.05);"},{"lineNumber":386,"author":{"gitId":"-"},"content":"}"},{"lineNumber":387,"author":{"gitId":"-"},"content":""},{"lineNumber":388,"author":{"gitId":"-"},"content":".navbar.navbar-light.bg-light .navbar-nav .current {"},{"lineNumber":389,"author":{"gitId":"-"},"content":"    background: rgba(0, 0, 0, 0.05);"},{"lineNumber":390,"author":{"gitId":"-"},"content":"}"},{"lineNumber":391,"author":{"gitId":"-"},"content":""},{"lineNumber":392,"author":{"gitId":"-"},"content":".navbar.navbar-dark.bg-primary .navbar-nav .current {"},{"lineNumber":393,"author":{"gitId":"-"},"content":"    background: rgba(255, 255, 255, 0.05);"},{"lineNumber":394,"author":{"gitId":"-"},"content":"}"}],"authorContributionMap":{"raysonkoh":6,"jonahtanjz":1,"-":387}},{"path":"packages/core/package.json","fileType":"json","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"{"},{"lineNumber":2,"author":{"gitId":"-"},"content":"  \"name\": \"@markbind/core\","},{"lineNumber":3,"author":{"gitId":"-"},"content":"  \"version\": \"2.17.0\","},{"lineNumber":4,"author":{"gitId":"-"},"content":"  \"description\": \"MarkBind core module\","},{"lineNumber":5,"author":{"gitId":"-"},"content":"  \"keywords\": ["},{"lineNumber":6,"author":{"gitId":"-"},"content":"    \"mark\","},{"lineNumber":7,"author":{"gitId":"-"},"content":"    \"markdown\","},{"lineNumber":8,"author":{"gitId":"-"},"content":"    \"markbind\","},{"lineNumber":9,"author":{"gitId":"-"},"content":"    \"fragment\","},{"lineNumber":10,"author":{"gitId":"-"},"content":"    \"reusable\""},{"lineNumber":11,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  \"homepage\": \"https://markbind.org\","},{"lineNumber":13,"author":{"gitId":"-"},"content":"  \"license\": \"MIT\","},{"lineNumber":14,"author":{"gitId":"-"},"content":"  \"main\": \"src/index.js\","},{"lineNumber":15,"author":{"gitId":"-"},"content":"  \"repository\": {"},{"lineNumber":16,"author":{"gitId":"-"},"content":"    \"type\": \"git\","},{"lineNumber":17,"author":{"gitId":"-"},"content":"    \"url\": \"https://github.com/MarkBind/markbind.git\","},{"lineNumber":18,"author":{"gitId":"-"},"content":"    \"directory\": \"packages/core\""},{"lineNumber":19,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":20,"author":{"gitId":"-"},"content":"  \"publishConfig\": {"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    \"access\": \"public\""},{"lineNumber":22,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  \"scripts\": {"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    \"test\": \"jest --colors\""},{"lineNumber":25,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  \"dependencies\": {"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    \"@fortawesome/fontawesome-free\": \"^5.14.0\","},{"lineNumber":28,"author":{"gitId":"-"},"content":"    \"@markbind/core-web\": \"^2.17.0\","},{"lineNumber":29,"author":{"gitId":"-"},"content":"    \"@primer/octicons\": \"^9.3.1\","},{"lineNumber":30,"author":{"gitId":"-"},"content":"    \"@sindresorhus/slugify\": \"^0.9.1\","},{"lineNumber":31,"author":{"gitId":"-"},"content":"    \"bluebird\": \"^3.7.2\","},{"lineNumber":32,"author":{"gitId":"-"},"content":"    \"bootswatch\": \"^4.4.1\","},{"lineNumber":33,"author":{"gitId":"-"},"content":"    \"cheerio\": \"^0.22.0\","},{"lineNumber":34,"author":{"gitId":"-"},"content":"    \"crypto-js\": \"^4.0.0\","},{"lineNumber":35,"author":{"gitId":"raysonkoh"},"content":"    \"csv-parse\": \"^4.14.2\","},{"lineNumber":36,"author":{"gitId":"-"},"content":"    \"ensure-posix-path\": \"^1.1.1\","},{"lineNumber":37,"author":{"gitId":"-"},"content":"    \"fastmatter\": \"^2.1.1\","},{"lineNumber":38,"author":{"gitId":"-"},"content":"    \"fs-extra\": \"^9.0.1\","},{"lineNumber":39,"author":{"gitId":"-"},"content":"    \"gh-pages\": \"^2.1.1\","},{"lineNumber":40,"author":{"gitId":"-"},"content":"    \"highlight.js\": \"^10.4.1\","},{"lineNumber":41,"author":{"gitId":"-"},"content":"    \"htmlparser2\": \"^3.10.1\","},{"lineNumber":42,"author":{"gitId":"-"},"content":"    \"ignore\": \"^5.1.4\","},{"lineNumber":43,"author":{"gitId":"-"},"content":"    \"js-beautify\": \"^1.10.3\","},{"lineNumber":44,"author":{"gitId":"-"},"content":"    \"katex\": \"^0.12.0\","},{"lineNumber":45,"author":{"gitId":"-"},"content":"    \"lodash\": \"^4.17.15\","},{"lineNumber":46,"author":{"gitId":"-"},"content":"    \"markdown-it\": \"^11.0.0\","},{"lineNumber":47,"author":{"gitId":"-"},"content":"    \"markdown-it-attrs\": \"^3.0.3\","},{"lineNumber":48,"author":{"gitId":"-"},"content":"    \"markdown-it-emoji\": \"^1.4.0\","},{"lineNumber":49,"author":{"gitId":"-"},"content":"    \"markdown-it-imsize\": \"^2.0.1\","},{"lineNumber":50,"author":{"gitId":"-"},"content":"    \"markdown-it-ins\": \"^3.0.0\","},{"lineNumber":51,"author":{"gitId":"-"},"content":"    \"markdown-it-linkify-images\": \"^1.1.1\","},{"lineNumber":52,"author":{"gitId":"-"},"content":"    \"markdown-it-mark\": \"^3.0.0\","},{"lineNumber":53,"author":{"gitId":"-"},"content":"    \"markdown-it-regexp\": \"^0.4.0\","},{"lineNumber":54,"author":{"gitId":"-"},"content":"    \"markdown-it-sub\": \"^1.0.0\","},{"lineNumber":55,"author":{"gitId":"-"},"content":"    \"markdown-it-sup\": \"^1.0.0\","},{"lineNumber":56,"author":{"gitId":"-"},"content":"    \"markdown-it-table-of-contents\": \"^0.4.4\","},{"lineNumber":57,"author":{"gitId":"-"},"content":"    \"markdown-it-task-lists\": \"^2.1.1\","},{"lineNumber":58,"author":{"gitId":"-"},"content":"    \"markdown-it-texmath\": \"^0.8.0\","},{"lineNumber":59,"author":{"gitId":"-"},"content":"    \"markdown-it-video\": \"^0.6.3\","},{"lineNumber":60,"author":{"gitId":"-"},"content":"    \"moment\": \"^2.24.0\","},{"lineNumber":61,"author":{"gitId":"-"},"content":"    \"nunjucks\": \"3.2.2\","},{"lineNumber":62,"author":{"gitId":"-"},"content":"    \"path-is-inside\": \"^1.0.2\","},{"lineNumber":63,"author":{"gitId":"-"},"content":"    \"progress\": \"^2.0.3\","},{"lineNumber":64,"author":{"gitId":"-"},"content":"    \"simple-git\": \"^2.17.0\","},{"lineNumber":65,"author":{"gitId":"-"},"content":"    \"uuid\": \"^8.3.1\","},{"lineNumber":66,"author":{"gitId":"-"},"content":"    \"walk-sync\": \"^2.0.2\","},{"lineNumber":67,"author":{"gitId":"-"},"content":"    \"winston\": \"^2.4.4\""},{"lineNumber":68,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":69,"author":{"gitId":"-"},"content":"  \"devDependencies\": {"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    \"jest\": \"^26.1.0\","},{"lineNumber":71,"author":{"gitId":"-"},"content":"    \"memfs\": \"^3.0.1\""},{"lineNumber":72,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":73,"author":{"gitId":"-"},"content":"}"}],"authorContributionMap":{"raysonkoh":1,"-":72}},{"path":"packages/core/src/Page/PageConfig.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":2,"author":{"gitId":"-"},"content":" * A page configuration object used to construct a {@link Page}."},{"lineNumber":3,"author":{"gitId":"-"},"content":" * Its properties will never be modified by {@link Page} itself."},{"lineNumber":4,"author":{"gitId":"-"},"content":" */"},{"lineNumber":5,"author":{"gitId":"-"},"content":"class PageConfig {"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":7,"author":{"gitId":"-"},"content":"   * Constructs a {@link PageConfig} object."},{"lineNumber":8,"author":{"gitId":"-"},"content":"   * @param args The object containing named arguments used to construct this instance"},{"lineNumber":9,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  constructor(args) {"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":12,"author":{"gitId":"-"},"content":"     * Object of asset names as keys to their corresponding destination file paths."},{"lineNumber":13,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, string\u003e}"},{"lineNumber":14,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    this.asset \u003d args.asset;"},{"lineNumber":16,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":17,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":18,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    this.baseUrl \u003d args.baseUrl;"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":21,"author":{"gitId":"-"},"content":"     * @type {Set\u003cstring\u003e} the set of urls representing the sites\u0027 base directories"},{"lineNumber":22,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    this.baseUrlMap \u003d args.baseUrlMap;"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":25,"author":{"gitId":"-"},"content":"     * @type {boolean}"},{"lineNumber":26,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    this.disableHtmlBeautify \u003d args.disableHtmlBeautify;"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":29,"author":{"gitId":"-"},"content":"     * @type {boolean}"},{"lineNumber":30,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    this.dev \u003d args.dev;"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":33,"author":{"gitId":"-"},"content":"     * @type {boolean}"},{"lineNumber":34,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    this.enableSearch \u003d args.enableSearch;"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":37,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":38,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":39,"author":{"gitId":"-"},"content":"    this.faviconUrl \u003d args.faviconUrl;"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":41,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, any\u003e|{}}"},{"lineNumber":42,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    this.frontmatterOverride \u003d args.frontmatterOverride || {};"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":45,"author":{"gitId":"-"},"content":"     * @type {boolean}"},{"lineNumber":46,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    this.globalOverride \u003d args.globalOverride;"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":49,"author":{"gitId":"-"},"content":"     * Default maximum heading level to index for all pages."},{"lineNumber":50,"author":{"gitId":"-"},"content":"     * @type {number}"},{"lineNumber":51,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    this.headingIndexingLevel \u003d args.headingIndexingLevel;"},{"lineNumber":53,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":54,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":55,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    this.layout \u003d args.layout;"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":58,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":59,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":60,"author":{"gitId":"-"},"content":"    this.layoutsAssetPath \u003d args.layoutsAssetPath;"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":62,"author":{"gitId":"-"},"content":"     * @type {PluginManager}"},{"lineNumber":63,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    this.pluginManager \u003d args.pluginManager;"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":66,"author":{"gitId":"-"},"content":"     * The output path of this page"},{"lineNumber":67,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":68,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    this.resultPath \u003d args.resultPath;"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":71,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":72,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    this.rootPath \u003d args.rootPath;"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":75,"author":{"gitId":"-"},"content":"     * @type {boolean}"},{"lineNumber":76,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    this.searchable \u003d !!args.searchable;"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":79,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":80,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    this.siteOutputPath \u003d args.siteOutputPath;"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":83,"author":{"gitId":"-"},"content":"     * The source file for rendering this page"},{"lineNumber":84,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":85,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    this.sourcePath \u003d args.sourcePath;"},{"lineNumber":87,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":88,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":89,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    this.src \u003d args.src;"},{"lineNumber":91,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":92,"author":{"gitId":"-"},"content":"     * @type {string|string}"},{"lineNumber":93,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    this.title \u003d args.title || \u0027\u0027;"},{"lineNumber":95,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":96,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":97,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":98,"author":{"gitId":"-"},"content":"    this.titlePrefix \u003d args.titlePrefix;"},{"lineNumber":99,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":100,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":101,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    this.template \u003d args.template;"},{"lineNumber":103,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":104,"author":{"gitId":"-"},"content":"     * @type {VariableProcessor}"},{"lineNumber":105,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":106,"author":{"gitId":"-"},"content":"    this.variableProcessor \u003d args.variableProcessor;"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":108,"author":{"gitId":"-"},"content":"     * Array of file types to ignore"},{"lineNumber":109,"author":{"gitId":"-"},"content":"     * @type {Array}"},{"lineNumber":110,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    this.ignore \u003d args.ignore;"},{"lineNumber":112,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":113,"author":{"gitId":"-"},"content":"     * Array of page source objects"},{"lineNumber":114,"author":{"gitId":"-"},"content":"     * @type {Array}"},{"lineNumber":115,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    this.addressablePagesSource \u003d args.addressablePagesSource;"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":118,"author":{"gitId":"-"},"content":"     * @type {LayoutManager}"},{"lineNumber":119,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    this.layoutManager \u003d args.layoutManager;"},{"lineNumber":121,"author":{"gitId":"wxwxwxwx9"},"content":"    /**"},{"lineNumber":122,"author":{"gitId":"wxwxwxwx9"},"content":"     * @type {boolean}"},{"lineNumber":123,"author":{"gitId":"wxwxwxwx9"},"content":"     */"},{"lineNumber":124,"author":{"gitId":"wxwxwxwx9"},"content":"    this.intrasiteLinkValidation \u003d args.intrasiteLinkValidation;"},{"lineNumber":125,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":126,"author":{"gitId":"-"},"content":"}"},{"lineNumber":127,"author":{"gitId":"-"},"content":""},{"lineNumber":128,"author":{"gitId":"-"},"content":"module.exports \u003d {"},{"lineNumber":129,"author":{"gitId":"-"},"content":"  PageConfig,"},{"lineNumber":130,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"wxwxwxwx9":4,"-":126}},{"path":"packages/core/src/Page/index.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const cheerio \u003d require(\u0027cheerio\u0027); require(\u0027../patches/htmlparser2\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const fs \u003d require(\u0027fs-extra\u0027);"},{"lineNumber":3,"author":{"gitId":"-"},"content":"const htmlBeautify \u003d require(\u0027js-beautify\u0027).html;"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":5,"author":{"gitId":"-"},"content":""},{"lineNumber":6,"author":{"gitId":"-"},"content":"const _ \u003d {};"},{"lineNumber":7,"author":{"gitId":"-"},"content":"_.cloneDeep \u003d require(\u0027lodash/cloneDeep\u0027);"},{"lineNumber":8,"author":{"gitId":"-"},"content":"_.isString \u003d require(\u0027lodash/isString\u0027);"},{"lineNumber":9,"author":{"gitId":"-"},"content":"_.isObject \u003d require(\u0027lodash/isObject\u0027);"},{"lineNumber":10,"author":{"gitId":"-"},"content":"_.isArray \u003d require(\u0027lodash/isArray\u0027);"},{"lineNumber":11,"author":{"gitId":"-"},"content":""},{"lineNumber":12,"author":{"gitId":"-"},"content":"const { CyclicReferenceError } \u003d require(\u0027../errors\u0027);"},{"lineNumber":13,"author":{"gitId":"-"},"content":"const { PageSources } \u003d require(\u0027./PageSources\u0027);"},{"lineNumber":14,"author":{"gitId":"-"},"content":"const { NodeProcessor } \u003d require(\u0027../html/NodeProcessor\u0027);"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"-"},"content":"const utils \u003d require(\u0027../utils\u0027);"},{"lineNumber":17,"author":{"gitId":"-"},"content":"const logger \u003d require(\u0027../utils/logger\u0027);"},{"lineNumber":18,"author":{"gitId":"-"},"content":""},{"lineNumber":19,"author":{"gitId":"-"},"content":"const PACKAGE_VERSION \u003d require(\u0027../../package.json\u0027).version;"},{"lineNumber":20,"author":{"gitId":"-"},"content":""},{"lineNumber":21,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  PAGE_NAV_ID,"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  PAGE_NAV_TITLE_CLASS,"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  TITLE_PREFIX_SEPARATOR,"},{"lineNumber":25,"author":{"gitId":"-"},"content":"} \u003d require(\u0027./constants\u0027);"},{"lineNumber":26,"author":{"gitId":"-"},"content":""},{"lineNumber":27,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  LAYOUT_DEFAULT_NAME,"},{"lineNumber":29,"author":{"gitId":"-"},"content":"} \u003d require(\u0027../constants\u0027);"},{"lineNumber":30,"author":{"gitId":"-"},"content":""},{"lineNumber":31,"author":{"gitId":"-"},"content":"cheerio.prototype.options.decodeEntities \u003d false; // Don\u0027t escape HTML entities"},{"lineNumber":32,"author":{"gitId":"-"},"content":""},{"lineNumber":33,"author":{"gitId":"-"},"content":"class Page {"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":35,"author":{"gitId":"-"},"content":"   * @param {PageConfig} pageConfig"},{"lineNumber":36,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  constructor(pageConfig) {"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":39,"author":{"gitId":"-"},"content":"     * Page configuration passed from {@link Site}."},{"lineNumber":40,"author":{"gitId":"-"},"content":"     * This should not be mutated."},{"lineNumber":41,"author":{"gitId":"-"},"content":"     * @type {PageConfig}"},{"lineNumber":42,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    this.pageConfig \u003d pageConfig;"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":47,"author":{"gitId":"-"},"content":"   * Resets or initialises all stateful variables of the page,"},{"lineNumber":48,"author":{"gitId":"-"},"content":"   * which differs from one page generation call to another."},{"lineNumber":49,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  resetState() {"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":52,"author":{"gitId":"-"},"content":"     * Object containing asset names as keys and their corresponding file paths,"},{"lineNumber":53,"author":{"gitId":"-"},"content":"     * or an array of \u003clink/script\u003e elements extracted from plugins during {@link collectPluginPageNjkAssets}."},{"lineNumber":54,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, string | Array\u003cstring\u003e\u003e}"},{"lineNumber":55,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    this.asset \u003d _.cloneDeep(this.pageConfig.asset);"},{"lineNumber":57,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":58,"author":{"gitId":"-"},"content":"     * The pure frontMatter of the page as collected in {@link collectFrontMatter}."},{"lineNumber":59,"author":{"gitId":"-"},"content":"     * https://markbind.org/userGuide/tweakingThePageStructure.html#front-matter"},{"lineNumber":60,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, any\u003e}"},{"lineNumber":61,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":62,"author":{"gitId":"-"},"content":"    this.frontMatter \u003d {};"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":64,"author":{"gitId":"-"},"content":"     * Map of heading ids to its text content"},{"lineNumber":65,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, string\u003e}"},{"lineNumber":66,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    this.headings \u003d {};"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":69,"author":{"gitId":"-"},"content":"     * Stores the next integer to append to a heading id, for resolving heading id conflicts"},{"lineNumber":70,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, number\u003e}"},{"lineNumber":71,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    this.headerIdMap \u003d {};"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":74,"author":{"gitId":"-"},"content":"     * Set of included files (dependencies) used for live reload"},{"lineNumber":75,"author":{"gitId":"-"},"content":"     * https://markbind.org/userGuide/reusingContents.html#includes"},{"lineNumber":76,"author":{"gitId":"-"},"content":"     * @type {Set\u003cstring\u003e}"},{"lineNumber":77,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    this.includedFiles \u003d new Set([this.pageConfig.sourcePath]);"},{"lineNumber":79,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":80,"author":{"gitId":"-"},"content":"     * Map of heading ids (that closest to the keyword) to the keyword text content"},{"lineNumber":81,"author":{"gitId":"-"},"content":"     * https://markbind.org/userGuide/makingTheSiteSearchable.html#keywords"},{"lineNumber":82,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, Array\u003e}"},{"lineNumber":83,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    this.keywords \u003d {};"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":86,"author":{"gitId":"-"},"content":"     * The title of the page."},{"lineNumber":87,"author":{"gitId":"-"},"content":"     * This is initially set to the title specified in the site configuration,"},{"lineNumber":88,"author":{"gitId":"-"},"content":"     * if there is none, we look for one in the frontMatter(s) as well."},{"lineNumber":89,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":90,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":91,"author":{"gitId":"-"},"content":"    this.title \u003d this.pageConfig.title || \u0027\u0027;"},{"lineNumber":92,"author":{"gitId":"-"},"content":""},{"lineNumber":93,"author":{"gitId":"-"},"content":"    /*"},{"lineNumber":94,"author":{"gitId":"-"},"content":"     * Layouts related properties"},{"lineNumber":95,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":96,"author":{"gitId":"-"},"content":""},{"lineNumber":97,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":98,"author":{"gitId":"-"},"content":"     * The layout to use for this page, which may be further mutated in {@link processFrontMatter.}"},{"lineNumber":99,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":100,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":101,"author":{"gitId":"-"},"content":"    this.layout \u003d this.pageConfig.layout;"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":103,"author":{"gitId":"-"},"content":"     * An object storing the mapping from the navigable headings\u0027 id to an"},{"lineNumber":104,"author":{"gitId":"-"},"content":"     * object of {text: NAV_TEXT, level: NAV_LEVEL}."},{"lineNumber":105,"author":{"gitId":"-"},"content":"     * Used for page nav generation."},{"lineNumber":106,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, Object\u003e}"},{"lineNumber":107,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    this.navigableHeadings \u003d {};"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":110,"author":{"gitId":"-"},"content":""},{"lineNumber":111,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":112,"author":{"gitId":"-"},"content":"   * Checks if the provided filePath is a dependency of the page"},{"lineNumber":113,"author":{"gitId":"-"},"content":"   * @param {string} filePath to check"},{"lineNumber":114,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":115,"author":{"gitId":"-"},"content":"  isDependency(filePath) {"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    return this.includedFiles \u0026\u0026 this.includedFiles.has(filePath);"},{"lineNumber":117,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":118,"author":{"gitId":"-"},"content":""},{"lineNumber":119,"author":{"gitId":"-"},"content":"  prepareTemplateData(content, hasPageNav) {"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    const prefixedTitle \u003d this.pageConfig.titlePrefix"},{"lineNumber":121,"author":{"gitId":"-"},"content":"      ? this.pageConfig.titlePrefix + (this.title ? TITLE_PREFIX_SEPARATOR + this.title : \u0027\u0027)"},{"lineNumber":122,"author":{"gitId":"-"},"content":"      : this.title;"},{"lineNumber":123,"author":{"gitId":"-"},"content":"    // construct temporary asset object with only POSIX-style paths"},{"lineNumber":124,"author":{"gitId":"-"},"content":"    const asset \u003d {};"},{"lineNumber":125,"author":{"gitId":"-"},"content":"    Object.entries(this.asset).forEach(([key, value]) \u003d\u003e {"},{"lineNumber":126,"author":{"gitId":"-"},"content":"      asset[key] \u003d _.isString(value) ? utils.ensurePosix(value) : value;"},{"lineNumber":127,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":128,"author":{"gitId":"-"},"content":"    return {"},{"lineNumber":129,"author":{"gitId":"-"},"content":"      asset,"},{"lineNumber":130,"author":{"gitId":"-"},"content":"      baseUrl: this.pageConfig.baseUrl,"},{"lineNumber":131,"author":{"gitId":"-"},"content":"      content,"},{"lineNumber":132,"author":{"gitId":"-"},"content":"      hasPageNav,"},{"lineNumber":133,"author":{"gitId":"-"},"content":"      dev: this.pageConfig.dev,"},{"lineNumber":134,"author":{"gitId":"-"},"content":"      faviconUrl: this.pageConfig.faviconUrl,"},{"lineNumber":135,"author":{"gitId":"-"},"content":"      markBindVersion: `MarkBind ${PACKAGE_VERSION}`,"},{"lineNumber":136,"author":{"gitId":"-"},"content":"      title: prefixedTitle,"},{"lineNumber":137,"author":{"gitId":"-"},"content":"      enableSearch: this.pageConfig.enableSearch,"},{"lineNumber":138,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":139,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":140,"author":{"gitId":"-"},"content":""},{"lineNumber":141,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":142,"author":{"gitId":"-"},"content":"   * Checks if page.frontMatter has a valid page navigation specifier"},{"lineNumber":143,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":144,"author":{"gitId":"-"},"content":"  isPageNavigationSpecifierValid() {"},{"lineNumber":145,"author":{"gitId":"-"},"content":"    const { pageNav } \u003d this.frontMatter;"},{"lineNumber":146,"author":{"gitId":"-"},"content":"    return pageNav \u0026\u0026 (pageNav \u003d\u003d\u003d \u0027default\u0027 || Number.isInteger(pageNav));"},{"lineNumber":147,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":148,"author":{"gitId":"-"},"content":""},{"lineNumber":149,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":150,"author":{"gitId":"-"},"content":"   * Generates element selector for page navigation, depending on specifier in front matter"},{"lineNumber":151,"author":{"gitId":"-"},"content":"   * @param pageNav {string|number} \u0027default\u0027 refers to the configured heading indexing level,"},{"lineNumber":152,"author":{"gitId":"-"},"content":"   * otherwise a number that indicates the indexing level."},{"lineNumber":153,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":154,"author":{"gitId":"-"},"content":"  generateElementSelectorForPageNav(pageNav) {"},{"lineNumber":155,"author":{"gitId":"-"},"content":"    if (pageNav \u003d\u003d\u003d \u0027default\u0027) {"},{"lineNumber":156,"author":{"gitId":"-"},"content":"      return `${Page.generateHeadingSelector(this.pageConfig.headingIndexingLevel)}, panel`;"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    } else if (Number.isInteger(pageNav)) {"},{"lineNumber":158,"author":{"gitId":"-"},"content":"      return `${Page.generateHeadingSelector(parseInt(pageNav, 10))}, panel`;"},{"lineNumber":159,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":160,"author":{"gitId":"-"},"content":"    // Not a valid specifier"},{"lineNumber":161,"author":{"gitId":"-"},"content":"    return undefined;"},{"lineNumber":162,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":163,"author":{"gitId":"-"},"content":""},{"lineNumber":164,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":165,"author":{"gitId":"-"},"content":"   * Collect headings outside of models and unexpanded panels."},{"lineNumber":166,"author":{"gitId":"-"},"content":"   * Collects headings from the header slots of unexpanded panels, but not its content."},{"lineNumber":167,"author":{"gitId":"-"},"content":"   * @param content html content of a page"},{"lineNumber":168,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":169,"author":{"gitId":"-"},"content":"  collectNavigableHeadings(content) {"},{"lineNumber":170,"author":{"gitId":"-"},"content":"    const { pageNav } \u003d this.frontMatter;"},{"lineNumber":171,"author":{"gitId":"-"},"content":"    const elementSelector \u003d this.generateElementSelectorForPageNav(pageNav);"},{"lineNumber":172,"author":{"gitId":"-"},"content":"    if (elementSelector \u003d\u003d\u003d undefined) {"},{"lineNumber":173,"author":{"gitId":"-"},"content":"      return;"},{"lineNumber":174,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":175,"author":{"gitId":"-"},"content":"    const $ \u003d cheerio.load(content);"},{"lineNumber":176,"author":{"gitId":"-"},"content":"    $(\u0027b-modal\u0027).remove();"},{"lineNumber":177,"author":{"gitId":"-"},"content":"    this._collectNavigableHeadings($, $.root()[0], elementSelector);"},{"lineNumber":178,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":179,"author":{"gitId":"-"},"content":""},{"lineNumber":180,"author":{"gitId":"-"},"content":"  _collectNavigableHeadings($, context, pageNavSelector) {"},{"lineNumber":181,"author":{"gitId":"-"},"content":"    $(pageNavSelector, context).each((i, elem) \u003d\u003e {"},{"lineNumber":182,"author":{"gitId":"-"},"content":"      // Check if heading or panel is already inside an unexpanded panel"},{"lineNumber":183,"author":{"gitId":"-"},"content":"      let isInsideUnexpandedPanel \u003d false;"},{"lineNumber":184,"author":{"gitId":"-"},"content":"      const panelParents \u003d $(elem).parentsUntil(context).filter(\u0027panel\u0027).not(elem);"},{"lineNumber":185,"author":{"gitId":"-"},"content":"      panelParents.each((j, elemParent) \u003d\u003e {"},{"lineNumber":186,"author":{"gitId":"-"},"content":"        if (elemParent.attribs.expanded \u003d\u003d\u003d undefined) {"},{"lineNumber":187,"author":{"gitId":"-"},"content":"          isInsideUnexpandedPanel \u003d true;"},{"lineNumber":188,"author":{"gitId":"-"},"content":"          return false;"},{"lineNumber":189,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":190,"author":{"gitId":"-"},"content":"        return true;"},{"lineNumber":191,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":192,"author":{"gitId":"-"},"content":"      if (isInsideUnexpandedPanel) {"},{"lineNumber":193,"author":{"gitId":"-"},"content":"        return;"},{"lineNumber":194,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":195,"author":{"gitId":"-"},"content":""},{"lineNumber":196,"author":{"gitId":"-"},"content":"      // Check if heading / panel is under a panel\u0027s header slots, which is handled specially below."},{"lineNumber":197,"author":{"gitId":"wxwxwxwx9"},"content":"      const slotParents \u003d $(elem).parentsUntil(context).filter(\u0027[\\\\#header]\u0027).not(elem);"},{"lineNumber":198,"author":{"gitId":"-"},"content":"      const panelSlotParents \u003d slotParents.parent(\u0027panel\u0027);"},{"lineNumber":199,"author":{"gitId":"-"},"content":"      if (panelSlotParents.length) {"},{"lineNumber":200,"author":{"gitId":"-"},"content":"        return;"},{"lineNumber":201,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":202,"author":{"gitId":"-"},"content":""},{"lineNumber":203,"author":{"gitId":"-"},"content":"      if (elem.name \u003d\u003d\u003d \u0027panel\u0027) {"},{"lineNumber":204,"author":{"gitId":"-"},"content":"        // Recurse only on the slot which has priority"},{"lineNumber":205,"author":{"gitId":"wxwxwxwx9"},"content":"        const headings \u003d $(elem).children(\u0027[\\\\#header]\u0027);"},{"lineNumber":206,"author":{"gitId":"-"},"content":"        if (!headings.length) return;"},{"lineNumber":207,"author":{"gitId":"-"},"content":""},{"lineNumber":208,"author":{"gitId":"-"},"content":"        this._collectNavigableHeadings($, headings.first(), pageNavSelector);"},{"lineNumber":209,"author":{"gitId":"-"},"content":"      } else if ($(elem).attr(\u0027id\u0027) !\u003d\u003d undefined) {"},{"lineNumber":210,"author":{"gitId":"-"},"content":"        // Headings already in content, with a valid ID"},{"lineNumber":211,"author":{"gitId":"-"},"content":"        this.navigableHeadings[$(elem).attr(\u0027id\u0027)] \u003d {"},{"lineNumber":212,"author":{"gitId":"-"},"content":"          text: $(elem).text(),"},{"lineNumber":213,"author":{"gitId":"-"},"content":"          level: elem.name.replace(\u0027h\u0027, \u0027\u0027),"},{"lineNumber":214,"author":{"gitId":"-"},"content":"        };"},{"lineNumber":215,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":216,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":217,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":218,"author":{"gitId":"-"},"content":""},{"lineNumber":219,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":220,"author":{"gitId":"-"},"content":"   * Records headings and keywords inside rendered page into this.headings and this.keywords respectively"},{"lineNumber":221,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":222,"author":{"gitId":"-"},"content":"  collectHeadingsAndKeywords(pageContent) {"},{"lineNumber":223,"author":{"gitId":"-"},"content":"    this.collectHeadingsAndKeywordsInContent(pageContent, null, false, []);"},{"lineNumber":224,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":225,"author":{"gitId":"-"},"content":""},{"lineNumber":226,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":227,"author":{"gitId":"-"},"content":"   * Records headings and keywords inside content into this.headings and this.keywords respectively"},{"lineNumber":228,"author":{"gitId":"-"},"content":"   * @param content that contains the headings and keywords"},{"lineNumber":229,"author":{"gitId":"-"},"content":"   * @param lastHeading"},{"lineNumber":230,"author":{"gitId":"-"},"content":"   * @param excludeHeadings"},{"lineNumber":231,"author":{"gitId":"-"},"content":"   * @param sourceTraversalStack"},{"lineNumber":232,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":233,"author":{"gitId":"-"},"content":"  collectHeadingsAndKeywordsInContent(content, lastHeading, excludeHeadings, sourceTraversalStack) {"},{"lineNumber":234,"author":{"gitId":"-"},"content":"    let $ \u003d cheerio.load(content);"},{"lineNumber":235,"author":{"gitId":"-"},"content":"    const headingsSelector \u003d Page.generateHeadingSelector(this.pageConfig.headingIndexingLevel);"},{"lineNumber":236,"author":{"gitId":"-"},"content":"    $(\u0027b-modal\u0027).remove();"},{"lineNumber":237,"author":{"gitId":"-"},"content":"    $(\u0027panel\u0027).not(\u0027panel panel\u0027)"},{"lineNumber":238,"author":{"gitId":"-"},"content":"      .each((index, panel) \u003d\u003e {"},{"lineNumber":239,"author":{"gitId":"wxwxwxwx9"},"content":"        const slotHeader \u003d $(panel).children(\u0027[\\\\#header]\u0027);"},{"lineNumber":240,"author":{"gitId":"-"},"content":"        if (slotHeader.length) {"},{"lineNumber":241,"author":{"gitId":"-"},"content":"          this.collectHeadingsAndKeywordsInContent(slotHeader.html(),"},{"lineNumber":242,"author":{"gitId":"-"},"content":"                                                   lastHeading, excludeHeadings, sourceTraversalStack);"},{"lineNumber":243,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":244,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":245,"author":{"gitId":"-"},"content":"      .each((index, panel) \u003d\u003e {"},{"lineNumber":246,"author":{"gitId":"-"},"content":"        const shouldExcludeHeadings \u003d excludeHeadings || (panel.attribs.expanded \u003d\u003d\u003d undefined);"},{"lineNumber":247,"author":{"gitId":"-"},"content":"        let closestHeading \u003d Page.getClosestHeading($, headingsSelector, panel);"},{"lineNumber":248,"author":{"gitId":"-"},"content":"        if (!closestHeading) {"},{"lineNumber":249,"author":{"gitId":"-"},"content":"          closestHeading \u003d lastHeading;"},{"lineNumber":250,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":251,"author":{"gitId":"wxwxwxwx9"},"content":"        const slotHeadings \u003d $(panel).children(\u0027[\\\\#header]\u0027).find(\u0027:header\u0027);"},{"lineNumber":252,"author":{"gitId":"-"},"content":"        if (slotHeadings.length) {"},{"lineNumber":253,"author":{"gitId":"-"},"content":"          closestHeading \u003d slotHeadings.first();"},{"lineNumber":254,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":255,"author":{"gitId":"-"},"content":""},{"lineNumber":256,"author":{"gitId":"-"},"content":"        if (panel.attribs.src) {"},{"lineNumber":257,"author":{"gitId":"-"},"content":"          const src \u003d panel.attribs.src.split(\u0027#\u0027)[0];"},{"lineNumber":258,"author":{"gitId":"-"},"content":"          const buildInnerDir \u003d path.dirname(this.pageConfig.sourcePath);"},{"lineNumber":259,"author":{"gitId":"-"},"content":"          const resultInnerDir \u003d path.dirname(this.pageConfig.resultPath);"},{"lineNumber":260,"author":{"gitId":"-"},"content":"          const includeRelativeToBuildRootDirPath \u003d this.pageConfig.baseUrl"},{"lineNumber":261,"author":{"gitId":"-"},"content":"            ? path.relative(this.pageConfig.baseUrl, src)"},{"lineNumber":262,"author":{"gitId":"-"},"content":"            : src.substring(1);"},{"lineNumber":263,"author":{"gitId":"-"},"content":"          const includeAbsoluteToBuildRootDirPath \u003d path.resolve(this.pageConfig.rootPath,"},{"lineNumber":264,"author":{"gitId":"-"},"content":"                                                                 includeRelativeToBuildRootDirPath);"},{"lineNumber":265,"author":{"gitId":"-"},"content":"          const includeRelativeToInnerDirPath"},{"lineNumber":266,"author":{"gitId":"-"},"content":"            \u003d path.relative(buildInnerDir, includeAbsoluteToBuildRootDirPath);"},{"lineNumber":267,"author":{"gitId":"-"},"content":"          const includePath \u003d path.resolve(resultInnerDir, includeRelativeToInnerDirPath);"},{"lineNumber":268,"author":{"gitId":"-"},"content":"          const includeContent \u003d fs.readFileSync(includePath);"},{"lineNumber":269,"author":{"gitId":"-"},"content":"          const childSourceTraversalStack \u003d sourceTraversalStack.slice();"},{"lineNumber":270,"author":{"gitId":"-"},"content":"          childSourceTraversalStack.push(includePath);"},{"lineNumber":271,"author":{"gitId":"-"},"content":"          if (childSourceTraversalStack.length \u003e CyclicReferenceError.MAX_RECURSIVE_DEPTH) {"},{"lineNumber":272,"author":{"gitId":"-"},"content":"            throw new CyclicReferenceError(childSourceTraversalStack);"},{"lineNumber":273,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":274,"author":{"gitId":"-"},"content":"          if (panel.attribs.fragment) {"},{"lineNumber":275,"author":{"gitId":"-"},"content":"            $ \u003d cheerio.load(includeContent);"},{"lineNumber":276,"author":{"gitId":"-"},"content":"            this.collectHeadingsAndKeywordsInContent($(`#${panel.attribs.fragment}`).html(), closestHeading,"},{"lineNumber":277,"author":{"gitId":"-"},"content":"                                                     shouldExcludeHeadings, childSourceTraversalStack);"},{"lineNumber":278,"author":{"gitId":"-"},"content":"          } else {"},{"lineNumber":279,"author":{"gitId":"-"},"content":"            this.collectHeadingsAndKeywordsInContent(includeContent, closestHeading, shouldExcludeHeadings,"},{"lineNumber":280,"author":{"gitId":"-"},"content":"                                                     childSourceTraversalStack);"},{"lineNumber":281,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":282,"author":{"gitId":"-"},"content":"        } else {"},{"lineNumber":283,"author":{"gitId":"-"},"content":"          this.collectHeadingsAndKeywordsInContent($(panel).html(), closestHeading,"},{"lineNumber":284,"author":{"gitId":"-"},"content":"                                                   shouldExcludeHeadings, sourceTraversalStack);"},{"lineNumber":285,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":286,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":287,"author":{"gitId":"-"},"content":"    $ \u003d cheerio.load(content);"},{"lineNumber":288,"author":{"gitId":"-"},"content":"    if (this.pageConfig.headingIndexingLevel \u003e 0) {"},{"lineNumber":289,"author":{"gitId":"-"},"content":"      $(\u0027b-modal\u0027).remove();"},{"lineNumber":290,"author":{"gitId":"-"},"content":"      $(\u0027panel\u0027).remove();"},{"lineNumber":291,"author":{"gitId":"-"},"content":"      if (!excludeHeadings) {"},{"lineNumber":292,"author":{"gitId":"-"},"content":"        $(headingsSelector).each((i, heading) \u003d\u003e {"},{"lineNumber":293,"author":{"gitId":"-"},"content":"          this.headings[$(heading).attr(\u0027id\u0027)] \u003d $(heading).text();"},{"lineNumber":294,"author":{"gitId":"-"},"content":"        });"},{"lineNumber":295,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":296,"author":{"gitId":"-"},"content":"      $(\u0027.keyword\u0027).each((i, keyword) \u003d\u003e {"},{"lineNumber":297,"author":{"gitId":"-"},"content":"        let closestHeading \u003d Page.getClosestHeading($, headingsSelector, keyword);"},{"lineNumber":298,"author":{"gitId":"-"},"content":"        if (excludeHeadings || !closestHeading) {"},{"lineNumber":299,"author":{"gitId":"-"},"content":"          if (!lastHeading) {"},{"lineNumber":300,"author":{"gitId":"-"},"content":"            logger.warn(`Missing heading for keyword: ${$(keyword).text()}`);"},{"lineNumber":301,"author":{"gitId":"-"},"content":"            return;"},{"lineNumber":302,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":303,"author":{"gitId":"-"},"content":"          closestHeading \u003d lastHeading;"},{"lineNumber":304,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":305,"author":{"gitId":"-"},"content":"        this.linkKeywordToHeading($, keyword, closestHeading);"},{"lineNumber":306,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":307,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":308,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":309,"author":{"gitId":"-"},"content":""},{"lineNumber":310,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":311,"author":{"gitId":"-"},"content":"   * Links a keyword to a heading"},{"lineNumber":312,"author":{"gitId":"-"},"content":"   * @param $ a Cheerio object"},{"lineNumber":313,"author":{"gitId":"-"},"content":"   * @param keyword to link"},{"lineNumber":314,"author":{"gitId":"-"},"content":"   * @param heading to link"},{"lineNumber":315,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":316,"author":{"gitId":"-"},"content":"  linkKeywordToHeading($, keyword, heading) {"},{"lineNumber":317,"author":{"gitId":"-"},"content":"    const headingId \u003d $(heading).attr(\u0027id\u0027);"},{"lineNumber":318,"author":{"gitId":"-"},"content":"    if (!(headingId in this.keywords)) {"},{"lineNumber":319,"author":{"gitId":"-"},"content":"      this.keywords[headingId] \u003d [];"},{"lineNumber":320,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":321,"author":{"gitId":"-"},"content":"    this.keywords[headingId].push($(keyword).text());"},{"lineNumber":322,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":323,"author":{"gitId":"-"},"content":""},{"lineNumber":324,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":325,"author":{"gitId":"-"},"content":"   * Uses the collected frontmatter from {@link collectFrontMatter} to extract the {@link Page}\u0027s"},{"lineNumber":326,"author":{"gitId":"-"},"content":"   * instance configurations."},{"lineNumber":327,"author":{"gitId":"-"},"content":"   * FrontMatter properties always have lower priority than site configuration properties."},{"lineNumber":328,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":329,"author":{"gitId":"-"},"content":"  processFrontMatter(frontMatter) {"},{"lineNumber":330,"author":{"gitId":"-"},"content":"    this.frontMatter \u003d {"},{"lineNumber":331,"author":{"gitId":"-"},"content":"      ...frontMatter,"},{"lineNumber":332,"author":{"gitId":"-"},"content":"      ...this.pageConfig.globalOverride,"},{"lineNumber":333,"author":{"gitId":"-"},"content":"      ...this.pageConfig.frontmatterOverride,"},{"lineNumber":334,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":335,"author":{"gitId":"-"},"content":""},{"lineNumber":336,"author":{"gitId":"-"},"content":"    this.title \u003d this.title || this.frontMatter.title || \u0027\u0027;"},{"lineNumber":337,"author":{"gitId":"-"},"content":"    this.layout \u003d this.layout || this.frontMatter.layout || LAYOUT_DEFAULT_NAME;"},{"lineNumber":338,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":339,"author":{"gitId":"-"},"content":""},{"lineNumber":340,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":341,"author":{"gitId":"-"},"content":"   *  Generates page navigation\u0027s heading list HTML"},{"lineNumber":342,"author":{"gitId":"-"},"content":"   *"},{"lineNumber":343,"author":{"gitId":"-"},"content":"   *  A stack is used to maintain proper indentation levels for the headings at different heading levels."},{"lineNumber":344,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":345,"author":{"gitId":"-"},"content":"  generatePageNavHeadingHtml() {"},{"lineNumber":346,"author":{"gitId":"-"},"content":"    let headingHTML \u003d \u0027\u0027;"},{"lineNumber":347,"author":{"gitId":"-"},"content":"    const headingStack \u003d [];"},{"lineNumber":348,"author":{"gitId":"-"},"content":"    Object.keys(this.navigableHeadings).forEach((key) \u003d\u003e {"},{"lineNumber":349,"author":{"gitId":"-"},"content":"      const currentHeadingLevel \u003d this.navigableHeadings[key].level;"},{"lineNumber":350,"author":{"gitId":"-"},"content":"      const currentHeadingHTML \u003d `\u003ca class\u003d\"nav-link py-1\" href\u003d\"#${key}\"\u003e`"},{"lineNumber":351,"author":{"gitId":"-"},"content":"        + `${this.navigableHeadings[key].text}\u0026#x200E;\u003c/a\u003e\\n`;"},{"lineNumber":352,"author":{"gitId":"-"},"content":"      const nestedHeadingHTML \u003d \u0027\u003cnav class\u003d\"nav nav-pills flex-column my-0 nested no-flex-wrap\"\u003e\\n\u0027"},{"lineNumber":353,"author":{"gitId":"-"},"content":"        + `${currentHeadingHTML}`;"},{"lineNumber":354,"author":{"gitId":"-"},"content":"      if (headingStack.length \u003d\u003d\u003d 0 || headingStack[headingStack.length - 1] \u003d\u003d\u003d currentHeadingLevel) {"},{"lineNumber":355,"author":{"gitId":"-"},"content":"        // Add heading without nesting, into headingHTML"},{"lineNumber":356,"author":{"gitId":"-"},"content":"        headingHTML +\u003d currentHeadingHTML;"},{"lineNumber":357,"author":{"gitId":"-"},"content":"      } else {"},{"lineNumber":358,"author":{"gitId":"-"},"content":"        // Stack has at least 1 other heading level"},{"lineNumber":359,"author":{"gitId":"-"},"content":"        let topOfHeadingStack \u003d headingStack[headingStack.length - 1];"},{"lineNumber":360,"author":{"gitId":"-"},"content":"        if (topOfHeadingStack \u003c currentHeadingLevel) {"},{"lineNumber":361,"author":{"gitId":"-"},"content":"          // Increase nesting level by 1"},{"lineNumber":362,"author":{"gitId":"-"},"content":"          headingHTML +\u003d nestedHeadingHTML;"},{"lineNumber":363,"author":{"gitId":"-"},"content":"        } else {"},{"lineNumber":364,"author":{"gitId":"-"},"content":"          // Close any nested list with heading level higher than current"},{"lineNumber":365,"author":{"gitId":"-"},"content":"          while (headingStack.length \u003e 1 \u0026\u0026 topOfHeadingStack \u003e currentHeadingLevel) {"},{"lineNumber":366,"author":{"gitId":"-"},"content":"            headingHTML +\u003d \u0027\u003c/nav\u003e\\n\u0027;"},{"lineNumber":367,"author":{"gitId":"-"},"content":"            headingStack.pop();"},{"lineNumber":368,"author":{"gitId":"-"},"content":"            topOfHeadingStack \u003d headingStack[headingStack.length - 1];"},{"lineNumber":369,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":370,"author":{"gitId":"-"},"content":"          if (topOfHeadingStack \u003c currentHeadingLevel) {"},{"lineNumber":371,"author":{"gitId":"-"},"content":"            // Increase nesting level by 1"},{"lineNumber":372,"author":{"gitId":"-"},"content":"            headingHTML +\u003d nestedHeadingHTML;"},{"lineNumber":373,"author":{"gitId":"-"},"content":"          } else {"},{"lineNumber":374,"author":{"gitId":"-"},"content":"            headingHTML +\u003d currentHeadingHTML;"},{"lineNumber":375,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":376,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":377,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":378,"author":{"gitId":"-"},"content":"      // Update heading level stack"},{"lineNumber":379,"author":{"gitId":"-"},"content":"      if (headingStack.length \u003d\u003d\u003d 0 || headingStack[headingStack.length - 1] !\u003d\u003d currentHeadingLevel) {"},{"lineNumber":380,"author":{"gitId":"-"},"content":"        headingStack.push(currentHeadingLevel);"},{"lineNumber":381,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":382,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":383,"author":{"gitId":"-"},"content":"    // Ensure proper closing for any nested lists towards the end"},{"lineNumber":384,"author":{"gitId":"-"},"content":"    while (headingStack.length \u003e 1"},{"lineNumber":385,"author":{"gitId":"-"},"content":"    \u0026\u0026 headingStack[headingStack.length - 1] \u003e headingStack[headingStack.length - 2]) {"},{"lineNumber":386,"author":{"gitId":"-"},"content":"      headingHTML +\u003d \u0027\u003c/nav\u003e\\n\u0027;"},{"lineNumber":387,"author":{"gitId":"-"},"content":"      headingStack.pop();"},{"lineNumber":388,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":389,"author":{"gitId":"-"},"content":"    return headingHTML;"},{"lineNumber":390,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":391,"author":{"gitId":"-"},"content":""},{"lineNumber":392,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":393,"author":{"gitId":"-"},"content":"   * Generates page navigation\u0027s header if specified in this.frontMatter"},{"lineNumber":394,"author":{"gitId":"-"},"content":"   * @returns string string"},{"lineNumber":395,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":396,"author":{"gitId":"-"},"content":"  generatePageNavTitleHtml() {"},{"lineNumber":397,"author":{"gitId":"-"},"content":"    const { pageNavTitle } \u003d this.frontMatter;"},{"lineNumber":398,"author":{"gitId":"-"},"content":"    return pageNavTitle"},{"lineNumber":399,"author":{"gitId":"-"},"content":"      ? `\u003ca class\u003d\"navbar-brand ${PAGE_NAV_TITLE_CLASS}\" href\u003d\"#\"\u003e${pageNavTitle.toString()}\u003c/a\u003e`"},{"lineNumber":400,"author":{"gitId":"-"},"content":"      : \u0027\u0027;"},{"lineNumber":401,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":402,"author":{"gitId":"-"},"content":""},{"lineNumber":403,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":404,"author":{"gitId":"-"},"content":"   *  Builds page navigation bar with headings up to headingIndexingLevel"},{"lineNumber":405,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":406,"author":{"gitId":"-"},"content":"  buildPageNav(content) {"},{"lineNumber":407,"author":{"gitId":"-"},"content":"    const isFmPageNavSpecifierValid \u003d this.isPageNavigationSpecifierValid();"},{"lineNumber":408,"author":{"gitId":"-"},"content":"    const doesLayoutHavePageNav \u003d this.pageConfig.layoutManager.layoutHasPageNav(this.layout);"},{"lineNumber":409,"author":{"gitId":"-"},"content":""},{"lineNumber":410,"author":{"gitId":"-"},"content":"    if (isFmPageNavSpecifierValid \u0026\u0026 doesLayoutHavePageNav) {"},{"lineNumber":411,"author":{"gitId":"-"},"content":"      this.navigableHeadings \u003d {};"},{"lineNumber":412,"author":{"gitId":"-"},"content":"      this.collectNavigableHeadings(content);"},{"lineNumber":413,"author":{"gitId":"-"},"content":"      const pageNavTitleHtml \u003d this.generatePageNavTitleHtml();"},{"lineNumber":414,"author":{"gitId":"-"},"content":"      const pageNavHeadingHTML \u003d this.generatePageNavHeadingHtml();"},{"lineNumber":415,"author":{"gitId":"-"},"content":"      return `${pageNavTitleHtml}\\n`"},{"lineNumber":416,"author":{"gitId":"-"},"content":"          + `\u003cnav id\u003d\"${PAGE_NAV_ID}\" class\u003d\"nav nav-pills flex-column my-0 small no-flex-wrap\"\u003e\\n`"},{"lineNumber":417,"author":{"gitId":"-"},"content":"          + `${pageNavHeadingHTML}\\n`"},{"lineNumber":418,"author":{"gitId":"-"},"content":"          + \u0027\u003c/nav\u003e\\n\u0027;"},{"lineNumber":419,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":420,"author":{"gitId":"-"},"content":""},{"lineNumber":421,"author":{"gitId":"-"},"content":"    return \u0027\u0027;"},{"lineNumber":422,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":423,"author":{"gitId":"-"},"content":""},{"lineNumber":424,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":425,"author":{"gitId":"-"},"content":"   * A file configuration object."},{"lineNumber":426,"author":{"gitId":"-"},"content":"   * @typedef {Object\u003cstring, any\u003e} FileConfig"},{"lineNumber":427,"author":{"gitId":"-"},"content":"   * @property {Set\u003cstring\u003e} baseUrlMap the set of urls representing the sites\u0027 base directories"},{"lineNumber":428,"author":{"gitId":"-"},"content":"   * @property {string} rootPath"},{"lineNumber":429,"author":{"gitId":"-"},"content":"   * @property {VariableProcessor} variableProcessor"},{"lineNumber":430,"author":{"gitId":"-"},"content":"   * @property {Object\u003cstring, number\u003e} headerIdMap"},{"lineNumber":431,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":432,"author":{"gitId":"-"},"content":""},{"lineNumber":433,"author":{"gitId":"-"},"content":"  async generate(externalManager) {"},{"lineNumber":434,"author":{"gitId":"-"},"content":"    this.resetState(); // Reset for live reload"},{"lineNumber":435,"author":{"gitId":"-"},"content":""},{"lineNumber":436,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":437,"author":{"gitId":"-"},"content":"     * @type {FileConfig}"},{"lineNumber":438,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":439,"author":{"gitId":"-"},"content":"    const fileConfig \u003d {"},{"lineNumber":440,"author":{"gitId":"-"},"content":"      baseUrlMap: this.pageConfig.baseUrlMap,"},{"lineNumber":441,"author":{"gitId":"-"},"content":"      baseUrl: this.pageConfig.baseUrl,"},{"lineNumber":442,"author":{"gitId":"-"},"content":"      rootPath: this.pageConfig.rootPath,"},{"lineNumber":443,"author":{"gitId":"-"},"content":"      headerIdMap: this.headerIdMap,"},{"lineNumber":444,"author":{"gitId":"-"},"content":"      ignore: this.pageConfig.ignore,"},{"lineNumber":445,"author":{"gitId":"-"},"content":"      addressablePagesSource: this.pageConfig.addressablePagesSource,"},{"lineNumber":446,"author":{"gitId":"wxwxwxwx9"},"content":"      intrasiteLinkValidation: this.pageConfig.intrasiteLinkValidation,"},{"lineNumber":447,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":448,"author":{"gitId":"-"},"content":""},{"lineNumber":449,"author":{"gitId":"-"},"content":"    const { variableProcessor, layoutManager, pluginManager } \u003d this.pageConfig;"},{"lineNumber":450,"author":{"gitId":"-"},"content":""},{"lineNumber":451,"author":{"gitId":"-"},"content":"    const pageSources \u003d new PageSources();"},{"lineNumber":452,"author":{"gitId":"-"},"content":"    const nodeProcessor \u003d new NodeProcessor(fileConfig, pageSources, variableProcessor, pluginManager);"},{"lineNumber":453,"author":{"gitId":"-"},"content":""},{"lineNumber":454,"author":{"gitId":"-"},"content":"    let content \u003d variableProcessor.renderWithSiteVariables(this.pageConfig.sourcePath, pageSources);"},{"lineNumber":455,"author":{"gitId":"-"},"content":"    content \u003d await nodeProcessor.process(this.pageConfig.sourcePath, content);"},{"lineNumber":456,"author":{"gitId":"-"},"content":"    this.processFrontMatter(nodeProcessor.frontMatter);"},{"lineNumber":457,"author":{"gitId":"-"},"content":"    content \u003d Page.addScrollToTopButton(content);"},{"lineNumber":458,"author":{"gitId":"-"},"content":"    content \u003d pluginManager.postRender(this.frontMatter, content);"},{"lineNumber":459,"author":{"gitId":"-"},"content":"    const pageContent \u003d content;"},{"lineNumber":460,"author":{"gitId":"-"},"content":""},{"lineNumber":461,"author":{"gitId":"-"},"content":"    pluginManager.collectPluginPageNjkAssets(this.frontMatter, content, this.asset);"},{"lineNumber":462,"author":{"gitId":"-"},"content":""},{"lineNumber":463,"author":{"gitId":"-"},"content":"    await layoutManager.generateLayoutIfNeeded(this.layout);"},{"lineNumber":464,"author":{"gitId":"-"},"content":"    const pageNav \u003d this.buildPageNav(content);"},{"lineNumber":465,"author":{"gitId":"-"},"content":"    content \u003d layoutManager.combineLayoutWithPage(this.layout, content, pageNav, this.includedFiles);"},{"lineNumber":466,"author":{"gitId":"-"},"content":"    this.asset \u003d {"},{"lineNumber":467,"author":{"gitId":"-"},"content":"      ...this.asset,"},{"lineNumber":468,"author":{"gitId":"-"},"content":"      ...layoutManager.getLayoutPageNjkAssets(this.layout),"},{"lineNumber":469,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":470,"author":{"gitId":"-"},"content":""},{"lineNumber":471,"author":{"gitId":"-"},"content":"    const renderedTemplate \u003d this.pageConfig.template.render("},{"lineNumber":472,"author":{"gitId":"-"},"content":"      this.prepareTemplateData(content, !!pageNav)); // page.njk"},{"lineNumber":473,"author":{"gitId":"-"},"content":"    const outputTemplateHTML \u003d this.pageConfig.disableHtmlBeautify"},{"lineNumber":474,"author":{"gitId":"-"},"content":"      ? renderedTemplate"},{"lineNumber":475,"author":{"gitId":"-"},"content":"      : htmlBeautify(renderedTemplate, pluginManager.htmlBeautifyOptions);"},{"lineNumber":476,"author":{"gitId":"-"},"content":""},{"lineNumber":477,"author":{"gitId":"-"},"content":"    await fs.outputFile(this.pageConfig.resultPath, outputTemplateHTML);"},{"lineNumber":478,"author":{"gitId":"-"},"content":""},{"lineNumber":479,"author":{"gitId":"-"},"content":"    pageSources.addAllToSet(this.includedFiles);"},{"lineNumber":480,"author":{"gitId":"-"},"content":"    await externalManager.generateDependencies(pageSources.getDynamicIncludeSrc(), this.includedFiles);"},{"lineNumber":481,"author":{"gitId":"-"},"content":""},{"lineNumber":482,"author":{"gitId":"-"},"content":"    this.collectHeadingsAndKeywords(pageContent);"},{"lineNumber":483,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":484,"author":{"gitId":"-"},"content":""},{"lineNumber":485,"author":{"gitId":"-"},"content":"  static addScrollToTopButton(pageData) {"},{"lineNumber":486,"author":{"gitId":"wxwxwxwx9"},"content":"    const button \u003d \u0027\u003ci class\u003d\"fa fa-arrow-circle-up fa-lg d-print-none\" id\u003d\"scroll-top-button\" \u0027"},{"lineNumber":487,"author":{"gitId":"-"},"content":"    + \u0027onclick\u003d\"handleScrollTop()\" aria-hidden\u003d\"true\"\u003e\u003c/i\u003e\u0027;"},{"lineNumber":488,"author":{"gitId":"-"},"content":"    return `${pageData}\\n${button}`;"},{"lineNumber":489,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":490,"author":{"gitId":"-"},"content":""},{"lineNumber":491,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":492,"author":{"gitId":"-"},"content":"   * Generates a selector for headings with level inside the headingIndexLevel"},{"lineNumber":493,"author":{"gitId":"-"},"content":"   * or with the index attribute, that do not also have the noindex attribute"},{"lineNumber":494,"author":{"gitId":"-"},"content":"   * @param headingIndexingLevel to generate"},{"lineNumber":495,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":496,"author":{"gitId":"-"},"content":"  static generateHeadingSelector(headingIndexingLevel) {"},{"lineNumber":497,"author":{"gitId":"-"},"content":"    let headingsSelectors \u003d [\u0027.always-index:header\u0027, \u0027h1\u0027];"},{"lineNumber":498,"author":{"gitId":"-"},"content":"    for (let i \u003d 2; i \u003c\u003d headingIndexingLevel; i +\u003d 1) {"},{"lineNumber":499,"author":{"gitId":"-"},"content":"      headingsSelectors.push(`h${i}`);"},{"lineNumber":500,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":501,"author":{"gitId":"-"},"content":"    headingsSelectors \u003d headingsSelectors.map(selector \u003d\u003e `${selector}:not(.no-index)`);"},{"lineNumber":502,"author":{"gitId":"-"},"content":"    return headingsSelectors.join(\u0027,\u0027);"},{"lineNumber":503,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":504,"author":{"gitId":"-"},"content":""},{"lineNumber":505,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":506,"author":{"gitId":"-"},"content":"   * Gets the closest heading to an element"},{"lineNumber":507,"author":{"gitId":"-"},"content":"   * @param $ a Cheerio object"},{"lineNumber":508,"author":{"gitId":"-"},"content":"   * @param headingsSelector jQuery selector for selecting headings"},{"lineNumber":509,"author":{"gitId":"-"},"content":"   * @param element to find closest heading"},{"lineNumber":510,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":511,"author":{"gitId":"-"},"content":"  static getClosestHeading($, headingsSelector, element) {"},{"lineNumber":512,"author":{"gitId":"-"},"content":"    const prevElements \u003d $(element).prevAll();"},{"lineNumber":513,"author":{"gitId":"-"},"content":"    for (let i \u003d 0; i \u003c prevElements.length; i +\u003d 1) {"},{"lineNumber":514,"author":{"gitId":"-"},"content":"      const currentElement \u003d $(prevElements[i]);"},{"lineNumber":515,"author":{"gitId":"-"},"content":"      if (currentElement.is(headingsSelector)) {"},{"lineNumber":516,"author":{"gitId":"-"},"content":"        return currentElement;"},{"lineNumber":517,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":518,"author":{"gitId":"-"},"content":"      const childHeadings \u003d currentElement.find(headingsSelector);"},{"lineNumber":519,"author":{"gitId":"-"},"content":"      if (childHeadings.length \u003e 0) {"},{"lineNumber":520,"author":{"gitId":"-"},"content":"        return childHeadings.last();"},{"lineNumber":521,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":522,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":523,"author":{"gitId":"-"},"content":"    if ($(element).parent().length \u003d\u003d\u003d 0) {"},{"lineNumber":524,"author":{"gitId":"-"},"content":"      return null;"},{"lineNumber":525,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":526,"author":{"gitId":"-"},"content":"    return Page.getClosestHeading($, headingsSelector, $(element).parent());"},{"lineNumber":527,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":528,"author":{"gitId":"-"},"content":"}"},{"lineNumber":529,"author":{"gitId":"-"},"content":""},{"lineNumber":530,"author":{"gitId":"-"},"content":"module.exports \u003d Page;"}],"authorContributionMap":{"wxwxwxwx9":6,"-":524}},{"path":"packages/core/src/Page/page.njk","fileType":"njk","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"\u003c!DOCTYPE html\u003e"},{"lineNumber":2,"author":{"gitId":"-"},"content":"\u003chtml\u003e"},{"lineNumber":3,"author":{"gitId":"-"},"content":"\u003chead\u003e"},{"lineNumber":4,"author":{"gitId":"-"},"content":"    {%- if asset.headTop %}"},{"lineNumber":5,"author":{"gitId":"-"},"content":"    {%- for headContent in asset.headTop %}"},{"lineNumber":6,"author":{"gitId":"-"},"content":"    {{ headContent }}"},{"lineNumber":7,"author":{"gitId":"-"},"content":"    {%- endfor %}"},{"lineNumber":8,"author":{"gitId":"-"},"content":"    {%- endif %}"},{"lineNumber":9,"author":{"gitId":"-"},"content":"    \u003cmeta charset\u003d\"utf-8\"\u003e"},{"lineNumber":10,"author":{"gitId":"-"},"content":"    \u003cmeta http-equiv\u003d\"X-UA-Compatible\" content\u003d\"IE\u003dedge\"\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    \u003cmeta name\u003d\"generator\" content\u003d\"{{ markBindVersion }}\"\u003e"},{"lineNumber":12,"author":{"gitId":"-"},"content":"    \u003cmeta name\u003d\"viewport\" content\u003d\"width\u003ddevice-width, initial-scale\u003d1\"\u003e"},{"lineNumber":13,"author":{"gitId":"-"},"content":"    \u003ctitle\u003e{{ title }}\u003c/title\u003e"},{"lineNumber":14,"author":{"gitId":"-"},"content":"    \u003clink rel\u003d\"stylesheet\" href\u003d\"{{ asset.bootstrap }}\"\u003e"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    \u003clink rel\u003d\"stylesheet\" href\u003d\"{{ asset.bootstrapVueCss }}\"\u003e"},{"lineNumber":16,"author":{"gitId":"-"},"content":"    \u003clink rel\u003d\"stylesheet\" href\u003d\"{{ asset.fontAwesome }}\"\u003e"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    \u003clink rel\u003d\"stylesheet\" href\u003d\"{{ asset.glyphicons }}\"\u003e"},{"lineNumber":18,"author":{"gitId":"-"},"content":"    \u003clink rel\u003d\"stylesheet\" href\u003d\"{{ asset.octicons }}\"\u003e"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    \u003clink rel\u003d\"stylesheet\" href\u003d\"{{ asset.highlight }}\"\u003e"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    {%- if not dev -%}\u003clink rel\u003d\"stylesheet\" href\u003d\"{{ asset.markBindCss }}\"\u003e{%- endif -%}"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    \u003cscript src\u003d\"{{ asset.polyfillJs }}\"\u003e\u003c/script\u003e"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    \u003cscript src\u003d\"{{ asset.vue }}\"\u003e\u003c/script\u003e"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    \u003cscript src\u003d\"{{ asset.markBindJs }}\"\u003e\u003c/script\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    \u003cscript src\u003d\"{{ asset.jQuery }}\"\u003e\u003c/script\u003e"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    {%- if asset.pluginLinks -%}"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    {%- for link in asset.pluginLinks -%}"},{"lineNumber":27,"author":{"gitId":"-"},"content":"        {{ link }}"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    {%- endfor -%}"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    {%- endif -%}"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    {%- if asset.headBottom %}"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    {%- for headContent in asset.headBottom %}"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    {{ headContent }}"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    {%- endfor %}"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    {%- endif %}"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    {%- if faviconUrl -%} \u003clink rel\u003d\"icon\" href\u003d\"{{ faviconUrl }}\"\u003e {%- endif -%}"},{"lineNumber":36,"author":{"gitId":"-"},"content":"\u003c/head\u003e"},{"lineNumber":37,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cscript\u003e"},{"lineNumber":38,"author":{"gitId":"wxwxwxwx9"},"content":"  const baseUrl \u003d \u0027{{ baseUrl }}\u0027"},{"lineNumber":39,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/script\u003e"},{"lineNumber":40,"author":{"gitId":"-"},"content":"\u003cbody {% if hasPageNav %} data-spy\u003d\"scroll\" data-target\u003d\"#mb-page-nav\" data-offset\u003d\"100\" {% endif %}\u003e"},{"lineNumber":41,"author":{"gitId":"-"},"content":"\u003cdiv id\u003d\"app\"\u003e"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    {{ content }}"},{"lineNumber":43,"author":{"gitId":"-"},"content":"\u003c/div\u003e"},{"lineNumber":44,"author":{"gitId":"-"},"content":"\u003c/body\u003e"},{"lineNumber":45,"author":{"gitId":"-"},"content":"\u003cscript src\u003d\"{{ asset.bootstrapUtilityJs }}\"\u003e\u003c/script\u003e"},{"lineNumber":46,"author":{"gitId":"-"},"content":"\u003cscript\u003e"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  {% if enableSearch %}MarkBind.setupWithSearch(){% else %}MarkBind.setup(){% endif %}"},{"lineNumber":48,"author":{"gitId":"-"},"content":"\u003c/script\u003e"},{"lineNumber":49,"author":{"gitId":"-"},"content":"{%- if asset.externalScripts %}"},{"lineNumber":50,"author":{"gitId":"-"},"content":"{%- for script in asset.externalScripts %}"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    \u003cscript src\u003d\"{{ script }}\"\u003e\u003c/script\u003e"},{"lineNumber":52,"author":{"gitId":"-"},"content":"{%- endfor %}"},{"lineNumber":53,"author":{"gitId":"-"},"content":"{%- endif %}"},{"lineNumber":54,"author":{"gitId":"-"},"content":"{%- if asset.pluginScripts %}"},{"lineNumber":55,"author":{"gitId":"-"},"content":"{%- for script in asset.pluginScripts %}"},{"lineNumber":56,"author":{"gitId":"-"},"content":"    {{ script }}"},{"lineNumber":57,"author":{"gitId":"-"},"content":"{%- endfor %}"},{"lineNumber":58,"author":{"gitId":"-"},"content":"{%- endif %}"},{"lineNumber":59,"author":{"gitId":"-"},"content":"{%- if asset.scriptBottom %}"},{"lineNumber":60,"author":{"gitId":"-"},"content":"{%- for scripts in asset.scriptBottom %}"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    {{ scripts }}"},{"lineNumber":62,"author":{"gitId":"-"},"content":"{%- endfor %}"},{"lineNumber":63,"author":{"gitId":"-"},"content":"{%- endif %}"},{"lineNumber":64,"author":{"gitId":"-"},"content":"\u003c/html\u003e"}],"authorContributionMap":{"wxwxwxwx9":3,"-":61}},{"path":"packages/core/src/Site/SiteConfig.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const logger \u003d require(\u0027../utils/logger\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  HEADING_INDEXING_LEVEL_DEFAULT,"},{"lineNumber":5,"author":{"gitId":"-"},"content":"} \u003d require(\u0027./constants\u0027);"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":8,"author":{"gitId":"-"},"content":" * Represents a read only site config read from the site configuration file,"},{"lineNumber":9,"author":{"gitId":"-"},"content":" * with default values for unspecified properties."},{"lineNumber":10,"author":{"gitId":"-"},"content":" */"},{"lineNumber":11,"author":{"gitId":"-"},"content":"class SiteConfig {"},{"lineNumber":12,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":13,"author":{"gitId":"-"},"content":"   * @param siteConfigJson The raw json read from the site configuration file"},{"lineNumber":14,"author":{"gitId":"-"},"content":"   * @param cliBaseUrl As read from the --baseUrl option"},{"lineNumber":15,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  constructor(siteConfigJson, cliBaseUrl) {"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":18,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":19,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    this.baseUrl \u003d cliBaseUrl !\u003d\u003d undefined"},{"lineNumber":21,"author":{"gitId":"-"},"content":"      ? cliBaseUrl"},{"lineNumber":22,"author":{"gitId":"-"},"content":"      : (siteConfigJson.baseUrl || \u0027\u0027);"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":24,"author":{"gitId":"-"},"content":"     * @type {boolean}"},{"lineNumber":25,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    this.enableSearch \u003d siteConfigJson.enableSearch \u003d\u003d\u003d undefined || siteConfigJson.enableSearch;"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":28,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":29,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    this.faviconPath \u003d siteConfigJson.faviconPath;"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":32,"author":{"gitId":"-"},"content":"     * Default maximum heading level to index for all pages."},{"lineNumber":33,"author":{"gitId":"-"},"content":"     * @type {number}"},{"lineNumber":34,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    this.headingIndexingLevel \u003d siteConfigJson.headingIndexingLevel || HEADING_INDEXING_LEVEL_DEFAULT;"},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":38,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, any\u003e}"},{"lineNumber":39,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    this.style \u003d siteConfigJson.style || {};"},{"lineNumber":41,"author":{"gitId":"-"},"content":""},{"lineNumber":42,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":43,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":44,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    this.theme \u003d this.style.bootstrapTheme || siteConfigJson.theme || false;"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    if (siteConfigJson.theme) {"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      logger.warn(\"The \u0027theme\u0027 site configuration key has been consolidated under the \u0027style.bootstrapTheme\u0027\""},{"lineNumber":48,"author":{"gitId":"-"},"content":"        + \u0027 key.\\n The old key will be deprecated in v3.0.\u0027);"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":50,"author":{"gitId":"-"},"content":""},{"lineNumber":51,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":52,"author":{"gitId":"-"},"content":"     * @type {Array}"},{"lineNumber":53,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    this.pages \u003d siteConfigJson.pages || [];"},{"lineNumber":55,"author":{"gitId":"-"},"content":""},{"lineNumber":56,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":57,"author":{"gitId":"-"},"content":"     * @type {Array}"},{"lineNumber":58,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":59,"author":{"gitId":"-"},"content":"    this.pagesExclude \u003d siteConfigJson.pagesExclude || [];"},{"lineNumber":60,"author":{"gitId":"-"},"content":""},{"lineNumber":61,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":62,"author":{"gitId":"-"},"content":"     * @type {Array}"},{"lineNumber":63,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":64,"author":{"gitId":"-"},"content":"    this.ignore \u003d siteConfigJson.ignore || [];"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":66,"author":{"gitId":"-"},"content":"     * @type {Array}"},{"lineNumber":67,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    this.externalScripts \u003d siteConfigJson.externalScripts || [];"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":70,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":71,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    this.titlePrefix \u003d siteConfigJson.titlePrefix || \u0027\u0027;"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":74,"author":{"gitId":"-"},"content":"     * @type {boolean}"},{"lineNumber":75,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    this.disableHtmlBeautify \u003d siteConfigJson.disableHtmlBeautify || false;"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":78,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, any\u003e}"},{"lineNumber":79,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":80,"author":{"gitId":"-"},"content":"    this.globalOverride \u003d siteConfigJson.globalOverride || {};"},{"lineNumber":81,"author":{"gitId":"-"},"content":""},{"lineNumber":82,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":83,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":84,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    this.timeZone \u003d siteConfigJson.timeZone || \u0027UTC\u0027;"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":87,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":88,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":89,"author":{"gitId":"-"},"content":"    this.locale \u003d siteConfigJson.locale || \u0027en-GB\u0027;"},{"lineNumber":90,"author":{"gitId":"-"},"content":""},{"lineNumber":91,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":92,"author":{"gitId":"-"},"content":"     * @type {Array}"},{"lineNumber":93,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    this.plugins \u003d siteConfigJson.plugins || [];"},{"lineNumber":95,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":96,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, Object\u003cstring, any\u003e\u003e}"},{"lineNumber":97,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":98,"author":{"gitId":"-"},"content":"    this.pluginsContext \u003d siteConfigJson.pluginsContext || {};"},{"lineNumber":99,"author":{"gitId":"-"},"content":""},{"lineNumber":100,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":101,"author":{"gitId":"-"},"content":"     * @type {Object\u003cstring, Object\u003cstring, any\u003e\u003e}"},{"lineNumber":102,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":103,"author":{"gitId":"-"},"content":"    this.deploy \u003d siteConfigJson.deploy || {};"},{"lineNumber":104,"author":{"gitId":"wxwxwxwx9"},"content":"    /**"},{"lineNumber":105,"author":{"gitId":"wxwxwxwx9"},"content":"     * @type {boolean}"},{"lineNumber":106,"author":{"gitId":"wxwxwxwx9"},"content":"     */"},{"lineNumber":107,"author":{"gitId":"wxwxwxwx9"},"content":"    this.intrasiteLinkValidation \u003d siteConfigJson.intrasiteLinkValidation || {};"},{"lineNumber":108,"author":{"gitId":"wxwxwxwx9"},"content":"    this.intrasiteLinkValidation.enabled \u003d this.intrasiteLinkValidation.enabled !\u003d\u003d false;"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":110,"author":{"gitId":"-"},"content":"}"},{"lineNumber":111,"author":{"gitId":"-"},"content":""},{"lineNumber":112,"author":{"gitId":"-"},"content":"module.exports \u003d SiteConfig;"}],"authorContributionMap":{"wxwxwxwx9":5,"-":107}},{"path":"packages/core/src/Site/index.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const cheerio \u003d require(\u0027cheerio\u0027); require(\u0027../patches/htmlparser2\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const fs \u003d require(\u0027fs-extra\u0027);"},{"lineNumber":3,"author":{"gitId":"-"},"content":"const ghpages \u003d require(\u0027gh-pages\u0027);"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const ignore \u003d require(\u0027ignore\u0027);"},{"lineNumber":5,"author":{"gitId":"-"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":6,"author":{"gitId":"-"},"content":"const Promise \u003d require(\u0027bluebird\u0027);"},{"lineNumber":7,"author":{"gitId":"-"},"content":"const ProgressBar \u003d require(\u0027progress\u0027);"},{"lineNumber":8,"author":{"gitId":"-"},"content":"const walkSync \u003d require(\u0027walk-sync\u0027);"},{"lineNumber":9,"author":{"gitId":"-"},"content":"const simpleGit \u003d require(\u0027simple-git\u0027);"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"const SiteConfig \u003d require(\u0027./SiteConfig\u0027);"},{"lineNumber":12,"author":{"gitId":"-"},"content":"const Page \u003d require(\u0027../Page\u0027);"},{"lineNumber":13,"author":{"gitId":"-"},"content":"const { PageConfig } \u003d require(\u0027../Page/PageConfig\u0027);"},{"lineNumber":14,"author":{"gitId":"-"},"content":"const VariableProcessor \u003d require(\u0027../variables/VariableProcessor\u0027);"},{"lineNumber":15,"author":{"gitId":"-"},"content":"const VariableRenderer \u003d require(\u0027../variables/VariableRenderer\u0027);"},{"lineNumber":16,"author":{"gitId":"-"},"content":"const { ExternalManager } \u003d require(\u0027../External/ExternalManager\u0027);"},{"lineNumber":17,"author":{"gitId":"-"},"content":"const { LayoutManager } \u003d require(\u0027../Layout\u0027);"},{"lineNumber":18,"author":{"gitId":"-"},"content":"const { PluginManager } \u003d require(\u0027../plugins/PluginManager\u0027);"},{"lineNumber":19,"author":{"gitId":"-"},"content":"const Template \u003d require(\u0027../../template/template\u0027);"},{"lineNumber":20,"author":{"gitId":"-"},"content":""},{"lineNumber":21,"author":{"gitId":"-"},"content":"const FsUtil \u003d require(\u0027../utils/fsUtil\u0027);"},{"lineNumber":22,"author":{"gitId":"-"},"content":"const delay \u003d require(\u0027../utils/delay\u0027);"},{"lineNumber":23,"author":{"gitId":"-"},"content":"const logger \u003d require(\u0027../utils/logger\u0027);"},{"lineNumber":24,"author":{"gitId":"-"},"content":"const utils \u003d require(\u0027../utils\u0027);"},{"lineNumber":25,"author":{"gitId":"-"},"content":"const gitUtil \u003d require(\u0027../utils/git\u0027);"},{"lineNumber":26,"author":{"gitId":"-"},"content":""},{"lineNumber":27,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":28,"author":{"gitId":"-"},"content":"  LAYOUT_DEFAULT_NAME,"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  LAYOUT_FOLDER_PATH,"},{"lineNumber":30,"author":{"gitId":"-"},"content":"} \u003d require(\u0027../constants\u0027);"},{"lineNumber":31,"author":{"gitId":"-"},"content":""},{"lineNumber":32,"author":{"gitId":"-"},"content":"const _ \u003d {};"},{"lineNumber":33,"author":{"gitId":"-"},"content":"_.difference \u003d require(\u0027lodash/difference\u0027);"},{"lineNumber":34,"author":{"gitId":"-"},"content":"_.flatMap \u003d require(\u0027lodash/flatMap\u0027);"},{"lineNumber":35,"author":{"gitId":"-"},"content":"_.has \u003d require(\u0027lodash/has\u0027);"},{"lineNumber":36,"author":{"gitId":"-"},"content":"_.isBoolean \u003d require(\u0027lodash/isBoolean\u0027);"},{"lineNumber":37,"author":{"gitId":"-"},"content":"_.isUndefined \u003d require(\u0027lodash/isUndefined\u0027);"},{"lineNumber":38,"author":{"gitId":"-"},"content":"_.noop \u003d require(\u0027lodash/noop\u0027);"},{"lineNumber":39,"author":{"gitId":"-"},"content":"_.omitBy \u003d require(\u0027lodash/omitBy\u0027);"},{"lineNumber":40,"author":{"gitId":"-"},"content":"_.startCase \u003d require(\u0027lodash/startCase\u0027);"},{"lineNumber":41,"author":{"gitId":"-"},"content":"_.union \u003d require(\u0027lodash/union\u0027);"},{"lineNumber":42,"author":{"gitId":"-"},"content":"_.uniq \u003d require(\u0027lodash/uniq\u0027);"},{"lineNumber":43,"author":{"gitId":"-"},"content":""},{"lineNumber":44,"author":{"gitId":"-"},"content":"const url \u003d {};"},{"lineNumber":45,"author":{"gitId":"-"},"content":"url.join \u003d path.posix.join;"},{"lineNumber":46,"author":{"gitId":"-"},"content":""},{"lineNumber":47,"author":{"gitId":"-"},"content":"const MARKBIND_VERSION \u003d require(\u0027../../package.json\u0027).version;"},{"lineNumber":48,"author":{"gitId":"-"},"content":""},{"lineNumber":49,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  ABOUT_MARKDOWN_FILE,"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  CONFIG_FOLDER_NAME,"},{"lineNumber":52,"author":{"gitId":"-"},"content":"  FAVICON_DEFAULT_PATH,"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  INDEX_MARKDOWN_FILE,"},{"lineNumber":54,"author":{"gitId":"-"},"content":"  LAYOUT_SITE_FOLDER_NAME,"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  LAZY_LOADING_SITE_FILE_NAME,"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  LAZY_LOADING_BUILD_TIME_RECOMMENDATION_LIMIT,"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  LAZY_LOADING_REBUILD_TIME_RECOMMENDATION_LIMIT,"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  MARKBIND_WEBSITE_URL,"},{"lineNumber":59,"author":{"gitId":"-"},"content":"  MAX_CONCURRENT_PAGE_GENERATION_PROMISES,"},{"lineNumber":60,"author":{"gitId":"-"},"content":"  PAGE_TEMPLATE_NAME,"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  SITE_CONFIG_NAME,"},{"lineNumber":62,"author":{"gitId":"-"},"content":"  SITE_DATA_NAME,"},{"lineNumber":63,"author":{"gitId":"-"},"content":"  SITE_FOLDER_NAME,"},{"lineNumber":64,"author":{"gitId":"-"},"content":"  TEMP_FOLDER_NAME,"},{"lineNumber":65,"author":{"gitId":"-"},"content":"  TEMPLATE_SITE_ASSET_FOLDER_NAME,"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  USER_VARIABLES_PATH,"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  WIKI_SITE_NAV_PATH,"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  WIKI_FOOTER_PATH,"},{"lineNumber":69,"author":{"gitId":"-"},"content":"} \u003d require(\u0027./constants\u0027);"},{"lineNumber":70,"author":{"gitId":"-"},"content":""},{"lineNumber":71,"author":{"gitId":"-"},"content":"function getBootswatchThemePath(theme) {"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  return require.resolve(`bootswatch/dist/${theme}/bootstrap.min.css`);"},{"lineNumber":73,"author":{"gitId":"-"},"content":"}"},{"lineNumber":74,"author":{"gitId":"-"},"content":""},{"lineNumber":75,"author":{"gitId":"-"},"content":"const SUPPORTED_THEMES_PATHS \u003d {"},{"lineNumber":76,"author":{"gitId":"-"},"content":"  \u0027bootswatch-cerulean\u0027: getBootswatchThemePath(\u0027cerulean\u0027),"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  \u0027bootswatch-cosmo\u0027: getBootswatchThemePath(\u0027cosmo\u0027),"},{"lineNumber":78,"author":{"gitId":"-"},"content":"  \u0027bootswatch-flatly\u0027: getBootswatchThemePath(\u0027flatly\u0027),"},{"lineNumber":79,"author":{"gitId":"-"},"content":"  \u0027bootswatch-journal\u0027: getBootswatchThemePath(\u0027journal\u0027),"},{"lineNumber":80,"author":{"gitId":"-"},"content":"  \u0027bootswatch-litera\u0027: getBootswatchThemePath(\u0027litera\u0027),"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  \u0027bootswatch-lumen\u0027: getBootswatchThemePath(\u0027lumen\u0027),"},{"lineNumber":82,"author":{"gitId":"-"},"content":"  \u0027bootswatch-lux\u0027: getBootswatchThemePath(\u0027lux\u0027),"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  \u0027bootswatch-materia\u0027: getBootswatchThemePath(\u0027materia\u0027),"},{"lineNumber":84,"author":{"gitId":"-"},"content":"  \u0027bootswatch-minty\u0027: getBootswatchThemePath(\u0027minty\u0027),"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  \u0027bootswatch-pulse\u0027: getBootswatchThemePath(\u0027pulse\u0027),"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  \u0027bootswatch-sandstone\u0027: getBootswatchThemePath(\u0027sandstone\u0027),"},{"lineNumber":87,"author":{"gitId":"-"},"content":"  \u0027bootswatch-simplex\u0027: getBootswatchThemePath(\u0027simplex\u0027),"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  \u0027bootswatch-sketchy\u0027: getBootswatchThemePath(\u0027sketchy\u0027),"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  \u0027bootswatch-spacelab\u0027: getBootswatchThemePath(\u0027spacelab\u0027),"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  \u0027bootswatch-united\u0027: getBootswatchThemePath(\u0027united\u0027),"},{"lineNumber":91,"author":{"gitId":"-"},"content":"  \u0027bootswatch-yeti\u0027: getBootswatchThemePath(\u0027yeti\u0027),"},{"lineNumber":92,"author":{"gitId":"-"},"content":"};"},{"lineNumber":93,"author":{"gitId":"-"},"content":""},{"lineNumber":94,"author":{"gitId":"-"},"content":"const HIGHLIGHT_ASSETS \u003d {"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  dark: \u0027codeblock-dark.min.css\u0027,"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  light: \u0027codeblock-light.min.css\u0027,"},{"lineNumber":97,"author":{"gitId":"-"},"content":"};"},{"lineNumber":98,"author":{"gitId":"-"},"content":""},{"lineNumber":99,"author":{"gitId":"-"},"content":"const ABOUT_MARKDOWN_DEFAULT \u003d \u0027# About\\n\u0027"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  + \u0027Welcome to your **About Us** page.\\n\u0027;"},{"lineNumber":101,"author":{"gitId":"-"},"content":""},{"lineNumber":102,"author":{"gitId":"-"},"content":"const MARKBIND_LINK_HTML \u003d `\u003ca href\u003d\u0027${MARKBIND_WEBSITE_URL}\u0027\u003eMarkBind ${MARKBIND_VERSION}\u003c/a\u003e`;"},{"lineNumber":103,"author":{"gitId":"-"},"content":""},{"lineNumber":104,"author":{"gitId":"-"},"content":"class Site {"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  constructor(rootPath, outputPath, onePagePath, forceReload \u003d false,"},{"lineNumber":106,"author":{"gitId":"-"},"content":"              siteConfigPath \u003d SITE_CONFIG_NAME, dev) {"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    this.dev \u003d !!dev;"},{"lineNumber":108,"author":{"gitId":"-"},"content":""},{"lineNumber":109,"author":{"gitId":"-"},"content":"    this.rootPath \u003d rootPath;"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    this.outputPath \u003d outputPath;"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    this.tempPath \u003d path.join(rootPath, TEMP_FOLDER_NAME);"},{"lineNumber":112,"author":{"gitId":"-"},"content":""},{"lineNumber":113,"author":{"gitId":"-"},"content":"    // MarkBind assets to be copied"},{"lineNumber":114,"author":{"gitId":"-"},"content":"    this.siteAssetsDestPath \u003d path.join(outputPath, TEMPLATE_SITE_ASSET_FOLDER_NAME);"},{"lineNumber":115,"author":{"gitId":"-"},"content":""},{"lineNumber":116,"author":{"gitId":"-"},"content":"    // Page template path"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    this.pageTemplatePath \u003d path.join(__dirname, \u0027../Page\u0027, PAGE_TEMPLATE_NAME);"},{"lineNumber":118,"author":{"gitId":"-"},"content":"    this.pageTemplate \u003d VariableRenderer.compile(fs.readFileSync(this.pageTemplatePath, \u0027utf8\u0027));"},{"lineNumber":119,"author":{"gitId":"-"},"content":"    this.pages \u003d [];"},{"lineNumber":120,"author":{"gitId":"-"},"content":""},{"lineNumber":121,"author":{"gitId":"-"},"content":"    // Other properties"},{"lineNumber":122,"author":{"gitId":"-"},"content":"    this.addressablePages \u003d [];"},{"lineNumber":123,"author":{"gitId":"-"},"content":"    this.addressablePagesSource \u003d [];"},{"lineNumber":124,"author":{"gitId":"-"},"content":"    this.baseUrlMap \u003d new Set();"},{"lineNumber":125,"author":{"gitId":"-"},"content":"    this.forceReload \u003d forceReload;"},{"lineNumber":126,"author":{"gitId":"-"},"content":""},{"lineNumber":127,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":128,"author":{"gitId":"-"},"content":"     * @type {undefined | SiteConfig}"},{"lineNumber":129,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    this.siteConfig \u003d undefined;"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    this.siteConfigPath \u003d siteConfigPath;"},{"lineNumber":132,"author":{"gitId":"-"},"content":""},{"lineNumber":133,"author":{"gitId":"-"},"content":"    // Site wide variable processor"},{"lineNumber":134,"author":{"gitId":"-"},"content":"    this.variableProcessor \u003d undefined;"},{"lineNumber":135,"author":{"gitId":"-"},"content":""},{"lineNumber":136,"author":{"gitId":"-"},"content":"    // Site wide layout manager"},{"lineNumber":137,"author":{"gitId":"-"},"content":"    this.layoutManager \u003d undefined;"},{"lineNumber":138,"author":{"gitId":"-"},"content":""},{"lineNumber":139,"author":{"gitId":"-"},"content":"    // Site wide plugin manager"},{"lineNumber":140,"author":{"gitId":"-"},"content":"    this.pluginManager \u003d undefined;"},{"lineNumber":141,"author":{"gitId":"-"},"content":""},{"lineNumber":142,"author":{"gitId":"-"},"content":"    // Lazy reload properties"},{"lineNumber":143,"author":{"gitId":"-"},"content":"    this.onePagePath \u003d onePagePath;"},{"lineNumber":144,"author":{"gitId":"-"},"content":"    this.currentPageViewed \u003d onePagePath"},{"lineNumber":145,"author":{"gitId":"-"},"content":"      ? path.resolve(this.rootPath, FsUtil.removeExtension(onePagePath))"},{"lineNumber":146,"author":{"gitId":"-"},"content":"      : \u0027\u0027;"},{"lineNumber":147,"author":{"gitId":"-"},"content":"    this.toRebuild \u003d new Set();"},{"lineNumber":148,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":149,"author":{"gitId":"-"},"content":""},{"lineNumber":150,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":151,"author":{"gitId":"-"},"content":"   * Util Methods"},{"lineNumber":152,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":153,"author":{"gitId":"-"},"content":""},{"lineNumber":154,"author":{"gitId":"jonahtanjz"},"content":"  static async rejectHandler(error, removeFolders) {"},{"lineNumber":155,"author":{"gitId":"-"},"content":"    logger.warn(error);"},{"lineNumber":156,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":157,"author":{"gitId":"jonahtanjz"},"content":"      await Promise.all(removeFolders.map(folder \u003d\u003e fs.remove(folder)));"},{"lineNumber":158,"author":{"gitId":"jonahtanjz"},"content":"    } catch (err) {"},{"lineNumber":159,"author":{"gitId":"-"},"content":"      logger.error(`Failed to remove generated files after error!\\n${err.message}`);"},{"lineNumber":160,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":161,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":162,"author":{"gitId":"-"},"content":""},{"lineNumber":163,"author":{"gitId":"-"},"content":"  static setExtension(filename, ext) {"},{"lineNumber":164,"author":{"gitId":"-"},"content":"    return path.join("},{"lineNumber":165,"author":{"gitId":"-"},"content":"      path.dirname(filename),"},{"lineNumber":166,"author":{"gitId":"-"},"content":"      path.basename(filename, path.extname(filename)) + ext,"},{"lineNumber":167,"author":{"gitId":"-"},"content":"    );"},{"lineNumber":168,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":169,"author":{"gitId":"-"},"content":""},{"lineNumber":170,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":171,"author":{"gitId":"-"},"content":"   * Static method for initializing a markbind site."},{"lineNumber":172,"author":{"gitId":"-"},"content":"   * Generate the site.json and an index.md file."},{"lineNumber":173,"author":{"gitId":"-"},"content":"   *"},{"lineNumber":174,"author":{"gitId":"-"},"content":"   * @param rootPath"},{"lineNumber":175,"author":{"gitId":"-"},"content":"   * @param templatePath"},{"lineNumber":176,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":177,"author":{"gitId":"jonahtanjz"},"content":"  static async initSite(rootPath, templatePath) {"},{"lineNumber":178,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":179,"author":{"gitId":"jonahtanjz"},"content":"      return await new Template(rootPath, templatePath).init();"},{"lineNumber":180,"author":{"gitId":"jonahtanjz"},"content":"    } catch (err) {"},{"lineNumber":181,"author":{"gitId":"jonahtanjz"},"content":"      return new Error(`Failed to initialize site with given template with error: ${err.message}`);"},{"lineNumber":182,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":183,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":184,"author":{"gitId":"-"},"content":""},{"lineNumber":185,"author":{"gitId":"-"},"content":"  beforeSiteGenerate() {"},{"lineNumber":186,"author":{"gitId":"-"},"content":"    this.variableProcessor.invalidateCache();"},{"lineNumber":187,"author":{"gitId":"-"},"content":"    this.externalManager.reset();"},{"lineNumber":188,"author":{"gitId":"-"},"content":"    this.pluginManager.beforeSiteGenerate();"},{"lineNumber":189,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":190,"author":{"gitId":"-"},"content":""},{"lineNumber":191,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":192,"author":{"gitId":"-"},"content":"   * Changes the site variable of the current page being viewed, building it if necessary."},{"lineNumber":193,"author":{"gitId":"-"},"content":"   * @param normalizedUrl BaseUrl-less and extension-less url of the page"},{"lineNumber":194,"author":{"gitId":"-"},"content":"   * @return Boolean of whether the page needed to be rebuilt"},{"lineNumber":195,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":196,"author":{"gitId":"-"},"content":"  changeCurrentPage(normalizedUrl) {"},{"lineNumber":197,"author":{"gitId":"-"},"content":"    this.currentPageViewed \u003d path.join(this.rootPath, normalizedUrl);"},{"lineNumber":198,"author":{"gitId":"-"},"content":""},{"lineNumber":199,"author":{"gitId":"-"},"content":"    if (this.toRebuild.has(this.currentPageViewed)) {"},{"lineNumber":200,"author":{"gitId":"-"},"content":"      this.beforeSiteGenerate();"},{"lineNumber":201,"author":{"gitId":"-"},"content":"      this.rebuildPageBeingViewed(this.currentPageViewed);"},{"lineNumber":202,"author":{"gitId":"-"},"content":"      return true;"},{"lineNumber":203,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":204,"author":{"gitId":"-"},"content":""},{"lineNumber":205,"author":{"gitId":"-"},"content":"    return false;"},{"lineNumber":206,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":207,"author":{"gitId":"-"},"content":""},{"lineNumber":208,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":209,"author":{"gitId":"-"},"content":"   * Read and store the site config from site.json, overwrite the default base URL"},{"lineNumber":210,"author":{"gitId":"-"},"content":"   * if it\u0027s specified by the user."},{"lineNumber":211,"author":{"gitId":"-"},"content":"   * @param baseUrl user defined base URL (if exists)"},{"lineNumber":212,"author":{"gitId":"-"},"content":"   * @returns {Promise}"},{"lineNumber":213,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":214,"author":{"gitId":"-"},"content":"  async readSiteConfig(baseUrl) {"},{"lineNumber":215,"author":{"gitId":"-"},"content":"    try {"},{"lineNumber":216,"author":{"gitId":"-"},"content":"      const siteConfigPath \u003d path.join(this.rootPath, this.siteConfigPath);"},{"lineNumber":217,"author":{"gitId":"-"},"content":"      const siteConfigJson \u003d fs.readJsonSync(siteConfigPath);"},{"lineNumber":218,"author":{"gitId":"-"},"content":"      this.siteConfig \u003d new SiteConfig(siteConfigJson, baseUrl);"},{"lineNumber":219,"author":{"gitId":"-"},"content":""},{"lineNumber":220,"author":{"gitId":"-"},"content":"      return this.siteConfig;"},{"lineNumber":221,"author":{"gitId":"-"},"content":"    } catch (err) {"},{"lineNumber":222,"author":{"gitId":"-"},"content":"      throw (new Error(`Failed to read the site config file \u0027${this.siteConfigPath}\u0027 at`"},{"lineNumber":223,"author":{"gitId":"-"},"content":"        + `${this.rootPath}:\\n${err.message}\\nPlease ensure the file exist or is valid`));"},{"lineNumber":224,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":225,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":226,"author":{"gitId":"-"},"content":""},{"lineNumber":227,"author":{"gitId":"-"},"content":"  listAssets(fileIgnore) {"},{"lineNumber":228,"author":{"gitId":"jonahtanjz"},"content":"    const files \u003d walkSync(this.rootPath, { directories: false });"},{"lineNumber":229,"author":{"gitId":"jonahtanjz"},"content":"    return fileIgnore.filter(files);"},{"lineNumber":230,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":231,"author":{"gitId":"-"},"content":""},{"lineNumber":232,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":233,"author":{"gitId":"-"},"content":"   * A page configuration object."},{"lineNumber":234,"author":{"gitId":"-"},"content":"   * @typedef {Object\u003cstring, any\u003e} PageCreationConfig"},{"lineNumber":235,"author":{"gitId":"-"},"content":"   * @property {string} faviconUrl"},{"lineNumber":236,"author":{"gitId":"-"},"content":"   * @property {string} pageSrc"},{"lineNumber":237,"author":{"gitId":"-"},"content":"   * @property {string} title"},{"lineNumber":238,"author":{"gitId":"-"},"content":"   * @property {string} layout"},{"lineNumber":239,"author":{"gitId":"-"},"content":"   * @property {Object\u003cstring, any\u003e} frontmatter"},{"lineNumber":240,"author":{"gitId":"-"},"content":"   * @property {boolean} searchable"},{"lineNumber":241,"author":{"gitId":"-"},"content":"   * @property {Array\u003cstring\u003e} externalScripts"},{"lineNumber":242,"author":{"gitId":"-"},"content":"   * /"},{"lineNumber":243,"author":{"gitId":"-"},"content":""},{"lineNumber":244,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":245,"author":{"gitId":"-"},"content":"   * Create a Page object from the site and page creation config."},{"lineNumber":246,"author":{"gitId":"-"},"content":"   * @param {PageCreationConfig} config"},{"lineNumber":247,"author":{"gitId":"-"},"content":"   * @returns {Page}"},{"lineNumber":248,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":249,"author":{"gitId":"-"},"content":"  createPage(config) {"},{"lineNumber":250,"author":{"gitId":"-"},"content":"    const sourcePath \u003d path.join(this.rootPath, config.pageSrc);"},{"lineNumber":251,"author":{"gitId":"-"},"content":"    const resultPath \u003d path.join(this.outputPath, Site.setExtension(config.pageSrc, \u0027.html\u0027));"},{"lineNumber":252,"author":{"gitId":"-"},"content":"    const codeTheme \u003d this.siteConfig.style.codeTheme || \u0027dark\u0027;"},{"lineNumber":253,"author":{"gitId":"-"},"content":"    const pageConfig \u003d new PageConfig({"},{"lineNumber":254,"author":{"gitId":"-"},"content":"      asset: {"},{"lineNumber":255,"author":{"gitId":"-"},"content":"        bootstrap: path.relative(path.dirname(resultPath),"},{"lineNumber":256,"author":{"gitId":"-"},"content":"                                 path.join(this.siteAssetsDestPath, \u0027css\u0027, \u0027bootstrap.min.css\u0027)),"},{"lineNumber":257,"author":{"gitId":"-"},"content":"        bootstrapVueCss: path.relative(path.dirname(resultPath),"},{"lineNumber":258,"author":{"gitId":"-"},"content":"                                       path.join(this.siteAssetsDestPath, \u0027css\u0027, \u0027bootstrap-vue.min.css\u0027)),"},{"lineNumber":259,"author":{"gitId":"-"},"content":"        externalScripts: _.union(this.siteConfig.externalScripts, config.externalScripts),"},{"lineNumber":260,"author":{"gitId":"-"},"content":"        fontAwesome: path.relative(path.dirname(resultPath),"},{"lineNumber":261,"author":{"gitId":"-"},"content":"                                   path.join(this.siteAssetsDestPath, \u0027fontawesome\u0027, \u0027css\u0027, \u0027all.min.css\u0027)),"},{"lineNumber":262,"author":{"gitId":"-"},"content":"        glyphicons: path.relative(path.dirname(resultPath),"},{"lineNumber":263,"author":{"gitId":"-"},"content":"                                  path.join(this.siteAssetsDestPath, \u0027glyphicons\u0027, \u0027css\u0027,"},{"lineNumber":264,"author":{"gitId":"-"},"content":"                                            \u0027bootstrap-glyphicons.min.css\u0027)),"},{"lineNumber":265,"author":{"gitId":"-"},"content":"        octicons: path.relative(path.dirname(resultPath),"},{"lineNumber":266,"author":{"gitId":"-"},"content":"                                path.join(this.siteAssetsDestPath, \u0027css\u0027, \u0027octicons.css\u0027)),"},{"lineNumber":267,"author":{"gitId":"-"},"content":"        highlight: path.relative(path.dirname(resultPath),"},{"lineNumber":268,"author":{"gitId":"-"},"content":"                                 path.join(this.siteAssetsDestPath, \u0027css\u0027, HIGHLIGHT_ASSETS[codeTheme])),"},{"lineNumber":269,"author":{"gitId":"-"},"content":"        markBindCss: path.relative(path.dirname(resultPath),"},{"lineNumber":270,"author":{"gitId":"-"},"content":"                                   path.join(this.siteAssetsDestPath, \u0027css\u0027, \u0027markbind.min.css\u0027)),"},{"lineNumber":271,"author":{"gitId":"-"},"content":"        markBindJs: path.relative(path.dirname(resultPath),"},{"lineNumber":272,"author":{"gitId":"-"},"content":"                                  path.join(this.siteAssetsDestPath, \u0027js\u0027, \u0027markbind.min.js\u0027)),"},{"lineNumber":273,"author":{"gitId":"-"},"content":"        pageNavCss: path.relative(path.dirname(resultPath),"},{"lineNumber":274,"author":{"gitId":"-"},"content":"                                  path.join(this.siteAssetsDestPath, \u0027css\u0027, \u0027page-nav.css\u0027)),"},{"lineNumber":275,"author":{"gitId":"-"},"content":"        siteNavCss: path.relative(path.dirname(resultPath),"},{"lineNumber":276,"author":{"gitId":"-"},"content":"                                  path.join(this.siteAssetsDestPath, \u0027css\u0027, \u0027site-nav.css\u0027)),"},{"lineNumber":277,"author":{"gitId":"-"},"content":"        bootstrapUtilityJs: path.relative(path.dirname(resultPath),"},{"lineNumber":278,"author":{"gitId":"-"},"content":"                                          path.join(this.siteAssetsDestPath, \u0027js\u0027,"},{"lineNumber":279,"author":{"gitId":"-"},"content":"                                                    \u0027bootstrap-utility.min.js\u0027)),"},{"lineNumber":280,"author":{"gitId":"-"},"content":"        polyfillJs: path.relative(path.dirname(resultPath),"},{"lineNumber":281,"author":{"gitId":"-"},"content":"                                  path.join(this.siteAssetsDestPath, \u0027js\u0027, \u0027polyfill.min.js\u0027)),"},{"lineNumber":282,"author":{"gitId":"-"},"content":"        vue: path.relative(path.dirname(resultPath),"},{"lineNumber":283,"author":{"gitId":"-"},"content":"                           path.join(this.siteAssetsDestPath, \u0027js\u0027, \u0027vue.min.js\u0027)),"},{"lineNumber":284,"author":{"gitId":"-"},"content":"        jQuery: path.relative(path.dirname(resultPath),"},{"lineNumber":285,"author":{"gitId":"-"},"content":"                              path.join(this.siteAssetsDestPath, \u0027js\u0027, \u0027jquery.min.js\u0027)),"},{"lineNumber":286,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":287,"author":{"gitId":"-"},"content":"      baseUrl: this.siteConfig.baseUrl,"},{"lineNumber":288,"author":{"gitId":"-"},"content":"      baseUrlMap: this.baseUrlMap,"},{"lineNumber":289,"author":{"gitId":"-"},"content":"      dev: this.dev,"},{"lineNumber":290,"author":{"gitId":"-"},"content":"      disableHtmlBeautify: this.siteConfig.disableHtmlBeautify,"},{"lineNumber":291,"author":{"gitId":"-"},"content":"      enableSearch: this.siteConfig.enableSearch,"},{"lineNumber":292,"author":{"gitId":"-"},"content":"      faviconUrl: config.faviconUrl,"},{"lineNumber":293,"author":{"gitId":"-"},"content":"      frontmatterOverride: config.frontmatter,"},{"lineNumber":294,"author":{"gitId":"-"},"content":"      globalOverride: this.siteConfig.globalOverride,"},{"lineNumber":295,"author":{"gitId":"-"},"content":"      headingIndexingLevel: this.siteConfig.headingIndexingLevel,"},{"lineNumber":296,"author":{"gitId":"-"},"content":"      layout: config.layout,"},{"lineNumber":297,"author":{"gitId":"-"},"content":"      layoutsAssetPath: path.relative(path.dirname(resultPath),"},{"lineNumber":298,"author":{"gitId":"-"},"content":"                                      path.join(this.siteAssetsDestPath, LAYOUT_SITE_FOLDER_NAME)),"},{"lineNumber":299,"author":{"gitId":"-"},"content":"      pluginManager: this.pluginManager,"},{"lineNumber":300,"author":{"gitId":"-"},"content":"      resultPath,"},{"lineNumber":301,"author":{"gitId":"-"},"content":"      rootPath: this.rootPath,"},{"lineNumber":302,"author":{"gitId":"-"},"content":"      searchable: this.siteConfig.enableSearch \u0026\u0026 config.searchable,"},{"lineNumber":303,"author":{"gitId":"-"},"content":"      siteOutputPath: this.outputPath,"},{"lineNumber":304,"author":{"gitId":"-"},"content":"      sourcePath,"},{"lineNumber":305,"author":{"gitId":"-"},"content":"      src: config.pageSrc,"},{"lineNumber":306,"author":{"gitId":"-"},"content":"      title: config.title || \u0027\u0027,"},{"lineNumber":307,"author":{"gitId":"-"},"content":"      titlePrefix: this.siteConfig.titlePrefix,"},{"lineNumber":308,"author":{"gitId":"-"},"content":"      template: this.pageTemplate,"},{"lineNumber":309,"author":{"gitId":"-"},"content":"      variableProcessor: this.variableProcessor,"},{"lineNumber":310,"author":{"gitId":"-"},"content":"      ignore: this.siteConfig.ignore,"},{"lineNumber":311,"author":{"gitId":"-"},"content":"      addressablePagesSource: this.addressablePagesSource,"},{"lineNumber":312,"author":{"gitId":"-"},"content":"      layoutManager: this.layoutManager,"},{"lineNumber":313,"author":{"gitId":"wxwxwxwx9"},"content":"      intrasiteLinkValidation: this.siteConfig.intrasiteLinkValidation,"},{"lineNumber":314,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":315,"author":{"gitId":"-"},"content":"    return new Page(pageConfig);"},{"lineNumber":316,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":317,"author":{"gitId":"-"},"content":""},{"lineNumber":318,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":319,"author":{"gitId":"-"},"content":"   * Converts an existing GitHub wiki or docs folder to a MarkBind website."},{"lineNumber":320,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":321,"author":{"gitId":"jonahtanjz"},"content":"  async convert() {"},{"lineNumber":322,"author":{"gitId":"jonahtanjz"},"content":"    await this.readSiteConfig();"},{"lineNumber":323,"author":{"gitId":"jonahtanjz"},"content":"    this.collectAddressablePages();"},{"lineNumber":324,"author":{"gitId":"jonahtanjz"},"content":"    await this.addIndexPage();"},{"lineNumber":325,"author":{"gitId":"jonahtanjz"},"content":"    await this.addAboutPage();"},{"lineNumber":326,"author":{"gitId":"jonahtanjz"},"content":"    this.addDefaultLayoutFiles();"},{"lineNumber":327,"author":{"gitId":"jonahtanjz"},"content":"    await this.addDefaultLayoutToSiteConfig();"},{"lineNumber":328,"author":{"gitId":"jonahtanjz"},"content":"    Site.printBaseUrlMessage();"},{"lineNumber":329,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":330,"author":{"gitId":"-"},"content":""},{"lineNumber":331,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":332,"author":{"gitId":"-"},"content":"   * Copies over README.md or Home.md to default index.md if present."},{"lineNumber":333,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":334,"author":{"gitId":"jonahtanjz"},"content":"  async addIndexPage() {"},{"lineNumber":335,"author":{"gitId":"-"},"content":"    const indexPagePath \u003d path.join(this.rootPath, INDEX_MARKDOWN_FILE);"},{"lineNumber":336,"author":{"gitId":"-"},"content":"    const fileNames \u003d [\u0027README.md\u0027, \u0027Home.md\u0027];"},{"lineNumber":337,"author":{"gitId":"-"},"content":"    const filePath \u003d fileNames.find(fileName \u003d\u003e fs.existsSync(path.join(this.rootPath, fileName)));"},{"lineNumber":338,"author":{"gitId":"-"},"content":"    // if none of the files exist, do nothing"},{"lineNumber":339,"author":{"gitId":"jonahtanjz"},"content":"    if (_.isUndefined(filePath)) return;"},{"lineNumber":340,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":341,"author":{"gitId":"jonahtanjz"},"content":"      await fs.copy(path.join(this.rootPath, filePath), indexPagePath);"},{"lineNumber":342,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":343,"author":{"gitId":"jonahtanjz"},"content":"      throw new Error(`Failed to copy over ${filePath}`);"},{"lineNumber":344,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":345,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":346,"author":{"gitId":"-"},"content":""},{"lineNumber":347,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":348,"author":{"gitId":"-"},"content":"   * Adds an about page to site if not present."},{"lineNumber":349,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":350,"author":{"gitId":"jonahtanjz"},"content":"  async addAboutPage() {"},{"lineNumber":351,"author":{"gitId":"-"},"content":"    const aboutPath \u003d path.join(this.rootPath, ABOUT_MARKDOWN_FILE);"},{"lineNumber":352,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":353,"author":{"gitId":"jonahtanjz"},"content":"      await fs.access(aboutPath);"},{"lineNumber":354,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":355,"author":{"gitId":"-"},"content":"      if (fs.existsSync(aboutPath)) {"},{"lineNumber":356,"author":{"gitId":"jonahtanjz"},"content":"        return;"},{"lineNumber":357,"author":{"gitId":"jonahtanjz"},"content":"      }"},{"lineNumber":358,"author":{"gitId":"jonahtanjz"},"content":"      await fs.outputFile(aboutPath, ABOUT_MARKDOWN_DEFAULT);"},{"lineNumber":359,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":360,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":361,"author":{"gitId":"-"},"content":""},{"lineNumber":362,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":363,"author":{"gitId":"-"},"content":"   * Adds a footer to default layout of site."},{"lineNumber":364,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":365,"author":{"gitId":"-"},"content":"  addDefaultLayoutFiles() {"},{"lineNumber":366,"author":{"gitId":"-"},"content":"    const wikiFooterPath \u003d path.join(this.rootPath, WIKI_FOOTER_PATH);"},{"lineNumber":367,"author":{"gitId":"-"},"content":"    let footer;"},{"lineNumber":368,"author":{"gitId":"-"},"content":"    if (fs.existsSync(wikiFooterPath)) {"},{"lineNumber":369,"author":{"gitId":"-"},"content":"      logger.info(`Copied over the existing ${WIKI_FOOTER_PATH} file to the converted layout`);"},{"lineNumber":370,"author":{"gitId":"-"},"content":"      footer \u003d fs.readFileSync(wikiFooterPath, \u0027utf8\u0027);"},{"lineNumber":371,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":372,"author":{"gitId":"-"},"content":""},{"lineNumber":373,"author":{"gitId":"-"},"content":"    const wikiSiteNavPath \u003d path.join(this.rootPath, WIKI_SITE_NAV_PATH);"},{"lineNumber":374,"author":{"gitId":"-"},"content":"    let siteNav;"},{"lineNumber":375,"author":{"gitId":"-"},"content":"    if (fs.existsSync(wikiSiteNavPath)) {"},{"lineNumber":376,"author":{"gitId":"-"},"content":"      logger.info(`Copied over the existing ${WIKI_SITE_NAV_PATH} file to the converted layout\\n`"},{"lineNumber":377,"author":{"gitId":"-"},"content":"        + \u0027Check https://markbind.org/userGuide/tweakingThePageStructure.html#site-navigation-menus\\n\u0027"},{"lineNumber":378,"author":{"gitId":"-"},"content":"        + \u0027for information on site navigation menus.\u0027);"},{"lineNumber":379,"author":{"gitId":"-"},"content":"      siteNav \u003d fs.readFileSync(wikiSiteNavPath, \u0027utf8\u0027);"},{"lineNumber":380,"author":{"gitId":"-"},"content":"    } else {"},{"lineNumber":381,"author":{"gitId":"-"},"content":"      siteNav \u003d this.buildSiteNav();"},{"lineNumber":382,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":383,"author":{"gitId":"-"},"content":""},{"lineNumber":384,"author":{"gitId":"-"},"content":"    const convertedLayoutTemplate \u003d VariableRenderer.compile("},{"lineNumber":385,"author":{"gitId":"-"},"content":"      fs.readFileSync(path.join(__dirname, \u0027siteConvertLayout.njk\u0027), \u0027utf8\u0027));"},{"lineNumber":386,"author":{"gitId":"-"},"content":"    const renderedLayout \u003d convertedLayoutTemplate.render({"},{"lineNumber":387,"author":{"gitId":"-"},"content":"      footer,"},{"lineNumber":388,"author":{"gitId":"-"},"content":"      siteNav,"},{"lineNumber":389,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":390,"author":{"gitId":"-"},"content":"    const layoutOutputPath \u003d path.join(this.rootPath, LAYOUT_FOLDER_PATH, LAYOUT_DEFAULT_NAME);"},{"lineNumber":391,"author":{"gitId":"-"},"content":""},{"lineNumber":392,"author":{"gitId":"-"},"content":"    fs.writeFileSync(layoutOutputPath, renderedLayout, \u0027utf-8\u0027);"},{"lineNumber":393,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":394,"author":{"gitId":"-"},"content":""},{"lineNumber":395,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":396,"author":{"gitId":"-"},"content":"   * Builds a site navigation file from the directory structure of the site."},{"lineNumber":397,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":398,"author":{"gitId":"-"},"content":"  buildSiteNav() {"},{"lineNumber":399,"author":{"gitId":"-"},"content":"    let siteNavContent \u003d \u0027\u0027;"},{"lineNumber":400,"author":{"gitId":"-"},"content":"    this.addressablePages"},{"lineNumber":401,"author":{"gitId":"-"},"content":"      .filter(addressablePage \u003d\u003e !addressablePage.src.startsWith(\u0027_\u0027))"},{"lineNumber":402,"author":{"gitId":"-"},"content":"      .forEach((page) \u003d\u003e {"},{"lineNumber":403,"author":{"gitId":"-"},"content":"        const addressablePagePath \u003d path.join(this.rootPath, page.src);"},{"lineNumber":404,"author":{"gitId":"-"},"content":"        const relativePagePathWithoutExt \u003d FsUtil.removeExtension("},{"lineNumber":405,"author":{"gitId":"-"},"content":"          path.relative(this.rootPath, addressablePagePath));"},{"lineNumber":406,"author":{"gitId":"-"},"content":"        const pageName \u003d _.startCase(FsUtil.removeExtension(path.basename(addressablePagePath)));"},{"lineNumber":407,"author":{"gitId":"-"},"content":"        const pageUrl \u003d `{{ baseUrl }}/${relativePagePathWithoutExt}.html`;"},{"lineNumber":408,"author":{"gitId":"-"},"content":"        siteNavContent +\u003d `* [${pageName}](${pageUrl})\\n`;"},{"lineNumber":409,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":410,"author":{"gitId":"-"},"content":""},{"lineNumber":411,"author":{"gitId":"-"},"content":"    return siteNavContent;"},{"lineNumber":412,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":413,"author":{"gitId":"-"},"content":""},{"lineNumber":414,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":415,"author":{"gitId":"-"},"content":"   * Applies the default layout to all addressable pages by modifying the site config file."},{"lineNumber":416,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":417,"author":{"gitId":"jonahtanjz"},"content":"  async addDefaultLayoutToSiteConfig() {"},{"lineNumber":418,"author":{"gitId":"-"},"content":"    const configPath \u003d path.join(this.rootPath, SITE_CONFIG_NAME);"},{"lineNumber":419,"author":{"gitId":"jonahtanjz"},"content":"    const config \u003d await fs.readJson(configPath);"},{"lineNumber":420,"author":{"gitId":"jonahtanjz"},"content":"    await Site.writeToSiteConfig(config, configPath);"},{"lineNumber":421,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":422,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":423,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":424,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for addDefaultLayoutToSiteConfig()."},{"lineNumber":425,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":426,"author":{"gitId":"jonahtanjz"},"content":"  static async writeToSiteConfig(config, configPath) {"},{"lineNumber":427,"author":{"gitId":"-"},"content":"    const layoutObj \u003d { glob: \u0027**/*.+(md|mbd)\u0027, layout: LAYOUT_DEFAULT_NAME };"},{"lineNumber":428,"author":{"gitId":"-"},"content":"    config.pages.push(layoutObj);"},{"lineNumber":429,"author":{"gitId":"jonahtanjz"},"content":"    await fs.outputJson(configPath, config);"},{"lineNumber":430,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":431,"author":{"gitId":"-"},"content":""},{"lineNumber":432,"author":{"gitId":"-"},"content":"  static printBaseUrlMessage() {"},{"lineNumber":433,"author":{"gitId":"-"},"content":"    logger.info(\u0027The default base URL of your site is set to /\\n\u0027"},{"lineNumber":434,"author":{"gitId":"-"},"content":"      + \u0027You can change the base URL of your site by editing site.json\\n\u0027"},{"lineNumber":435,"author":{"gitId":"-"},"content":"      + \u0027Check https://markbind.org/userGuide/siteConfiguration.html for more information.\u0027);"},{"lineNumber":436,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":437,"author":{"gitId":"-"},"content":""},{"lineNumber":438,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":439,"author":{"gitId":"-"},"content":"   * Updates the paths to be traversed as addressable pages and returns a list of filepaths to be deleted"},{"lineNumber":440,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":441,"author":{"gitId":"-"},"content":"  updateAddressablePages() {"},{"lineNumber":442,"author":{"gitId":"-"},"content":"    const oldAddressablePagesSources \u003d this.addressablePages.slice().map(page \u003d\u003e page.src);"},{"lineNumber":443,"author":{"gitId":"-"},"content":"    this.collectAddressablePages();"},{"lineNumber":444,"author":{"gitId":"-"},"content":"    const newAddressablePagesSources \u003d this.addressablePages.map(page \u003d\u003e page.src);"},{"lineNumber":445,"author":{"gitId":"-"},"content":""},{"lineNumber":446,"author":{"gitId":"-"},"content":"    return _.difference(oldAddressablePagesSources, newAddressablePagesSources)"},{"lineNumber":447,"author":{"gitId":"-"},"content":"      .map(filePath \u003d\u003e Site.setExtension(filePath, \u0027.html\u0027));"},{"lineNumber":448,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":449,"author":{"gitId":"-"},"content":""},{"lineNumber":450,"author":{"gitId":"-"},"content":"  getPageGlobPaths(page, pagesExclude) {"},{"lineNumber":451,"author":{"gitId":"-"},"content":"    return walkSync(this.rootPath, {"},{"lineNumber":452,"author":{"gitId":"-"},"content":"      directories: false,"},{"lineNumber":453,"author":{"gitId":"-"},"content":"      globs: Array.isArray(page.glob) ? page.glob : [page.glob],"},{"lineNumber":454,"author":{"gitId":"-"},"content":"      ignore: ["},{"lineNumber":455,"author":{"gitId":"-"},"content":"        CONFIG_FOLDER_NAME,"},{"lineNumber":456,"author":{"gitId":"-"},"content":"        SITE_FOLDER_NAME,"},{"lineNumber":457,"author":{"gitId":"-"},"content":"        ...pagesExclude.concat(page.globExclude || []),"},{"lineNumber":458,"author":{"gitId":"-"},"content":"      ],"},{"lineNumber":459,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":460,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":461,"author":{"gitId":"-"},"content":""},{"lineNumber":462,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":463,"author":{"gitId":"-"},"content":"   * Collects the paths to be traversed as addressable pages"},{"lineNumber":464,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":465,"author":{"gitId":"-"},"content":"  collectAddressablePages() {"},{"lineNumber":466,"author":{"gitId":"-"},"content":"    const { pages, pagesExclude } \u003d this.siteConfig;"},{"lineNumber":467,"author":{"gitId":"-"},"content":"    const pagesFromSrc \u003d _.flatMap(pages.filter(page \u003d\u003e page.src), page \u003d\u003e (Array.isArray(page.src)"},{"lineNumber":468,"author":{"gitId":"-"},"content":"      ? page.src.map(pageSrc \u003d\u003e ({ ...page, src: pageSrc }))"},{"lineNumber":469,"author":{"gitId":"-"},"content":"      : [page]));"},{"lineNumber":470,"author":{"gitId":"-"},"content":"    const set \u003d new Set();"},{"lineNumber":471,"author":{"gitId":"-"},"content":"    const duplicatePages \u003d pagesFromSrc"},{"lineNumber":472,"author":{"gitId":"-"},"content":"      .filter(page \u003d\u003e set.size \u003d\u003d\u003d set.add(page.src).size)"},{"lineNumber":473,"author":{"gitId":"-"},"content":"      .map(page \u003d\u003e page.src);"},{"lineNumber":474,"author":{"gitId":"-"},"content":"    if (duplicatePages.length \u003e 0) {"},{"lineNumber":475,"author":{"gitId":"jonahtanjz"},"content":"      throw new Error(`Duplicate page entries found in site config: ${_.uniq(duplicatePages).join(\u0027, \u0027)}`);"},{"lineNumber":476,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":477,"author":{"gitId":"-"},"content":"    const pagesFromGlobs \u003d _.flatMap(pages.filter(page \u003d\u003e page.glob),"},{"lineNumber":478,"author":{"gitId":"-"},"content":"                                     page \u003d\u003e this.getPageGlobPaths(page, pagesExclude)"},{"lineNumber":479,"author":{"gitId":"-"},"content":"                                       .map(filePath \u003d\u003e ({"},{"lineNumber":480,"author":{"gitId":"-"},"content":"                                         src: filePath,"},{"lineNumber":481,"author":{"gitId":"-"},"content":"                                         searchable: page.searchable,"},{"lineNumber":482,"author":{"gitId":"-"},"content":"                                         layout: page.layout,"},{"lineNumber":483,"author":{"gitId":"-"},"content":"                                         frontmatter: page.frontmatter,"},{"lineNumber":484,"author":{"gitId":"-"},"content":"                                       })));"},{"lineNumber":485,"author":{"gitId":"-"},"content":"    /*"},{"lineNumber":486,"author":{"gitId":"-"},"content":"     Add pages collected from globs and merge properties for pages"},{"lineNumber":487,"author":{"gitId":"-"},"content":"     Page properties collected from src have priority over page properties from globs,"},{"lineNumber":488,"author":{"gitId":"-"},"content":"     while page properties from later entries take priority over earlier ones."},{"lineNumber":489,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":490,"author":{"gitId":"-"},"content":"    const filteredPages \u003d {};"},{"lineNumber":491,"author":{"gitId":"-"},"content":"    pagesFromGlobs.concat(pagesFromSrc).forEach((page) \u003d\u003e {"},{"lineNumber":492,"author":{"gitId":"-"},"content":"      const filteredPage \u003d _.omitBy(page, _.isUndefined);"},{"lineNumber":493,"author":{"gitId":"-"},"content":"      filteredPages[page.src] \u003d page.src in filteredPages"},{"lineNumber":494,"author":{"gitId":"-"},"content":"        ? { ...filteredPages[page.src], ...filteredPage }"},{"lineNumber":495,"author":{"gitId":"-"},"content":"        : filteredPage;"},{"lineNumber":496,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":497,"author":{"gitId":"-"},"content":"    this.addressablePages \u003d Object.values(filteredPages);"},{"lineNumber":498,"author":{"gitId":"-"},"content":"    this.addressablePagesSource.length \u003d 0;"},{"lineNumber":499,"author":{"gitId":"-"},"content":"    this.addressablePages.forEach((page) \u003d\u003e {"},{"lineNumber":500,"author":{"gitId":"-"},"content":"      this.addressablePagesSource.push(FsUtil.removeExtensionPosix(page.src));"},{"lineNumber":501,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":502,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":503,"author":{"gitId":"-"},"content":""},{"lineNumber":504,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":505,"author":{"gitId":"-"},"content":"   * Collects the base url map in the site/subsites"},{"lineNumber":506,"author":{"gitId":"-"},"content":"   * @returns {*}"},{"lineNumber":507,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":508,"author":{"gitId":"-"},"content":"  collectBaseUrl() {"},{"lineNumber":509,"author":{"gitId":"-"},"content":"    const candidates \u003d walkSync(this.rootPath, { directories: false })"},{"lineNumber":510,"author":{"gitId":"-"},"content":"      .filter(x \u003d\u003e x.endsWith(this.siteConfigPath))"},{"lineNumber":511,"author":{"gitId":"-"},"content":"      .map(x \u003d\u003e path.resolve(this.rootPath, x));"},{"lineNumber":512,"author":{"gitId":"-"},"content":""},{"lineNumber":513,"author":{"gitId":"-"},"content":"    this.baseUrlMap \u003d new Set(candidates.map(candidate \u003d\u003e path.dirname(candidate)));"},{"lineNumber":514,"author":{"gitId":"-"},"content":"    this.variableProcessor \u003d new VariableProcessor(this.rootPath, this.baseUrlMap);"},{"lineNumber":515,"author":{"gitId":"-"},"content":""},{"lineNumber":516,"author":{"gitId":"-"},"content":"    const config \u003d {"},{"lineNumber":517,"author":{"gitId":"-"},"content":"      baseUrlMap: this.baseUrlMap,"},{"lineNumber":518,"author":{"gitId":"-"},"content":"      baseUrl: this.siteConfig.baseUrl,"},{"lineNumber":519,"author":{"gitId":"-"},"content":"      disableHtmlBeautify: this.siteConfig.disableHtmlBeautify,"},{"lineNumber":520,"author":{"gitId":"-"},"content":"      rootPath: this.rootPath,"},{"lineNumber":521,"author":{"gitId":"-"},"content":"      outputPath: this.outputPath,"},{"lineNumber":522,"author":{"gitId":"-"},"content":"      ignore: this.siteConfig.ignore,"},{"lineNumber":523,"author":{"gitId":"-"},"content":"      addressablePagesSource: this.addressablePagesSource,"},{"lineNumber":524,"author":{"gitId":"-"},"content":"      variableProcessor: this.variableProcessor,"},{"lineNumber":525,"author":{"gitId":"wxwxwxwx9"},"content":"      intrasiteLinkValidation: this.siteConfig.intrasiteLinkValidation,"},{"lineNumber":526,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":527,"author":{"gitId":"-"},"content":"    this.pluginManager \u003d new PluginManager(config, this.siteConfig.plugins, this.siteConfig.pluginsContext);"},{"lineNumber":528,"author":{"gitId":"-"},"content":"    config.pluginManager \u003d this.pluginManager;"},{"lineNumber":529,"author":{"gitId":"-"},"content":""},{"lineNumber":530,"author":{"gitId":"-"},"content":"    this.externalManager \u003d new ExternalManager(config);"},{"lineNumber":531,"author":{"gitId":"-"},"content":"    config.externalManager \u003d this.externalManager;"},{"lineNumber":532,"author":{"gitId":"-"},"content":""},{"lineNumber":533,"author":{"gitId":"-"},"content":"    this.layoutManager \u003d new LayoutManager(config);"},{"lineNumber":534,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":535,"author":{"gitId":"-"},"content":""},{"lineNumber":536,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":537,"author":{"gitId":"-"},"content":"   * Collects the user defined variables map in the site/subsites"},{"lineNumber":538,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":539,"author":{"gitId":"-"},"content":"  collectUserDefinedVariablesMap() {"},{"lineNumber":540,"author":{"gitId":"-"},"content":"    this.variableProcessor.resetUserDefinedVariablesMap();"},{"lineNumber":541,"author":{"gitId":"-"},"content":""},{"lineNumber":542,"author":{"gitId":"-"},"content":"    this.baseUrlMap.forEach((base) \u003d\u003e {"},{"lineNumber":543,"author":{"gitId":"-"},"content":"      const userDefinedVariablesPath \u003d path.resolve(base, USER_VARIABLES_PATH);"},{"lineNumber":544,"author":{"gitId":"-"},"content":"      let content;"},{"lineNumber":545,"author":{"gitId":"-"},"content":"      try {"},{"lineNumber":546,"author":{"gitId":"-"},"content":"        content \u003d fs.readFileSync(userDefinedVariablesPath, \u0027utf8\u0027);"},{"lineNumber":547,"author":{"gitId":"-"},"content":"      } catch (e) {"},{"lineNumber":548,"author":{"gitId":"-"},"content":"        content \u003d \u0027\u0027;"},{"lineNumber":549,"author":{"gitId":"-"},"content":"        logger.warn(e.message);"},{"lineNumber":550,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":551,"author":{"gitId":"-"},"content":""},{"lineNumber":552,"author":{"gitId":"-"},"content":"      /*"},{"lineNumber":553,"author":{"gitId":"-"},"content":"       We retrieve the baseUrl of the (sub)site by appending the relative to the configured base url"},{"lineNumber":554,"author":{"gitId":"-"},"content":"       i.e. We ignore the configured baseUrl of the sub sites."},{"lineNumber":555,"author":{"gitId":"-"},"content":"       */"},{"lineNumber":556,"author":{"gitId":"-"},"content":"      const siteRelativePathFromRoot \u003d utils.ensurePosix(path.relative(this.rootPath, base));"},{"lineNumber":557,"author":{"gitId":"-"},"content":"      const siteBaseUrl \u003d siteRelativePathFromRoot \u003d\u003d\u003d \u0027\u0027"},{"lineNumber":558,"author":{"gitId":"-"},"content":"        ? this.siteConfig.baseUrl"},{"lineNumber":559,"author":{"gitId":"-"},"content":"        : path.posix.join(this.siteConfig.baseUrl || \u0027/\u0027, siteRelativePathFromRoot);"},{"lineNumber":560,"author":{"gitId":"-"},"content":"      this.variableProcessor.addUserDefinedVariable(base, \u0027baseUrl\u0027, siteBaseUrl);"},{"lineNumber":561,"author":{"gitId":"-"},"content":"      this.variableProcessor.addUserDefinedVariable(base, \u0027MarkBind\u0027, MARKBIND_LINK_HTML);"},{"lineNumber":562,"author":{"gitId":"-"},"content":""},{"lineNumber":563,"author":{"gitId":"-"},"content":"      const $ \u003d cheerio.load(content, { decodeEntities: false });"},{"lineNumber":564,"author":{"gitId":"-"},"content":"      $(\u0027variable,span\u0027).each((index, element) \u003d\u003e {"},{"lineNumber":565,"author":{"gitId":"-"},"content":"        const name \u003d $(element).attr(\u0027name\u0027) || $(element).attr(\u0027id\u0027);"},{"lineNumber":566,"author":{"gitId":"-"},"content":""},{"lineNumber":567,"author":{"gitId":"-"},"content":"        this.variableProcessor.renderAndAddUserDefinedVariable(base, name, $(element).html());"},{"lineNumber":568,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":569,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":570,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":571,"author":{"gitId":"-"},"content":""},{"lineNumber":572,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":573,"author":{"gitId":"-"},"content":"   * Collects the user defined variables map in the site/subsites"},{"lineNumber":574,"author":{"gitId":"-"},"content":"   * if there is a change in the variables file"},{"lineNumber":575,"author":{"gitId":"-"},"content":"   * @param filePaths array of paths corresponding to files that have changed"},{"lineNumber":576,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":577,"author":{"gitId":"-"},"content":"  collectUserDefinedVariablesMapIfNeeded(filePaths) {"},{"lineNumber":578,"author":{"gitId":"-"},"content":"    const variablesPath \u003d path.resolve(this.rootPath, USER_VARIABLES_PATH);"},{"lineNumber":579,"author":{"gitId":"-"},"content":"    if (filePaths.includes(variablesPath)) {"},{"lineNumber":580,"author":{"gitId":"-"},"content":"      this.collectUserDefinedVariablesMap();"},{"lineNumber":581,"author":{"gitId":"-"},"content":"      return true;"},{"lineNumber":582,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":583,"author":{"gitId":"-"},"content":"    return false;"},{"lineNumber":584,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":585,"author":{"gitId":"-"},"content":""},{"lineNumber":586,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":587,"author":{"gitId":"-"},"content":"   * Generate the website."},{"lineNumber":588,"author":{"gitId":"-"},"content":"   * @param baseUrl user defined base URL (if exists)"},{"lineNumber":589,"author":{"gitId":"-"},"content":"   * @returns {Promise}"},{"lineNumber":590,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":591,"author":{"gitId":"jonahtanjz"},"content":"  async generate(baseUrl) {"},{"lineNumber":592,"author":{"gitId":"-"},"content":"    const startTime \u003d new Date();"},{"lineNumber":593,"author":{"gitId":"-"},"content":"    // Create the .tmp folder for storing intermediate results."},{"lineNumber":594,"author":{"gitId":"-"},"content":"    fs.emptydirSync(this.tempPath);"},{"lineNumber":595,"author":{"gitId":"-"},"content":"    // Clean the output folder; create it if not exist."},{"lineNumber":596,"author":{"gitId":"-"},"content":"    fs.emptydirSync(this.outputPath);"},{"lineNumber":597,"author":{"gitId":"-"},"content":"    const lazyWebsiteGenerationString \u003d this.onePagePath ? \u0027(lazy) \u0027 : \u0027\u0027;"},{"lineNumber":598,"author":{"gitId":"-"},"content":"    logger.info(`Website generation ${lazyWebsiteGenerationString}started at ${"},{"lineNumber":599,"author":{"gitId":"-"},"content":"      startTime.toLocaleTimeString()}`);"},{"lineNumber":600,"author":{"gitId":"-"},"content":""},{"lineNumber":601,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":602,"author":{"gitId":"jonahtanjz"},"content":"      await this.readSiteConfig(baseUrl);"},{"lineNumber":603,"author":{"gitId":"jonahtanjz"},"content":"      this.collectAddressablePages();"},{"lineNumber":604,"author":{"gitId":"jonahtanjz"},"content":"      await this.collectBaseUrl();"},{"lineNumber":605,"author":{"gitId":"jonahtanjz"},"content":"      this.collectUserDefinedVariablesMap();"},{"lineNumber":606,"author":{"gitId":"jonahtanjz"},"content":"      await this.buildAssets();"},{"lineNumber":607,"author":{"gitId":"jonahtanjz"},"content":"      await (this.onePagePath ? this.lazyBuildSourceFiles() : this.buildSourceFiles());"},{"lineNumber":608,"author":{"gitId":"jonahtanjz"},"content":"      await this.copyCoreWebAsset();"},{"lineNumber":609,"author":{"gitId":"jonahtanjz"},"content":"      await this.copyBootswatchTheme();"},{"lineNumber":610,"author":{"gitId":"jonahtanjz"},"content":"      await this.copyFontAwesomeAsset();"},{"lineNumber":611,"author":{"gitId":"jonahtanjz"},"content":"      await this.copyOcticonsAsset();"},{"lineNumber":612,"author":{"gitId":"jonahtanjz"},"content":"      await this.writeSiteData();"},{"lineNumber":613,"author":{"gitId":"jonahtanjz"},"content":"      this.calculateBuildTimeForGenerate(startTime, lazyWebsiteGenerationString);"},{"lineNumber":614,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":615,"author":{"gitId":"jonahtanjz"},"content":"      await Site.rejectHandler(error, [this.tempPath, this.outputPath]);"},{"lineNumber":616,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":617,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":618,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":619,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":620,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for generate()."},{"lineNumber":621,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":622,"author":{"gitId":"jonahtanjz"},"content":"  calculateBuildTimeForGenerate(startTime, lazyWebsiteGenerationString) {"},{"lineNumber":623,"author":{"gitId":"-"},"content":"    const endTime \u003d new Date();"},{"lineNumber":624,"author":{"gitId":"-"},"content":"    const totalBuildTime \u003d (endTime - startTime) / 1000;"},{"lineNumber":625,"author":{"gitId":"-"},"content":"    logger.info(`Website generation ${lazyWebsiteGenerationString}complete! Total build time: ${"},{"lineNumber":626,"author":{"gitId":"-"},"content":"      totalBuildTime}s`);"},{"lineNumber":627,"author":{"gitId":"-"},"content":""},{"lineNumber":628,"author":{"gitId":"-"},"content":"    if (!this.onePagePath \u0026\u0026 totalBuildTime \u003e LAZY_LOADING_BUILD_TIME_RECOMMENDATION_LIMIT) {"},{"lineNumber":629,"author":{"gitId":"-"},"content":"      logger.info(\u0027Your site took quite a while to build...\u0027"},{"lineNumber":630,"author":{"gitId":"-"},"content":"          + \u0027Have you considered using markbind serve -o when writing content to speed things up?\u0027);"},{"lineNumber":631,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":632,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":633,"author":{"gitId":"-"},"content":""},{"lineNumber":634,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":635,"author":{"gitId":"-"},"content":"   * Build all pages of the site"},{"lineNumber":636,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":637,"author":{"gitId":"-"},"content":"  async buildSourceFiles() {"},{"lineNumber":638,"author":{"gitId":"-"},"content":"    this.beforeSiteGenerate();"},{"lineNumber":639,"author":{"gitId":"-"},"content":"    logger.info(\u0027Generating pages...\u0027);"},{"lineNumber":640,"author":{"gitId":"-"},"content":""},{"lineNumber":641,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":642,"author":{"gitId":"jonahtanjz"},"content":"      await this.generatePages();"},{"lineNumber":643,"author":{"gitId":"jonahtanjz"},"content":"      await fs.remove(this.tempPath);"},{"lineNumber":644,"author":{"gitId":"jonahtanjz"},"content":"      logger.info(\u0027Pages built\u0027);"},{"lineNumber":645,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":646,"author":{"gitId":"jonahtanjz"},"content":"      await Site.rejectHandler(error, [this.tempPath, this.outputPath]);"},{"lineNumber":647,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":648,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":649,"author":{"gitId":"-"},"content":""},{"lineNumber":650,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":651,"author":{"gitId":"-"},"content":"   * Adds all pages except the current page being viewed to toRebuild, flagging them for lazy building later."},{"lineNumber":652,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":653,"author":{"gitId":"jonahtanjz"},"content":"  async lazyBuildAllPagesNotViewed() {"},{"lineNumber":654,"author":{"gitId":"-"},"content":"    this.pages.forEach((page) \u003d\u003e {"},{"lineNumber":655,"author":{"gitId":"-"},"content":"      const normalizedUrl \u003d FsUtil.removeExtension(page.pageConfig.sourcePath);"},{"lineNumber":656,"author":{"gitId":"-"},"content":"      if (normalizedUrl !\u003d\u003d this.currentPageViewed) {"},{"lineNumber":657,"author":{"gitId":"-"},"content":"        this.toRebuild.add(normalizedUrl);"},{"lineNumber":658,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":659,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":660,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":661,"author":{"gitId":"-"},"content":""},{"lineNumber":662,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":663,"author":{"gitId":"-"},"content":"   * Only build landing page of the site, building more as the author goes to different links."},{"lineNumber":664,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":665,"author":{"gitId":"-"},"content":"  async lazyBuildSourceFiles() {"},{"lineNumber":666,"author":{"gitId":"-"},"content":"    this.beforeSiteGenerate();"},{"lineNumber":667,"author":{"gitId":"-"},"content":"    logger.info(\u0027Generating landing page...\u0027);"},{"lineNumber":668,"author":{"gitId":"-"},"content":""},{"lineNumber":669,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":670,"author":{"gitId":"jonahtanjz"},"content":"      await this.generateLandingPage();"},{"lineNumber":671,"author":{"gitId":"jonahtanjz"},"content":"      await this.copyLazySourceFiles();"},{"lineNumber":672,"author":{"gitId":"jonahtanjz"},"content":"      await fs.remove(this.tempPath);"},{"lineNumber":673,"author":{"gitId":"jonahtanjz"},"content":"      await this.lazyBuildAllPagesNotViewed();"},{"lineNumber":674,"author":{"gitId":"jonahtanjz"},"content":"      logger.info(\u0027Landing page built, other pages will be built as you navigate to them!\u0027);"},{"lineNumber":675,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":676,"author":{"gitId":"jonahtanjz"},"content":"      await Site.rejectHandler(error, [this.tempPath, this.outputPath]);"},{"lineNumber":677,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":678,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":679,"author":{"gitId":"-"},"content":""},{"lineNumber":680,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":681,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for lazyBuildSourceFiles()."},{"lineNumber":682,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":683,"author":{"gitId":"jonahtanjz"},"content":"  copyLazySourceFiles() {"},{"lineNumber":684,"author":{"gitId":"-"},"content":"    const lazyLoadingSpinnerHtmlFilePath \u003d path.join(__dirname, LAZY_LOADING_SITE_FILE_NAME);"},{"lineNumber":685,"author":{"gitId":"-"},"content":"    const outputSpinnerHtmlFilePath \u003d path.join(this.outputPath, LAZY_LOADING_SITE_FILE_NAME);"},{"lineNumber":686,"author":{"gitId":"-"},"content":""},{"lineNumber":687,"author":{"gitId":"-"},"content":"    return fs.copy(lazyLoadingSpinnerHtmlFilePath, outputSpinnerHtmlFilePath);"},{"lineNumber":688,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":689,"author":{"gitId":"-"},"content":""},{"lineNumber":690,"author":{"gitId":"jonahtanjz"},"content":"  async _rebuildAffectedSourceFiles(filePaths) {"},{"lineNumber":691,"author":{"gitId":"-"},"content":"    const filePathArray \u003d Array.isArray(filePaths) ? filePaths : [filePaths];"},{"lineNumber":692,"author":{"gitId":"-"},"content":"    const uniquePaths \u003d _.uniq(filePathArray);"},{"lineNumber":693,"author":{"gitId":"-"},"content":"    this.beforeSiteGenerate();"},{"lineNumber":694,"author":{"gitId":"-"},"content":""},{"lineNumber":695,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":696,"author":{"gitId":"jonahtanjz"},"content":"      await this.layoutManager.updateLayouts(filePaths);"},{"lineNumber":697,"author":{"gitId":"jonahtanjz"},"content":"      await this.regenerateAffectedPages(uniquePaths);"},{"lineNumber":698,"author":{"gitId":"jonahtanjz"},"content":"      await fs.remove(this.tempPath);"},{"lineNumber":699,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":700,"author":{"gitId":"jonahtanjz"},"content":"      await Site.rejectHandler(error, [this.tempPath, this.outputPath]);"},{"lineNumber":701,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":702,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":703,"author":{"gitId":"-"},"content":""},{"lineNumber":704,"author":{"gitId":"jonahtanjz"},"content":"  async _rebuildPageBeingViewed(normalizedUrls) {"},{"lineNumber":705,"author":{"gitId":"-"},"content":"    const startTime \u003d new Date();"},{"lineNumber":706,"author":{"gitId":"-"},"content":"    const normalizedUrlArray \u003d Array.isArray(normalizedUrls) ? normalizedUrls : [normalizedUrls];"},{"lineNumber":707,"author":{"gitId":"-"},"content":"    const uniqueUrls \u003d _.uniq(normalizedUrlArray);"},{"lineNumber":708,"author":{"gitId":"-"},"content":"    uniqueUrls.forEach(normalizedUrl \u003d\u003e logger.info("},{"lineNumber":709,"author":{"gitId":"-"},"content":"      `Building ${normalizedUrl} as some of its dependencies were changed since the last visit`));"},{"lineNumber":710,"author":{"gitId":"-"},"content":""},{"lineNumber":711,"author":{"gitId":"-"},"content":"    /*"},{"lineNumber":712,"author":{"gitId":"-"},"content":"     Lazy loading only builds the page being viewed, but the user may be quick enough"},{"lineNumber":713,"author":{"gitId":"-"},"content":"     to trigger multiple page builds before the first one has finished building,"},{"lineNumber":714,"author":{"gitId":"-"},"content":"     hence we need to take this into account."},{"lineNumber":715,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":716,"author":{"gitId":"jonahtanjz"},"content":"    const regeneratePagesBeingViewed \u003d uniqueUrls.map(async (normalizedUrl) \u003d\u003e {"},{"lineNumber":717,"author":{"gitId":"-"},"content":"      this._setTimestampVariable();"},{"lineNumber":718,"author":{"gitId":"-"},"content":"      const pageToRebuild \u003d this.pages.find(page \u003d\u003e"},{"lineNumber":719,"author":{"gitId":"-"},"content":"        FsUtil.removeExtension(page.pageConfig.sourcePath) \u003d\u003d\u003d normalizedUrl);"},{"lineNumber":720,"author":{"gitId":"-"},"content":""},{"lineNumber":721,"author":{"gitId":"-"},"content":"      if (!pageToRebuild) {"},{"lineNumber":722,"author":{"gitId":"jonahtanjz"},"content":"        return;"},{"lineNumber":723,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":724,"author":{"gitId":"-"},"content":""},{"lineNumber":725,"author":{"gitId":"-"},"content":"      this.toRebuild.delete(normalizedUrl);"},{"lineNumber":726,"author":{"gitId":"jonahtanjz"},"content":"      try {"},{"lineNumber":727,"author":{"gitId":"jonahtanjz"},"content":"        await pageToRebuild.generate(this.externalManager);"},{"lineNumber":728,"author":{"gitId":"jonahtanjz"},"content":"        await this.writeSiteData();"},{"lineNumber":729,"author":{"gitId":"jonahtanjz"},"content":"        Site.calculateBuildTimeForRebuildPageBeingViewed(startTime);"},{"lineNumber":730,"author":{"gitId":"jonahtanjz"},"content":"      } catch (error) {"},{"lineNumber":731,"author":{"gitId":"jonahtanjz"},"content":"        await Site.rejectHandler(error, [this.tempPath, this.outputPath]);"},{"lineNumber":732,"author":{"gitId":"jonahtanjz"},"content":"      }"},{"lineNumber":733,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":734,"author":{"gitId":"-"},"content":""},{"lineNumber":735,"author":{"gitId":"jonahtanjz"},"content":"    await Promise.all(regeneratePagesBeingViewed);"},{"lineNumber":736,"author":{"gitId":"jonahtanjz"},"content":"    await fs.remove(this.tempPath);"},{"lineNumber":737,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":738,"author":{"gitId":"-"},"content":""},{"lineNumber":739,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":740,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for _rebuildPageBeingViewed()."},{"lineNumber":741,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":742,"author":{"gitId":"jonahtanjz"},"content":"  static calculateBuildTimeForRebuildPageBeingViewed(startTime) {"},{"lineNumber":743,"author":{"gitId":"jonahtanjz"},"content":"    const endTime \u003d new Date();"},{"lineNumber":744,"author":{"gitId":"jonahtanjz"},"content":"    const totalBuildTime \u003d (endTime - startTime) / 1000;"},{"lineNumber":745,"author":{"gitId":"jonahtanjz"},"content":"    return logger.info(`Lazy website regeneration complete! Total build time: ${totalBuildTime}s`);"},{"lineNumber":746,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":747,"author":{"gitId":"-"},"content":""},{"lineNumber":748,"author":{"gitId":"jonahtanjz"},"content":"  async _rebuildSourceFiles() {"},{"lineNumber":749,"author":{"gitId":"-"},"content":"    logger.info(\u0027Page added or removed, updating list of site\\\u0027s pages...\u0027);"},{"lineNumber":750,"author":{"gitId":"-"},"content":"    this.beforeSiteGenerate();"},{"lineNumber":751,"author":{"gitId":"-"},"content":""},{"lineNumber":752,"author":{"gitId":"-"},"content":"    this.layoutManager.removeLayouts();"},{"lineNumber":753,"author":{"gitId":"-"},"content":""},{"lineNumber":754,"author":{"gitId":"-"},"content":"    const removedPageFilePaths \u003d this.updateAddressablePages();"},{"lineNumber":755,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":756,"author":{"gitId":"jonahtanjz"},"content":"      await this.removeAsset(removedPageFilePaths);"},{"lineNumber":757,"author":{"gitId":"jonahtanjz"},"content":"      await this.rebuildRequiredPages();"},{"lineNumber":758,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":759,"author":{"gitId":"jonahtanjz"},"content":"      await Site.rejectHandler(error, [this.tempPath, this.outputPath]);"},{"lineNumber":760,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":761,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":762,"author":{"gitId":"-"},"content":""},{"lineNumber":763,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":764,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for _rebuildSourceFiles()."},{"lineNumber":765,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":766,"author":{"gitId":"jonahtanjz"},"content":"  async rebuildRequiredPages() {"},{"lineNumber":767,"author":{"gitId":"-"},"content":"    if (this.onePagePath) {"},{"lineNumber":768,"author":{"gitId":"-"},"content":"      this.mapAddressablePagesToPages(this.addressablePages || [], this.getFavIconUrl());"},{"lineNumber":769,"author":{"gitId":"-"},"content":""},{"lineNumber":770,"author":{"gitId":"jonahtanjz"},"content":"      await this.rebuildPageBeingViewed(this.currentPageViewed);"},{"lineNumber":771,"author":{"gitId":"jonahtanjz"},"content":"      await this.lazyBuildAllPagesNotViewed();"},{"lineNumber":772,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":773,"author":{"gitId":"-"},"content":""},{"lineNumber":774,"author":{"gitId":"-"},"content":"    logger.warn(\u0027Rebuilding all pages...\u0027);"},{"lineNumber":775,"author":{"gitId":"jonahtanjz"},"content":"    await this.buildSourceFiles();"},{"lineNumber":776,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":777,"author":{"gitId":"-"},"content":""},{"lineNumber":778,"author":{"gitId":"jonahtanjz"},"content":"  async _buildMultipleAssets(filePaths) {"},{"lineNumber":779,"author":{"gitId":"-"},"content":"    const filePathArray \u003d Array.isArray(filePaths) ? filePaths : [filePaths];"},{"lineNumber":780,"author":{"gitId":"-"},"content":"    const uniquePaths \u003d _.uniq(filePathArray);"},{"lineNumber":781,"author":{"gitId":"-"},"content":"    const fileIgnore \u003d ignore().add(this.siteConfig.ignore);"},{"lineNumber":782,"author":{"gitId":"-"},"content":"    const fileRelativePaths \u003d uniquePaths.map(filePath \u003d\u003e path.relative(this.rootPath, filePath));"},{"lineNumber":783,"author":{"gitId":"-"},"content":"    const copyAssets \u003d fileIgnore.filter(fileRelativePaths)"},{"lineNumber":784,"author":{"gitId":"-"},"content":"      .map(asset \u003d\u003e fs.copy(path.join(this.rootPath, asset), path.join(this.outputPath, asset)));"},{"lineNumber":785,"author":{"gitId":"jonahtanjz"},"content":"    await Promise.all(copyAssets);"},{"lineNumber":786,"author":{"gitId":"jonahtanjz"},"content":"    logger.info(\u0027Assets built\u0027);"},{"lineNumber":787,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":788,"author":{"gitId":"-"},"content":""},{"lineNumber":789,"author":{"gitId":"jonahtanjz"},"content":"  async _removeMultipleAssets(filePaths) {"},{"lineNumber":790,"author":{"gitId":"-"},"content":"    const filePathArray \u003d Array.isArray(filePaths) ? filePaths : [filePaths];"},{"lineNumber":791,"author":{"gitId":"-"},"content":"    const uniquePaths \u003d _.uniq(filePathArray);"},{"lineNumber":792,"author":{"gitId":"-"},"content":"    const fileRelativePaths \u003d uniquePaths.map(filePath \u003d\u003e path.relative(this.rootPath, filePath));"},{"lineNumber":793,"author":{"gitId":"-"},"content":"    const filesToRemove \u003d fileRelativePaths.map("},{"lineNumber":794,"author":{"gitId":"-"},"content":"      fileRelativePath \u003d\u003e path.join(this.outputPath, fileRelativePath));"},{"lineNumber":795,"author":{"gitId":"-"},"content":"    const removeFiles \u003d filesToRemove.map(asset \u003d\u003e fs.remove(asset));"},{"lineNumber":796,"author":{"gitId":"jonahtanjz"},"content":"    if (removeFiles.length !\u003d\u003d 0) {"},{"lineNumber":797,"author":{"gitId":"jonahtanjz"},"content":"      await Promise.all(removeFiles);"},{"lineNumber":798,"author":{"gitId":"jonahtanjz"},"content":"      logger.debug(\u0027Assets removed\u0027);"},{"lineNumber":799,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":800,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":801,"author":{"gitId":"-"},"content":""},{"lineNumber":802,"author":{"gitId":"jonahtanjz"},"content":"  async buildAssets() {"},{"lineNumber":803,"author":{"gitId":"-"},"content":"    logger.info(\u0027Building assets...\u0027);"},{"lineNumber":804,"author":{"gitId":"-"},"content":"    const outputFolder \u003d path.relative(this.rootPath, this.outputPath);"},{"lineNumber":805,"author":{"gitId":"-"},"content":"    const fileIgnore \u003d ignore().add([...this.siteConfig.ignore, outputFolder]);"},{"lineNumber":806,"author":{"gitId":"-"},"content":""},{"lineNumber":807,"author":{"gitId":"-"},"content":"    // Scan and copy assets (excluding ignore files)."},{"lineNumber":808,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":809,"author":{"gitId":"jonahtanjz"},"content":"      const listOfAssets \u003d this.listAssets(fileIgnore);"},{"lineNumber":810,"author":{"gitId":"jonahtanjz"},"content":"      const assetsToCopy \u003d listOfAssets.map(asset \u003d\u003e"},{"lineNumber":811,"author":{"gitId":"jonahtanjz"},"content":"        fs.copy(path.join(this.rootPath, asset), path.join(this.outputPath, asset)));"},{"lineNumber":812,"author":{"gitId":"jonahtanjz"},"content":"      await Promise.all(assetsToCopy);"},{"lineNumber":813,"author":{"gitId":"jonahtanjz"},"content":"      logger.info(\u0027Assets built\u0027);"},{"lineNumber":814,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":815,"author":{"gitId":"jonahtanjz"},"content":"      await Site.rejectHandler(error, []); // assets won\u0027t affect deletion"},{"lineNumber":816,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":817,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":818,"author":{"gitId":"-"},"content":""},{"lineNumber":819,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":820,"author":{"gitId":"-"},"content":"   * Checks if a specified file path is a dependency of a page"},{"lineNumber":821,"author":{"gitId":"-"},"content":"   * @param {string} filePath file path to check"},{"lineNumber":822,"author":{"gitId":"-"},"content":"   * @returns {boolean} whether the file path is a dependency of any of the site\u0027s pages"},{"lineNumber":823,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":824,"author":{"gitId":"-"},"content":"  isDependencyOfPage(filePath) {"},{"lineNumber":825,"author":{"gitId":"-"},"content":"    return this.pages.some(page \u003d\u003e page.isDependency(filePath))"},{"lineNumber":826,"author":{"gitId":"-"},"content":"      || utils.ensurePosix(filePath).endsWith(USER_VARIABLES_PATH);"},{"lineNumber":827,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":828,"author":{"gitId":"-"},"content":""},{"lineNumber":829,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":830,"author":{"gitId":"-"},"content":"   * Checks if a specified file path satisfies a src or glob in any of the page configurations."},{"lineNumber":831,"author":{"gitId":"-"},"content":"   * @param {string} filePath file path to check"},{"lineNumber":832,"author":{"gitId":"-"},"content":"   * @returns {boolean} whether the file path is satisfies any glob"},{"lineNumber":833,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":834,"author":{"gitId":"-"},"content":"  isFilepathAPage(filePath) {"},{"lineNumber":835,"author":{"gitId":"-"},"content":"    const { pages, pagesExclude } \u003d this.siteConfig;"},{"lineNumber":836,"author":{"gitId":"-"},"content":"    const relativeFilePath \u003d utils.ensurePosix(path.relative(this.rootPath, filePath));"},{"lineNumber":837,"author":{"gitId":"-"},"content":"    const srcesFromPages \u003d _.flatMap(pages.filter(page \u003d\u003e page.src),"},{"lineNumber":838,"author":{"gitId":"-"},"content":"                                     page \u003d\u003e (Array.isArray(page.src) ? page.src : [page.src]));"},{"lineNumber":839,"author":{"gitId":"-"},"content":"    if (srcesFromPages.includes(relativeFilePath)) {"},{"lineNumber":840,"author":{"gitId":"-"},"content":"      return true;"},{"lineNumber":841,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":842,"author":{"gitId":"-"},"content":""},{"lineNumber":843,"author":{"gitId":"-"},"content":"    const filePathsFromGlobs \u003d _.flatMap(pages.filter(page \u003d\u003e page.glob),"},{"lineNumber":844,"author":{"gitId":"-"},"content":"                                         page \u003d\u003e this.getPageGlobPaths(page, pagesExclude));"},{"lineNumber":845,"author":{"gitId":"-"},"content":"    return filePathsFromGlobs.some(fp \u003d\u003e fp \u003d\u003d\u003d relativeFilePath);"},{"lineNumber":846,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":847,"author":{"gitId":"-"},"content":""},{"lineNumber":848,"author":{"gitId":"-"},"content":"  getFavIconUrl() {"},{"lineNumber":849,"author":{"gitId":"-"},"content":"    const { baseUrl, faviconPath } \u003d this.siteConfig;"},{"lineNumber":850,"author":{"gitId":"-"},"content":""},{"lineNumber":851,"author":{"gitId":"-"},"content":"    if (faviconPath) {"},{"lineNumber":852,"author":{"gitId":"-"},"content":"      if (!fs.existsSync(path.join(this.rootPath, faviconPath))) {"},{"lineNumber":853,"author":{"gitId":"-"},"content":"        logger.warn(`${faviconPath} does not exist`);"},{"lineNumber":854,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":855,"author":{"gitId":"-"},"content":"      return url.join(\u0027/\u0027, baseUrl, faviconPath);"},{"lineNumber":856,"author":{"gitId":"-"},"content":"    } else if (fs.existsSync(path.join(this.rootPath, FAVICON_DEFAULT_PATH))) {"},{"lineNumber":857,"author":{"gitId":"-"},"content":"      return url.join(\u0027/\u0027, baseUrl, FAVICON_DEFAULT_PATH);"},{"lineNumber":858,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":859,"author":{"gitId":"-"},"content":""},{"lineNumber":860,"author":{"gitId":"-"},"content":"    return undefined;"},{"lineNumber":861,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":862,"author":{"gitId":"-"},"content":""},{"lineNumber":863,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":864,"author":{"gitId":"-"},"content":"   * Maps an array of addressable pages to an array of Page object"},{"lineNumber":865,"author":{"gitId":"-"},"content":"   * @param {Array\u003cPage\u003e} addressablePages"},{"lineNumber":866,"author":{"gitId":"-"},"content":"   * @param {String} faviconUrl"},{"lineNumber":867,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":868,"author":{"gitId":"-"},"content":"  mapAddressablePagesToPages(addressablePages, faviconUrl) {"},{"lineNumber":869,"author":{"gitId":"-"},"content":"    this.pages \u003d addressablePages.map(page \u003d\u003e this.createPage({"},{"lineNumber":870,"author":{"gitId":"-"},"content":"      faviconUrl,"},{"lineNumber":871,"author":{"gitId":"-"},"content":"      pageSrc: page.src,"},{"lineNumber":872,"author":{"gitId":"-"},"content":"      title: page.title,"},{"lineNumber":873,"author":{"gitId":"-"},"content":"      layout: page.layout,"},{"lineNumber":874,"author":{"gitId":"-"},"content":"      frontmatter: page.frontmatter,"},{"lineNumber":875,"author":{"gitId":"-"},"content":"      searchable: page.searchable !\u003d\u003d \u0027no\u0027,"},{"lineNumber":876,"author":{"gitId":"-"},"content":"      externalScripts: page.externalScripts,"},{"lineNumber":877,"author":{"gitId":"-"},"content":"    }));"},{"lineNumber":878,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":879,"author":{"gitId":"-"},"content":""},{"lineNumber":880,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":881,"author":{"gitId":"-"},"content":"   * Creates the supplied pages\u0027 page generation promises at a throttled rate."},{"lineNumber":882,"author":{"gitId":"-"},"content":"   * This is done to avoid pushing too many callbacks into the event loop at once. (#1245)"},{"lineNumber":883,"author":{"gitId":"-"},"content":"   * @param {Array\u003cPage\u003e} pages to generate"},{"lineNumber":884,"author":{"gitId":"-"},"content":"   * @return {Promise} that resolves once all pages have generated"},{"lineNumber":885,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":886,"author":{"gitId":"-"},"content":"  generatePagesThrottled(pages) {"},{"lineNumber":887,"author":{"gitId":"-"},"content":"    const progressBar \u003d new ProgressBar(`[:bar] :current / ${pages.length} pages built`,"},{"lineNumber":888,"author":{"gitId":"-"},"content":"                                        { total: pages.length });"},{"lineNumber":889,"author":{"gitId":"-"},"content":"    progressBar.render();"},{"lineNumber":890,"author":{"gitId":"-"},"content":""},{"lineNumber":891,"author":{"gitId":"-"},"content":"    return new Promise((resolve, reject) \u003d\u003e {"},{"lineNumber":892,"author":{"gitId":"jonahtanjz"},"content":"      const counter \u003d { numPagesGenerated: 0 };"},{"lineNumber":893,"author":{"gitId":"-"},"content":""},{"lineNumber":894,"author":{"gitId":"-"},"content":"      // Map pages into array of callbacks for delayed execution"},{"lineNumber":895,"author":{"gitId":"jonahtanjz"},"content":"      const pageGenerationQueue \u003d pages.map(page \u003d\u003e async () \u003d\u003e {"},{"lineNumber":896,"author":{"gitId":"jonahtanjz"},"content":"        try {"},{"lineNumber":897,"author":{"gitId":"jonahtanjz"},"content":"          await page.generate(this.externalManager);"},{"lineNumber":898,"author":{"gitId":"jonahtanjz"},"content":"          Site.generateProgressBarStatus(progressBar, counter, pageGenerationQueue, pages, resolve);"},{"lineNumber":899,"author":{"gitId":"jonahtanjz"},"content":"        } catch (err) {"},{"lineNumber":900,"author":{"gitId":"-"},"content":"          logger.error(err);"},{"lineNumber":901,"author":{"gitId":"-"},"content":"          reject(new Error(`Error while generating ${page.sourcePath}`));"},{"lineNumber":902,"author":{"gitId":"jonahtanjz"},"content":"        }"},{"lineNumber":903,"author":{"gitId":"jonahtanjz"},"content":"      });"},{"lineNumber":904,"author":{"gitId":"-"},"content":""},{"lineNumber":905,"author":{"gitId":"-"},"content":"      /*"},{"lineNumber":906,"author":{"gitId":"-"},"content":"       Take the first MAX_CONCURRENT_PAGE_GENERATION_PROMISES callbacks and execute them."},{"lineNumber":907,"author":{"gitId":"-"},"content":"       Whenever a page generation callback resolves,"},{"lineNumber":908,"author":{"gitId":"-"},"content":"       it pops the next unprocessed callback off pageGenerationQueue and executes it."},{"lineNumber":909,"author":{"gitId":"-"},"content":"       */"},{"lineNumber":910,"author":{"gitId":"-"},"content":"      pageGenerationQueue.splice(0, MAX_CONCURRENT_PAGE_GENERATION_PROMISES)"},{"lineNumber":911,"author":{"gitId":"-"},"content":"        .forEach(generatePage \u003d\u003e generatePage());"},{"lineNumber":912,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":913,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":914,"author":{"gitId":"-"},"content":""},{"lineNumber":915,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":916,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for generatePagesThrottled()."},{"lineNumber":917,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":918,"author":{"gitId":"jonahtanjz"},"content":"  static generateProgressBarStatus(progressBar, counter, pageGenerationQueue, pages, resolve) {"},{"lineNumber":919,"author":{"gitId":"jonahtanjz"},"content":"    progressBar.tick();"},{"lineNumber":920,"author":{"gitId":"jonahtanjz"},"content":"    counter.numPagesGenerated +\u003d 1;"},{"lineNumber":921,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":922,"author":{"gitId":"jonahtanjz"},"content":"    if (pageGenerationQueue.length) {"},{"lineNumber":923,"author":{"gitId":"jonahtanjz"},"content":"      pageGenerationQueue.pop()();"},{"lineNumber":924,"author":{"gitId":"jonahtanjz"},"content":"    } else if (counter.numPagesGenerated \u003d\u003d\u003d pages.length) {"},{"lineNumber":925,"author":{"gitId":"jonahtanjz"},"content":"      resolve();"},{"lineNumber":926,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":927,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":928,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":929,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":930,"author":{"gitId":"-"},"content":"   * Renders all pages specified in site configuration file to the output folder"},{"lineNumber":931,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":932,"author":{"gitId":"-"},"content":"  generatePages() {"},{"lineNumber":933,"author":{"gitId":"-"},"content":"    // Run MarkBind include and render on each source file."},{"lineNumber":934,"author":{"gitId":"-"},"content":"    // Render the final rendered page to the output folder."},{"lineNumber":935,"author":{"gitId":"-"},"content":"    const addressablePages \u003d this.addressablePages || [];"},{"lineNumber":936,"author":{"gitId":"-"},"content":""},{"lineNumber":937,"author":{"gitId":"-"},"content":"    const faviconUrl \u003d this.getFavIconUrl();"},{"lineNumber":938,"author":{"gitId":"-"},"content":""},{"lineNumber":939,"author":{"gitId":"-"},"content":"    this._setTimestampVariable();"},{"lineNumber":940,"author":{"gitId":"-"},"content":"    this.mapAddressablePagesToPages(addressablePages, faviconUrl);"},{"lineNumber":941,"author":{"gitId":"-"},"content":""},{"lineNumber":942,"author":{"gitId":"-"},"content":"    return this.generatePagesThrottled(this.pages);"},{"lineNumber":943,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":944,"author":{"gitId":"-"},"content":""},{"lineNumber":945,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":946,"author":{"gitId":"-"},"content":"   * Renders only the starting page for lazy loading to the output folder."},{"lineNumber":947,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":948,"author":{"gitId":"jonahtanjz"},"content":"  async generateLandingPage() {"},{"lineNumber":949,"author":{"gitId":"-"},"content":"    const addressablePages \u003d this.addressablePages || [];"},{"lineNumber":950,"author":{"gitId":"-"},"content":"    const faviconUrl \u003d this.getFavIconUrl();"},{"lineNumber":951,"author":{"gitId":"-"},"content":""},{"lineNumber":952,"author":{"gitId":"-"},"content":"    this._setTimestampVariable();"},{"lineNumber":953,"author":{"gitId":"-"},"content":"    this.mapAddressablePagesToPages(addressablePages, faviconUrl);"},{"lineNumber":954,"author":{"gitId":"-"},"content":""},{"lineNumber":955,"author":{"gitId":"-"},"content":"    const landingPage \u003d this.pages.find(page \u003d\u003e page.pageConfig.src \u003d\u003d\u003d this.onePagePath);"},{"lineNumber":956,"author":{"gitId":"-"},"content":"    if (!landingPage) {"},{"lineNumber":957,"author":{"gitId":"jonahtanjz"},"content":"      throw new Error(`${this.onePagePath} is not specified in the site configuration.`);"},{"lineNumber":958,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":959,"author":{"gitId":"-"},"content":""},{"lineNumber":960,"author":{"gitId":"jonahtanjz"},"content":"    await landingPage.generate(this.externalManager);"},{"lineNumber":961,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":962,"author":{"gitId":"-"},"content":""},{"lineNumber":963,"author":{"gitId":"jonahtanjz"},"content":"  async regenerateAffectedPages(filePaths) {"},{"lineNumber":964,"author":{"gitId":"-"},"content":"    const startTime \u003d new Date();"},{"lineNumber":965,"author":{"gitId":"-"},"content":""},{"lineNumber":966,"author":{"gitId":"-"},"content":"    const shouldRebuildAllPages \u003d this.collectUserDefinedVariablesMapIfNeeded(filePaths) || this.forceReload;"},{"lineNumber":967,"author":{"gitId":"-"},"content":"    if (shouldRebuildAllPages) {"},{"lineNumber":968,"author":{"gitId":"-"},"content":"      logger.warn(\u0027Rebuilding all pages as variables file was changed, or the --force-reload flag was set\u0027);"},{"lineNumber":969,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":970,"author":{"gitId":"-"},"content":"    this._setTimestampVariable();"},{"lineNumber":971,"author":{"gitId":"-"},"content":"    const pagesToRegenerate \u003d this.pages.filter((page) \u003d\u003e {"},{"lineNumber":972,"author":{"gitId":"-"},"content":"      const doFilePathsHaveSourceFiles \u003d filePaths.some(filePath \u003d\u003e page.isDependency(filePath));"},{"lineNumber":973,"author":{"gitId":"-"},"content":""},{"lineNumber":974,"author":{"gitId":"-"},"content":"      if (shouldRebuildAllPages || doFilePathsHaveSourceFiles) {"},{"lineNumber":975,"author":{"gitId":"-"},"content":"        if (this.onePagePath) {"},{"lineNumber":976,"author":{"gitId":"-"},"content":"          const normalizedSource \u003d FsUtil.removeExtension(page.pageConfig.sourcePath);"},{"lineNumber":977,"author":{"gitId":"-"},"content":"          const isPageBeingViewed \u003d normalizedSource \u003d\u003d\u003d this.currentPageViewed;"},{"lineNumber":978,"author":{"gitId":"-"},"content":""},{"lineNumber":979,"author":{"gitId":"-"},"content":"          if (!isPageBeingViewed) {"},{"lineNumber":980,"author":{"gitId":"-"},"content":"            this.toRebuild.add(normalizedSource);"},{"lineNumber":981,"author":{"gitId":"-"},"content":"            return false;"},{"lineNumber":982,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":983,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":984,"author":{"gitId":"-"},"content":""},{"lineNumber":985,"author":{"gitId":"-"},"content":"        return true;"},{"lineNumber":986,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":987,"author":{"gitId":"-"},"content":""},{"lineNumber":988,"author":{"gitId":"-"},"content":"      return false;"},{"lineNumber":989,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":990,"author":{"gitId":"-"},"content":"    if (!pagesToRegenerate.length) {"},{"lineNumber":991,"author":{"gitId":"-"},"content":"      logger.info(\u0027No pages needed to be rebuilt\u0027);"},{"lineNumber":992,"author":{"gitId":"jonahtanjz"},"content":"      return;"},{"lineNumber":993,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":994,"author":{"gitId":"-"},"content":""},{"lineNumber":995,"author":{"gitId":"-"},"content":"    logger.info(`Rebuilding ${pagesToRegenerate.length} pages`);"},{"lineNumber":996,"author":{"gitId":"-"},"content":""},{"lineNumber":997,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":998,"author":{"gitId":"jonahtanjz"},"content":"      await this.generatePagesThrottled(pagesToRegenerate);"},{"lineNumber":999,"author":{"gitId":"jonahtanjz"},"content":"      await this.writeSiteData();"},{"lineNumber":1000,"author":{"gitId":"jonahtanjz"},"content":"      logger.info(\u0027Pages rebuilt\u0027);"},{"lineNumber":1001,"author":{"gitId":"jonahtanjz"},"content":"      this.calculateBuildTimeForRegenerateAffectedPages(startTime);"},{"lineNumber":1002,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":1003,"author":{"gitId":"jonahtanjz"},"content":"      await Site.rejectHandler(error, []);"},{"lineNumber":1004,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":1005,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":1006,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":1007,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":1008,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for regenerateAffectedPages()."},{"lineNumber":1009,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":1010,"author":{"gitId":"jonahtanjz"},"content":"  calculateBuildTimeForRegenerateAffectedPages(startTime) {"},{"lineNumber":1011,"author":{"gitId":"-"},"content":"    const endTime \u003d new Date();"},{"lineNumber":1012,"author":{"gitId":"-"},"content":"    const totalBuildTime \u003d (endTime - startTime) / 1000;"},{"lineNumber":1013,"author":{"gitId":"-"},"content":"    logger.info(`Website regeneration complete! Total build time: ${totalBuildTime}s`);"},{"lineNumber":1014,"author":{"gitId":"-"},"content":"    if (!this.onePagePath \u0026\u0026 totalBuildTime \u003e LAZY_LOADING_REBUILD_TIME_RECOMMENDATION_LIMIT) {"},{"lineNumber":1015,"author":{"gitId":"-"},"content":"      logger.info(\u0027Your pages took quite a while to rebuild...\u0027"},{"lineNumber":1016,"author":{"gitId":"-"},"content":"          + \u0027Have you considered using markbind serve -o when writing content to speed things up?\u0027);"},{"lineNumber":1017,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":1018,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":1019,"author":{"gitId":"-"},"content":""},{"lineNumber":1020,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":1021,"author":{"gitId":"-"},"content":"   * Copies Font Awesome assets to the assets folder"},{"lineNumber":1022,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":1023,"author":{"gitId":"jonahtanjz"},"content":"  async copyFontAwesomeAsset() {"},{"lineNumber":1024,"author":{"gitId":"-"},"content":"    const faRootSrcPath \u003d path.dirname(require.resolve(\u0027@fortawesome/fontawesome-free/package.json\u0027));"},{"lineNumber":1025,"author":{"gitId":"-"},"content":"    const faCssSrcPath \u003d path.join(faRootSrcPath, \u0027css\u0027, \u0027all.min.css\u0027);"},{"lineNumber":1026,"author":{"gitId":"-"},"content":"    const faCssDestPath \u003d path.join(this.siteAssetsDestPath, \u0027fontawesome\u0027, \u0027css\u0027, \u0027all.min.css\u0027);"},{"lineNumber":1027,"author":{"gitId":"-"},"content":"    const faFontsSrcPath \u003d path.join(faRootSrcPath, \u0027webfonts\u0027);"},{"lineNumber":1028,"author":{"gitId":"-"},"content":"    const faFontsDestPath \u003d path.join(this.siteAssetsDestPath, \u0027fontawesome\u0027, \u0027webfonts\u0027);"},{"lineNumber":1029,"author":{"gitId":"-"},"content":""},{"lineNumber":1030,"author":{"gitId":"jonahtanjz"},"content":"    await fs.copy(faCssSrcPath, faCssDestPath);"},{"lineNumber":1031,"author":{"gitId":"jonahtanjz"},"content":"    await fs.copy(faFontsSrcPath, faFontsDestPath);"},{"lineNumber":1032,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":1033,"author":{"gitId":"-"},"content":""},{"lineNumber":1034,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":1035,"author":{"gitId":"-"},"content":"   * Copies Octicon assets to the assets folder"},{"lineNumber":1036,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":1037,"author":{"gitId":"-"},"content":"  copyOcticonsAsset() {"},{"lineNumber":1038,"author":{"gitId":"-"},"content":"    const octiconsCssSrcPath \u003d require.resolve(\u0027@primer/octicons/build/build.css\u0027);"},{"lineNumber":1039,"author":{"gitId":"-"},"content":"    const octiconsCssDestPath \u003d path.join(this.siteAssetsDestPath, \u0027css\u0027, \u0027octicons.css\u0027);"},{"lineNumber":1040,"author":{"gitId":"-"},"content":""},{"lineNumber":1041,"author":{"gitId":"-"},"content":"    return fs.copy(octiconsCssSrcPath, octiconsCssDestPath);"},{"lineNumber":1042,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":1043,"author":{"gitId":"-"},"content":""},{"lineNumber":1044,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":1045,"author":{"gitId":"-"},"content":"   * Copies core-web bundles and external assets to the assets output folder"},{"lineNumber":1046,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":1047,"author":{"gitId":"-"},"content":"  copyCoreWebAsset() {"},{"lineNumber":1048,"author":{"gitId":"-"},"content":"    const coreWebRootPath \u003d path.dirname(require.resolve(\u0027@markbind/core-web/package.json\u0027));"},{"lineNumber":1049,"author":{"gitId":"-"},"content":"    const coreWebAssetPath \u003d path.join(coreWebRootPath, \u0027asset\u0027);"},{"lineNumber":1050,"author":{"gitId":"-"},"content":"    fs.copySync(coreWebAssetPath, this.siteAssetsDestPath);"},{"lineNumber":1051,"author":{"gitId":"-"},"content":""},{"lineNumber":1052,"author":{"gitId":"-"},"content":"    const dirsToCopy \u003d [\u0027fonts\u0027];"},{"lineNumber":1053,"author":{"gitId":"-"},"content":"    const filesToCopy \u003d ["},{"lineNumber":1054,"author":{"gitId":"-"},"content":"      \u0027js/markbind.min.js\u0027,"},{"lineNumber":1055,"author":{"gitId":"-"},"content":"      \u0027css/markbind.min.css\u0027,"},{"lineNumber":1056,"author":{"gitId":"-"},"content":"    ];"},{"lineNumber":1057,"author":{"gitId":"-"},"content":""},{"lineNumber":1058,"author":{"gitId":"-"},"content":"    const copyAllFiles \u003d filesToCopy.map((file) \u003d\u003e {"},{"lineNumber":1059,"author":{"gitId":"-"},"content":"      const srcPath \u003d path.join(coreWebRootPath, \u0027dist\u0027, file);"},{"lineNumber":1060,"author":{"gitId":"-"},"content":"      const destPath \u003d path.join(this.siteAssetsDestPath, file);"},{"lineNumber":1061,"author":{"gitId":"-"},"content":"      return fs.copy(srcPath, destPath);"},{"lineNumber":1062,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":1063,"author":{"gitId":"-"},"content":""},{"lineNumber":1064,"author":{"gitId":"-"},"content":"    const copyFontsDir \u003d dirsToCopy.map((dir) \u003d\u003e {"},{"lineNumber":1065,"author":{"gitId":"-"},"content":"      const srcPath \u003d path.join(coreWebRootPath, \u0027dist\u0027, dir);"},{"lineNumber":1066,"author":{"gitId":"-"},"content":"      const destPath \u003d path.join(this.siteAssetsDestPath, \u0027css\u0027, dir);"},{"lineNumber":1067,"author":{"gitId":"-"},"content":"      return fs.copy(srcPath, destPath);"},{"lineNumber":1068,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":1069,"author":{"gitId":"-"},"content":""},{"lineNumber":1070,"author":{"gitId":"-"},"content":"    return Promise.all([...copyAllFiles, ...copyFontsDir]);"},{"lineNumber":1071,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":1072,"author":{"gitId":"-"},"content":""},{"lineNumber":1073,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":1074,"author":{"gitId":"-"},"content":"   * Copies bootswatch theme to the assets folder if a valid theme is specified"},{"lineNumber":1075,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":1076,"author":{"gitId":"-"},"content":"  copyBootswatchTheme() {"},{"lineNumber":1077,"author":{"gitId":"-"},"content":"    const { theme } \u003d this.siteConfig;"},{"lineNumber":1078,"author":{"gitId":"-"},"content":"    if (!theme || !_.has(SUPPORTED_THEMES_PATHS, theme)) {"},{"lineNumber":1079,"author":{"gitId":"-"},"content":"      return _.noop;"},{"lineNumber":1080,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":1081,"author":{"gitId":"-"},"content":""},{"lineNumber":1082,"author":{"gitId":"-"},"content":"    const themeSrcPath \u003d SUPPORTED_THEMES_PATHS[theme];"},{"lineNumber":1083,"author":{"gitId":"-"},"content":"    const themeDestPath \u003d path.join(this.siteAssetsDestPath, \u0027css\u0027, \u0027bootstrap.min.css\u0027);"},{"lineNumber":1084,"author":{"gitId":"-"},"content":""},{"lineNumber":1085,"author":{"gitId":"-"},"content":"    return fs.copy(themeSrcPath, themeDestPath);"},{"lineNumber":1086,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":1087,"author":{"gitId":"-"},"content":""},{"lineNumber":1088,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":1089,"author":{"gitId":"-"},"content":"   * Writes the site data to siteData.json"},{"lineNumber":1090,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":1091,"author":{"gitId":"jonahtanjz"},"content":"  async writeSiteData() {"},{"lineNumber":1092,"author":{"gitId":"-"},"content":"    const siteDataPath \u003d path.join(this.outputPath, SITE_DATA_NAME);"},{"lineNumber":1093,"author":{"gitId":"-"},"content":"    const siteData \u003d {"},{"lineNumber":1094,"author":{"gitId":"-"},"content":"      enableSearch: this.siteConfig.enableSearch,"},{"lineNumber":1095,"author":{"gitId":"-"},"content":"      pages: this.pages.filter(page \u003d\u003e page.pageConfig.searchable \u0026\u0026 page.headings)"},{"lineNumber":1096,"author":{"gitId":"-"},"content":"        .map(page \u003d\u003e ({"},{"lineNumber":1097,"author":{"gitId":"-"},"content":"          src: page.pageConfig.src,"},{"lineNumber":1098,"author":{"gitId":"-"},"content":"          title: page.title,"},{"lineNumber":1099,"author":{"gitId":"-"},"content":"          headings: page.headings,"},{"lineNumber":1100,"author":{"gitId":"-"},"content":"          headingKeywords: page.keywords,"},{"lineNumber":1101,"author":{"gitId":"-"},"content":"        })),"},{"lineNumber":1102,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":1103,"author":{"gitId":"-"},"content":""},{"lineNumber":1104,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":1105,"author":{"gitId":"jonahtanjz"},"content":"      await fs.outputJson(siteDataPath, siteData, { spaces: 2 });"},{"lineNumber":1106,"author":{"gitId":"jonahtanjz"},"content":"      logger.info(\u0027Site data built\u0027);"},{"lineNumber":1107,"author":{"gitId":"jonahtanjz"},"content":"    } catch (error) {"},{"lineNumber":1108,"author":{"gitId":"jonahtanjz"},"content":"      await Site.rejectHandler(error, [this.tempPath, this.outputPath]);"},{"lineNumber":1109,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":1110,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":1111,"author":{"gitId":"-"},"content":""},{"lineNumber":1112,"author":{"gitId":"raysonkoh"},"content":"  deploy(ciTokenVar) {"},{"lineNumber":1113,"author":{"gitId":"-"},"content":"    const defaultDeployConfig \u003d {"},{"lineNumber":1114,"author":{"gitId":"-"},"content":"      branch: \u0027gh-pages\u0027,"},{"lineNumber":1115,"author":{"gitId":"-"},"content":"      message: \u0027Site Update.\u0027,"},{"lineNumber":1116,"author":{"gitId":"-"},"content":"      repo: \u0027\u0027,"},{"lineNumber":1117,"author":{"gitId":"-"},"content":"      remote: \u0027origin\u0027,"},{"lineNumber":1118,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":1119,"author":{"gitId":"-"},"content":"    process.env.NODE_DEBUG \u003d \u0027gh-pages\u0027;"},{"lineNumber":1120,"author":{"gitId":"raysonkoh"},"content":"    return this.generateDepUrl(ciTokenVar, defaultDeployConfig);"},{"lineNumber":1121,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":1122,"author":{"gitId":"-"},"content":""},{"lineNumber":1123,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":1124,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for deploy()."},{"lineNumber":1125,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":1126,"author":{"gitId":"raysonkoh"},"content":"  async generateDepUrl(ciTokenVar, defaultDeployConfig) {"},{"lineNumber":1127,"author":{"gitId":"-"},"content":"    const publish \u003d Promise.promisify(ghpages.publish);"},{"lineNumber":1128,"author":{"gitId":"jonahtanjz"},"content":"    await this.readSiteConfig();"},{"lineNumber":1129,"author":{"gitId":"raysonkoh"},"content":"    const depOptions \u003d await this.getDepOptions(ciTokenVar, defaultDeployConfig, publish);"},{"lineNumber":1130,"author":{"gitId":"jonahtanjz"},"content":"    return Site.getDepUrl(depOptions, defaultDeployConfig);"},{"lineNumber":1131,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":1132,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":1133,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":1134,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for deploy()."},{"lineNumber":1135,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":1136,"author":{"gitId":"raysonkoh"},"content":"  async getDepOptions(ciTokenVar, defaultDeployConfig, publish) {"},{"lineNumber":1137,"author":{"gitId":"-"},"content":"    const basePath \u003d this.siteConfig.deploy.baseDir || this.outputPath;"},{"lineNumber":1138,"author":{"gitId":"-"},"content":"    if (!fs.existsSync(basePath)) {"},{"lineNumber":1139,"author":{"gitId":"jonahtanjz"},"content":"      throw new Error("},{"lineNumber":1140,"author":{"gitId":"jonahtanjz"},"content":"        \u0027The site directory does not exist. Please build the site first before deploy.\u0027);"},{"lineNumber":1141,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":1142,"author":{"gitId":"-"},"content":"    const options \u003d {};"},{"lineNumber":1143,"author":{"gitId":"-"},"content":"    options.branch \u003d this.siteConfig.deploy.branch || defaultDeployConfig.branch;"},{"lineNumber":1144,"author":{"gitId":"-"},"content":"    options.message \u003d this.siteConfig.deploy.message || defaultDeployConfig.message;"},{"lineNumber":1145,"author":{"gitId":"-"},"content":"    options.repo \u003d this.siteConfig.deploy.repo || defaultDeployConfig.repo;"},{"lineNumber":1146,"author":{"gitId":"-"},"content":""},{"lineNumber":1147,"author":{"gitId":"raysonkoh"},"content":"    if (ciTokenVar) {"},{"lineNumber":1148,"author":{"gitId":"raysonkoh"},"content":"      const ciToken \u003d _.isBoolean(ciTokenVar) ? \u0027GITHUB_TOKEN\u0027 : ciTokenVar;"},{"lineNumber":1149,"author":{"gitId":"raysonkoh"},"content":"      if (!process.env[ciToken]) {"},{"lineNumber":1150,"author":{"gitId":"raysonkoh"},"content":"        throw new Error(`The environment variable ${ciToken} does not exist.`);"},{"lineNumber":1151,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":1152,"author":{"gitId":"raysonkoh"},"content":"      const githubToken \u003d process.env[ciToken];"},{"lineNumber":1153,"author":{"gitId":"raysonkoh"},"content":"      let repoSlug;"},{"lineNumber":1154,"author":{"gitId":"-"},"content":""},{"lineNumber":1155,"author":{"gitId":"raysonkoh"},"content":"      if (process.env.TRAVIS) {"},{"lineNumber":1156,"author":{"gitId":"-"},"content":"        if (options.repo) {"},{"lineNumber":1157,"author":{"gitId":"raysonkoh"},"content":"          repoSlug \u003d Site.extractRepoSlug(options.repo);"},{"lineNumber":1158,"author":{"gitId":"raysonkoh"},"content":"        } else {"},{"lineNumber":1159,"author":{"gitId":"raysonkoh"},"content":"          repoSlug \u003d process.env.TRAVIS_REPO_SLUG;"},{"lineNumber":1160,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":1161,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":1162,"author":{"gitId":"-"},"content":"        options.user \u003d {"},{"lineNumber":1163,"author":{"gitId":"-"},"content":"          name: \u0027Deployment Bot\u0027,"},{"lineNumber":1164,"author":{"gitId":"-"},"content":"          email: \u0027deploy@travis-ci.org\u0027,"},{"lineNumber":1165,"author":{"gitId":"-"},"content":"        };"},{"lineNumber":1166,"author":{"gitId":"raysonkoh"},"content":"      } else if (process.env.APPVEYOR) {"},{"lineNumber":1167,"author":{"gitId":"raysonkoh"},"content":"        if (options.repo) {"},{"lineNumber":1168,"author":{"gitId":"raysonkoh"},"content":"          repoSlug \u003d Site.extractRepoSlug(options.repo);"},{"lineNumber":1169,"author":{"gitId":"raysonkoh"},"content":"        } else {"},{"lineNumber":1170,"author":{"gitId":"raysonkoh"},"content":"          repoSlug \u003d process.env.APPVEYOR_REPO_NAME;"},{"lineNumber":1171,"author":{"gitId":"raysonkoh"},"content":"        }"},{"lineNumber":1172,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":1173,"author":{"gitId":"raysonkoh"},"content":"        options.user \u003d {"},{"lineNumber":1174,"author":{"gitId":"raysonkoh"},"content":"          name: \u0027AppVeyorBot\u0027,"},{"lineNumber":1175,"author":{"gitId":"raysonkoh"},"content":"          email: \u0027deploy@appveyor.com\u0027,"},{"lineNumber":1176,"author":{"gitId":"raysonkoh"},"content":"        };"},{"lineNumber":1177,"author":{"gitId":"raysonkoh"},"content":"      } else if (process.env.GITHUB_ACTIONS) {"},{"lineNumber":1178,"author":{"gitId":"raysonkoh"},"content":"        if (options.repo) {"},{"lineNumber":1179,"author":{"gitId":"raysonkoh"},"content":"          repoSlug \u003d Site.extractRepoSlug(options.repo);"},{"lineNumber":1180,"author":{"gitId":"raysonkoh"},"content":"        } else {"},{"lineNumber":1181,"author":{"gitId":"raysonkoh"},"content":"          repoSlug \u003d process.env.GITHUB_REPOSITORY;"},{"lineNumber":1182,"author":{"gitId":"raysonkoh"},"content":"        }"},{"lineNumber":1183,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":1184,"author":{"gitId":"raysonkoh"},"content":"        options.user \u003d {"},{"lineNumber":1185,"author":{"gitId":"raysonkoh"},"content":"          name: \u0027github-actions\u0027,"},{"lineNumber":1186,"author":{"gitId":"raysonkoh"},"content":"          email: \u0027github-actions@github.com\u0027,"},{"lineNumber":1187,"author":{"gitId":"raysonkoh"},"content":"        };"},{"lineNumber":1188,"author":{"gitId":"raysonkoh"},"content":"      } else {"},{"lineNumber":1189,"author":{"gitId":"raysonkoh"},"content":"        throw new Error(\u0027-c/--ci should only be run in CI environments.\u0027);"},{"lineNumber":1190,"author":{"gitId":"raysonkoh"},"content":"      }"},{"lineNumber":1191,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":1192,"author":{"gitId":"raysonkoh"},"content":"      options.repo \u003d `https://x-access-token:${githubToken}@github.com/${repoSlug}.git`;"},{"lineNumber":1193,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":1194,"author":{"gitId":"-"},"content":""},{"lineNumber":1195,"author":{"gitId":"-"},"content":"    publish(basePath, options);"},{"lineNumber":1196,"author":{"gitId":"-"},"content":"    return options;"},{"lineNumber":1197,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":1198,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":1199,"author":{"gitId":"raysonkoh"},"content":"  /**"},{"lineNumber":1200,"author":{"gitId":"raysonkoh"},"content":"   * Extract repo slug from user-specified repo URL so that we can include the access token"},{"lineNumber":1201,"author":{"gitId":"raysonkoh"},"content":"   */"},{"lineNumber":1202,"author":{"gitId":"raysonkoh"},"content":"  static extractRepoSlug(repo) {"},{"lineNumber":1203,"author":{"gitId":"raysonkoh"},"content":"    const repoSlugRegex \u003d /github\\.com[:/]([\\w-]+\\/[\\w-.]+)\\.git$/;"},{"lineNumber":1204,"author":{"gitId":"raysonkoh"},"content":"    const repoSlugMatch \u003d repoSlugRegex.exec(repo);"},{"lineNumber":1205,"author":{"gitId":"raysonkoh"},"content":"    if (!repoSlugMatch) {"},{"lineNumber":1206,"author":{"gitId":"raysonkoh"},"content":"      throw new Error(\u0027-c/--ci expects a GitHub repository.\\n\u0027"},{"lineNumber":1207,"author":{"gitId":"raysonkoh"},"content":"            + `The specified repository ${repo} is not valid.`);"},{"lineNumber":1208,"author":{"gitId":"raysonkoh"},"content":"    }"},{"lineNumber":1209,"author":{"gitId":"raysonkoh"},"content":"    const [, repoSlug] \u003d repoSlugMatch;"},{"lineNumber":1210,"author":{"gitId":"raysonkoh"},"content":"    return repoSlug;"},{"lineNumber":1211,"author":{"gitId":"raysonkoh"},"content":"  }"},{"lineNumber":1212,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":1213,"author":{"gitId":"jonahtanjz"},"content":"  /**"},{"lineNumber":1214,"author":{"gitId":"jonahtanjz"},"content":"   * Helper function for deploy()."},{"lineNumber":1215,"author":{"gitId":"jonahtanjz"},"content":"   */"},{"lineNumber":1216,"author":{"gitId":"jonahtanjz"},"content":"  static getDepUrl(options, defaultDeployConfig) {"},{"lineNumber":1217,"author":{"gitId":"-"},"content":"    const git \u003d simpleGit({ baseDir: process.cwd() });"},{"lineNumber":1218,"author":{"gitId":"-"},"content":"    options.remote \u003d defaultDeployConfig.remote;"},{"lineNumber":1219,"author":{"gitId":"-"},"content":"    return Site.getDeploymentUrl(git, options);"},{"lineNumber":1220,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":1221,"author":{"gitId":"-"},"content":""},{"lineNumber":1222,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":1223,"author":{"gitId":"-"},"content":"   * Gets the deployed website\u0027s url, returning null if there was an error retrieving it."},{"lineNumber":1224,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":1225,"author":{"gitId":"jonahtanjz"},"content":"  static async getDeploymentUrl(git, options) {"},{"lineNumber":1226,"author":{"gitId":"-"},"content":"    const HTTPS_PREAMBLE \u003d \u0027https://\u0027;"},{"lineNumber":1227,"author":{"gitId":"-"},"content":"    const SSH_PREAMBLE \u003d \u0027git@github.com:\u0027;"},{"lineNumber":1228,"author":{"gitId":"-"},"content":"    const GITHUB_IO_PART \u003d \u0027github.io\u0027;"},{"lineNumber":1229,"author":{"gitId":"-"},"content":""},{"lineNumber":1230,"author":{"gitId":"-"},"content":"    // https://\u003cname|org name\u003e.github.io/\u003crepo name\u003e/"},{"lineNumber":1231,"author":{"gitId":"-"},"content":"    function constructGhPagesUrl(remoteUrl) {"},{"lineNumber":1232,"author":{"gitId":"-"},"content":"      if (!remoteUrl) {"},{"lineNumber":1233,"author":{"gitId":"-"},"content":"        return null;"},{"lineNumber":1234,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":1235,"author":{"gitId":"-"},"content":"      const parts \u003d remoteUrl.split(\u0027/\u0027);"},{"lineNumber":1236,"author":{"gitId":"-"},"content":"      if (remoteUrl.startsWith(HTTPS_PREAMBLE)) {"},{"lineNumber":1237,"author":{"gitId":"-"},"content":"        // https://github.com/\u003cname|org\u003e/\u003crepo\u003e.git (HTTPS)"},{"lineNumber":1238,"author":{"gitId":"-"},"content":"        const repoNameWithExt \u003d parts[parts.length - 1];"},{"lineNumber":1239,"author":{"gitId":"-"},"content":"        const repoName \u003d repoNameWithExt.substring(0, repoNameWithExt.lastIndexOf(\u0027.\u0027));"},{"lineNumber":1240,"author":{"gitId":"-"},"content":"        const name \u003d parts[parts.length - 2].toLowerCase();"},{"lineNumber":1241,"author":{"gitId":"-"},"content":"        return `https://${name}.${GITHUB_IO_PART}/${repoName}`;"},{"lineNumber":1242,"author":{"gitId":"-"},"content":"      } else if (remoteUrl.startsWith(SSH_PREAMBLE)) {"},{"lineNumber":1243,"author":{"gitId":"-"},"content":"        // git@github.com:\u003cname|org\u003e/\u003crepo\u003e.git (SSH)"},{"lineNumber":1244,"author":{"gitId":"-"},"content":"        const repoNameWithExt \u003d parts[parts.length - 1];"},{"lineNumber":1245,"author":{"gitId":"-"},"content":"        const repoName \u003d repoNameWithExt.substring(0, repoNameWithExt.lastIndexOf(\u0027.\u0027));"},{"lineNumber":1246,"author":{"gitId":"-"},"content":"        const name \u003d parts[0].substring(SSH_PREAMBLE.length);"},{"lineNumber":1247,"author":{"gitId":"-"},"content":"        return `https://${name}.${GITHUB_IO_PART}/${repoName}`;"},{"lineNumber":1248,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":1249,"author":{"gitId":"-"},"content":"      return null;"},{"lineNumber":1250,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":1251,"author":{"gitId":"-"},"content":""},{"lineNumber":1252,"author":{"gitId":"-"},"content":"    const { remote, branch, repo } \u003d options;"},{"lineNumber":1253,"author":{"gitId":"-"},"content":"    const cnamePromise \u003d gitUtil.getRemoteBranchFile(git, \u0027blob\u0027, remote, branch, \u0027CNAME\u0027);"},{"lineNumber":1254,"author":{"gitId":"-"},"content":"    const remoteUrlPromise \u003d gitUtil.getRemoteUrl(git, remote);"},{"lineNumber":1255,"author":{"gitId":"-"},"content":"    const promises \u003d [cnamePromise, remoteUrlPromise];"},{"lineNumber":1256,"author":{"gitId":"-"},"content":""},{"lineNumber":1257,"author":{"gitId":"jonahtanjz"},"content":"    try {"},{"lineNumber":1258,"author":{"gitId":"jonahtanjz"},"content":"      const promiseResults \u003d await Promise.all(promises);"},{"lineNumber":1259,"author":{"gitId":"jonahtanjz"},"content":"      const generateGhPagesUrl \u003d (results) \u003d\u003e {"},{"lineNumber":1260,"author":{"gitId":"-"},"content":"        const cname \u003d results[0];"},{"lineNumber":1261,"author":{"gitId":"-"},"content":"        const remoteUrl \u003d results[1];"},{"lineNumber":1262,"author":{"gitId":"-"},"content":"        if (cname) {"},{"lineNumber":1263,"author":{"gitId":"-"},"content":"          return cname.trim();"},{"lineNumber":1264,"author":{"gitId":"-"},"content":"        } else if (repo) {"},{"lineNumber":1265,"author":{"gitId":"-"},"content":"          return constructGhPagesUrl(repo);"},{"lineNumber":1266,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":1267,"author":{"gitId":"-"},"content":"        return constructGhPagesUrl(remoteUrl.trim());"},{"lineNumber":1268,"author":{"gitId":"jonahtanjz"},"content":"      };"},{"lineNumber":1269,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":1270,"author":{"gitId":"jonahtanjz"},"content":"      return generateGhPagesUrl(promiseResults);"},{"lineNumber":1271,"author":{"gitId":"jonahtanjz"},"content":"    } catch (err) {"},{"lineNumber":1272,"author":{"gitId":"-"},"content":"      logger.error(err);"},{"lineNumber":1273,"author":{"gitId":"-"},"content":"      return null;"},{"lineNumber":1274,"author":{"gitId":"jonahtanjz"},"content":"    }"},{"lineNumber":1275,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":1276,"author":{"gitId":"-"},"content":""},{"lineNumber":1277,"author":{"gitId":"-"},"content":"  _setTimestampVariable() {"},{"lineNumber":1278,"author":{"gitId":"-"},"content":"    const options \u003d {"},{"lineNumber":1279,"author":{"gitId":"-"},"content":"      weekday: \u0027short\u0027,"},{"lineNumber":1280,"author":{"gitId":"-"},"content":"      year: \u0027numeric\u0027,"},{"lineNumber":1281,"author":{"gitId":"-"},"content":"      month: \u0027short\u0027,"},{"lineNumber":1282,"author":{"gitId":"-"},"content":"      day: \u0027numeric\u0027,"},{"lineNumber":1283,"author":{"gitId":"-"},"content":"      timeZone: this.siteConfig.timeZone,"},{"lineNumber":1284,"author":{"gitId":"-"},"content":"      timeZoneName: \u0027short\u0027,"},{"lineNumber":1285,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":1286,"author":{"gitId":"-"},"content":"    const time \u003d new Date().toLocaleTimeString(this.siteConfig.locale, options);"},{"lineNumber":1287,"author":{"gitId":"-"},"content":"    this.variableProcessor.addUserDefinedVariableForAllSites(\u0027timestamp\u0027, time);"},{"lineNumber":1288,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":1289,"author":{"gitId":"-"},"content":"}"},{"lineNumber":1290,"author":{"gitId":"-"},"content":""},{"lineNumber":1291,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":1292,"author":{"gitId":"-"},"content":" * Below are functions that are not compatible with the ES6 class syntax."},{"lineNumber":1293,"author":{"gitId":"-"},"content":" */"},{"lineNumber":1294,"author":{"gitId":"-"},"content":""},{"lineNumber":1295,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":1296,"author":{"gitId":"-"},"content":" * Build/copy assets that are specified in filePaths"},{"lineNumber":1297,"author":{"gitId":"-"},"content":" * @param filePaths a single path or an array of paths corresponding to the assets to build"},{"lineNumber":1298,"author":{"gitId":"-"},"content":" */"},{"lineNumber":1299,"author":{"gitId":"-"},"content":"Site.prototype.buildAsset \u003d delay(Site.prototype._buildMultipleAssets, 1000);"},{"lineNumber":1300,"author":{"gitId":"-"},"content":""},{"lineNumber":1301,"author":{"gitId":"-"},"content":"Site.prototype.rebuildPageBeingViewed \u003d delay(Site.prototype._rebuildPageBeingViewed, 1000);"},{"lineNumber":1302,"author":{"gitId":"-"},"content":""},{"lineNumber":1303,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":1304,"author":{"gitId":"-"},"content":" * Rebuild pages that are affected by changes in filePaths"},{"lineNumber":1305,"author":{"gitId":"-"},"content":" * @param filePaths a single path or an array of paths corresponding to the files that have changed"},{"lineNumber":1306,"author":{"gitId":"-"},"content":" */"},{"lineNumber":1307,"author":{"gitId":"-"},"content":"Site.prototype.rebuildAffectedSourceFiles \u003d delay(Site.prototype._rebuildAffectedSourceFiles, 1000);"},{"lineNumber":1308,"author":{"gitId":"-"},"content":""},{"lineNumber":1309,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":1310,"author":{"gitId":"-"},"content":" * Rebuild all pages"},{"lineNumber":1311,"author":{"gitId":"-"},"content":" * @param filePaths a single path or an array of paths corresponding to the files that have changed"},{"lineNumber":1312,"author":{"gitId":"-"},"content":" */"},{"lineNumber":1313,"author":{"gitId":"-"},"content":"Site.prototype.rebuildSourceFiles \u003d delay(Site.prototype._rebuildSourceFiles, 1000);"},{"lineNumber":1314,"author":{"gitId":"-"},"content":""},{"lineNumber":1315,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":1316,"author":{"gitId":"-"},"content":" * Remove assets that are specified in filePaths"},{"lineNumber":1317,"author":{"gitId":"-"},"content":" * @param filePaths a single path or an array of paths corresponding to the assets to remove"},{"lineNumber":1318,"author":{"gitId":"-"},"content":" */"},{"lineNumber":1319,"author":{"gitId":"-"},"content":"Site.prototype.removeAsset \u003d delay(Site.prototype._removeMultipleAssets, 1000);"},{"lineNumber":1320,"author":{"gitId":"-"},"content":""},{"lineNumber":1321,"author":{"gitId":"-"},"content":"module.exports \u003d Site;"}],"authorContributionMap":{"raysonkoh":57,"wxwxwxwx9":2,"jonahtanjz":228,"-":1034}},{"path":"packages/core/src/html/Context.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const CyclicReferenceError \u003d require(\u0027../errors/CyclicReferenceError\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"class Context {"},{"lineNumber":4,"author":{"gitId":"ryoarmanda"},"content":"  constructor(cwf, callStack, variables, processingOptions) {"},{"lineNumber":5,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":6,"author":{"gitId":"-"},"content":"     * @type {string}"},{"lineNumber":7,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":8,"author":{"gitId":"-"},"content":"    this.cwf \u003d cwf;"},{"lineNumber":9,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":10,"author":{"gitId":"-"},"content":"     * Array of cwfs file paths processed so far"},{"lineNumber":11,"author":{"gitId":"-"},"content":"     * @type {Array\u003cstring\u003e}"},{"lineNumber":12,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":13,"author":{"gitId":"-"},"content":"    this.callStack \u003d callStack;"},{"lineNumber":14,"author":{"gitId":"-"},"content":"    /**"},{"lineNumber":15,"author":{"gitId":"-"},"content":"     * @type {Object}"},{"lineNumber":16,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    this.variables \u003d variables;"},{"lineNumber":18,"author":{"gitId":"ryoarmanda"},"content":"    /**"},{"lineNumber":19,"author":{"gitId":"ryoarmanda"},"content":"     * @type {Object}"},{"lineNumber":20,"author":{"gitId":"ryoarmanda"},"content":"     */"},{"lineNumber":21,"author":{"gitId":"ryoarmanda"},"content":"    this.processingOptions \u003d processingOptions || {};"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":23,"author":{"gitId":"-"},"content":""},{"lineNumber":24,"author":{"gitId":"-"},"content":"  addCwfToCallstack(cwf) {"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    this.callStack.push(cwf);"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":27,"author":{"gitId":"-"},"content":""},{"lineNumber":28,"author":{"gitId":"-"},"content":"  hasExceededMaxCallstackSize() {"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    return this.callStack.length \u003e CyclicReferenceError.MAX_RECURSIVE_DEPTH;"},{"lineNumber":30,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":31,"author":{"gitId":"-"},"content":""},{"lineNumber":32,"author":{"gitId":"-"},"content":"  clone() {"},{"lineNumber":33,"author":{"gitId":"ryoarmanda"},"content":"    return new Context(this.cwf, this.callStack.map(cwf \u003d\u003e cwf), this.variables, this.processingOptions);"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":35,"author":{"gitId":"-"},"content":"}"},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"module.exports \u003d {"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  Context,"},{"lineNumber":39,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"-":33,"ryoarmanda":6}},{"path":"packages/core/src/html/NodeProcessor.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const cheerio \u003d require(\u0027cheerio\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const htmlparser \u003d require(\u0027htmlparser2\u0027); require(\u0027../patches/htmlparser2\u0027);"},{"lineNumber":3,"author":{"gitId":"-"},"content":"const fm \u003d require(\u0027fastmatter\u0027);"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const Promise \u003d require(\u0027bluebird\u0027);"},{"lineNumber":5,"author":{"gitId":"-"},"content":"const slugify \u003d require(\u0027@sindresorhus/slugify\u0027);"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"const _ \u003d {};"},{"lineNumber":8,"author":{"gitId":"-"},"content":"_.isArray \u003d require(\u0027lodash/isArray\u0027);"},{"lineNumber":9,"author":{"gitId":"-"},"content":"_.cloneDeep \u003d require(\u0027lodash/cloneDeep\u0027);"},{"lineNumber":10,"author":{"gitId":"-"},"content":"_.has \u003d require(\u0027lodash/has\u0027);"},{"lineNumber":11,"author":{"gitId":"wxwxwxwx9"},"content":"_.find \u003d require(\u0027lodash/find\u0027);"},{"lineNumber":12,"author":{"gitId":"-"},"content":""},{"lineNumber":13,"author":{"gitId":"-"},"content":"const { renderSiteNav } \u003d require(\u0027./siteNavProcessor\u0027);"},{"lineNumber":14,"author":{"gitId":"-"},"content":"const { processInclude, processPanelSrc } \u003d require(\u0027./includePanelProcessor\u0027);"},{"lineNumber":15,"author":{"gitId":"-"},"content":"const { Context } \u003d require(\u0027./Context\u0027);"},{"lineNumber":16,"author":{"gitId":"-"},"content":"const linkProcessor \u003d require(\u0027./linkProcessor\u0027);"},{"lineNumber":17,"author":{"gitId":"-"},"content":"const { insertTemporaryStyles } \u003d require(\u0027./tempStyleProcessor\u0027);"},{"lineNumber":18,"author":{"gitId":"-"},"content":""},{"lineNumber":19,"author":{"gitId":"-"},"content":"const md \u003d require(\u0027../lib/markdown-it\u0027);"},{"lineNumber":20,"author":{"gitId":"-"},"content":"const utils \u003d require(\u0027../utils\u0027);"},{"lineNumber":21,"author":{"gitId":"-"},"content":"const logger \u003d require(\u0027../utils/logger\u0027);"},{"lineNumber":22,"author":{"gitId":"-"},"content":""},{"lineNumber":23,"author":{"gitId":"-"},"content":"const { FRONT_MATTER_FENCE } \u003d require(\u0027../Page/constants\u0027);"},{"lineNumber":24,"author":{"gitId":"-"},"content":"const { MARKBIND_FOOTNOTE_POPOVER_ID_PREFIX } \u003d require(\u0027./constants\u0027);"},{"lineNumber":25,"author":{"gitId":"-"},"content":""},{"lineNumber":26,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  ATTRIB_CWF,"},{"lineNumber":28,"author":{"gitId":"-"},"content":"} \u003d require(\u0027../constants\u0027);"},{"lineNumber":29,"author":{"gitId":"-"},"content":""},{"lineNumber":30,"author":{"gitId":"-"},"content":"cheerio.prototype.options.decodeEntities \u003d false; // Don\u0027t escape HTML entities"},{"lineNumber":31,"author":{"gitId":"-"},"content":""},{"lineNumber":32,"author":{"gitId":"-"},"content":"class NodeProcessor {"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  constructor(config, pageSources, variableProcessor, pluginManager, docId \u003d \u0027\u0027) {"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    this.config \u003d config;"},{"lineNumber":35,"author":{"gitId":"-"},"content":""},{"lineNumber":36,"author":{"gitId":"-"},"content":"    this.frontMatter \u003d {};"},{"lineNumber":37,"author":{"gitId":"-"},"content":""},{"lineNumber":38,"author":{"gitId":"-"},"content":"    this.headTop \u003d [];"},{"lineNumber":39,"author":{"gitId":"-"},"content":"    this.headBottom \u003d [];"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    this.scriptBottom \u003d [];"},{"lineNumber":41,"author":{"gitId":"-"},"content":""},{"lineNumber":42,"author":{"gitId":"-"},"content":"    this.pageSources \u003d pageSources;"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    this.variableProcessor \u003d variableProcessor;"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    this.pluginManager \u003d pluginManager;"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"    // markdown-it-footnotes state"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    this.baseDocId \u003d docId; // encapsulates footnotes in externals (\u003cpanel src\u003d\"...\"\u003e)"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    this.docId \u003d 0; // encapsulates footnotes in \u003cinclude\u003es"},{"lineNumber":49,"author":{"gitId":"-"},"content":""},{"lineNumber":50,"author":{"gitId":"-"},"content":"    // Store footnotes of \u003cinclude\u003es and the main content, then combine them at the end"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    this.renderedFootnotes \u003d [];"},{"lineNumber":52,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":53,"author":{"gitId":"-"},"content":""},{"lineNumber":54,"author":{"gitId":"-"},"content":"  _renderMd(text) {"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    return md.render(text, this.docId"},{"lineNumber":56,"author":{"gitId":"-"},"content":"      ? { docId: `${this.baseDocId}${this.docId}` }"},{"lineNumber":57,"author":{"gitId":"-"},"content":"      : { docId: this.baseDocId });"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":59,"author":{"gitId":"-"},"content":""},{"lineNumber":60,"author":{"gitId":"-"},"content":"  _renderMdInline(text) {"},{"lineNumber":61,"author":{"gitId":"-"},"content":"    return md.renderInline(text, this.docId"},{"lineNumber":62,"author":{"gitId":"-"},"content":"      ? { docId: `${this.baseDocId}${this.docId}` }"},{"lineNumber":63,"author":{"gitId":"-"},"content":"      : { docId: this.baseDocId });"},{"lineNumber":64,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":65,"author":{"gitId":"-"},"content":""},{"lineNumber":66,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":67,"author":{"gitId":"-"},"content":"   * Private utility functions"},{"lineNumber":68,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":69,"author":{"gitId":"-"},"content":""},{"lineNumber":70,"author":{"gitId":"-"},"content":"  static _trimNodes(node) {"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    if (node.name \u003d\u003d\u003d \u0027pre\u0027 || node.name \u003d\u003d\u003d \u0027code\u0027) {"},{"lineNumber":72,"author":{"gitId":"-"},"content":"      return;"},{"lineNumber":73,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    if (node.children) {"},{"lineNumber":75,"author":{"gitId":"-"},"content":"      for (let n \u003d 0; n \u003c node.children.length; n +\u003d 1) {"},{"lineNumber":76,"author":{"gitId":"-"},"content":"        const child \u003d node.children[n];"},{"lineNumber":77,"author":{"gitId":"-"},"content":"        if (child.type \u003d\u003d\u003d \u0027comment\u0027"},{"lineNumber":78,"author":{"gitId":"-"},"content":"          || (child.type \u003d\u003d\u003d \u0027text\u0027 \u0026\u0026 n \u003d\u003d\u003d node.children.length - 1 \u0026\u0026 !/\\S/.test(child.data))) {"},{"lineNumber":79,"author":{"gitId":"-"},"content":"          node.children.splice(n, 1);"},{"lineNumber":80,"author":{"gitId":"-"},"content":"          n -\u003d 1;"},{"lineNumber":81,"author":{"gitId":"-"},"content":"        } else if (child.type \u003d\u003d\u003d \u0027tag\u0027) {"},{"lineNumber":82,"author":{"gitId":"-"},"content":"          NodeProcessor._trimNodes(child);"},{"lineNumber":83,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":84,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":86,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":87,"author":{"gitId":"-"},"content":""},{"lineNumber":88,"author":{"gitId":"-"},"content":"  static _isText(node) {"},{"lineNumber":89,"author":{"gitId":"-"},"content":"    return node.type \u003d\u003d\u003d \u0027text\u0027 || node.type \u003d\u003d\u003d \u0027comment\u0027;"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":91,"author":{"gitId":"-"},"content":""},{"lineNumber":92,"author":{"gitId":"wxwxwxwx9"},"content":"  static getVslotShorthandName(node) {"},{"lineNumber":93,"author":{"gitId":"wxwxwxwx9"},"content":"    if (!node.attribs) {"},{"lineNumber":94,"author":{"gitId":"wxwxwxwx9"},"content":"      return \u0027\u0027;"},{"lineNumber":95,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":96,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":97,"author":{"gitId":"wxwxwxwx9"},"content":"    const keys \u003d Object.keys(node.attribs);"},{"lineNumber":98,"author":{"gitId":"wxwxwxwx9"},"content":"    const vslotShorthand \u003d _.find(keys, key \u003d\u003e key.startsWith(\u0027#\u0027));"},{"lineNumber":99,"author":{"gitId":"wxwxwxwx9"},"content":"    if (!vslotShorthand) {"},{"lineNumber":100,"author":{"gitId":"wxwxwxwx9"},"content":"      return \u0027\u0027;"},{"lineNumber":101,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":102,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":103,"author":{"gitId":"wxwxwxwx9"},"content":"    return vslotShorthand.substring(1, vslotShorthand.length); // remove #"},{"lineNumber":104,"author":{"gitId":"wxwxwxwx9"},"content":"  }"},{"lineNumber":105,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":106,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":107,"author":{"gitId":"-"},"content":"   * Processes the markdown attribute of the provided element, inserting the corresponding \u003cslot\u003e child"},{"lineNumber":108,"author":{"gitId":"wxwxwxwx9"},"content":"   * if there is no pre-existing slot child with the name of the attribute present. For existing \u003cslot\u003e"},{"lineNumber":109,"author":{"gitId":"wxwxwxwx9"},"content":"   * children, the HTML node tag name will be converted to \"template\"."},{"lineNumber":110,"author":{"gitId":"-"},"content":"   * @param node Element to process"},{"lineNumber":111,"author":{"gitId":"-"},"content":"   * @param attribute Attribute name to process"},{"lineNumber":112,"author":{"gitId":"-"},"content":"   * @param isInline Whether to process the attribute with only inline markdown-it rules"},{"lineNumber":113,"author":{"gitId":"-"},"content":"   * @param slotName Name attribute of the \u003cslot\u003e element to insert, which defaults to the attribute name"},{"lineNumber":114,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":115,"author":{"gitId":"-"},"content":"  _processAttributeWithoutOverride(node, attribute, isInline, slotName \u003d attribute) {"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    const hasAttributeSlot \u003d node.children"},{"lineNumber":117,"author":{"gitId":"wxwxwxwx9"},"content":"      \u0026\u0026 node.children.some(child \u003d\u003e NodeProcessor.getVslotShorthandName(child) \u003d\u003d\u003d slotName);"},{"lineNumber":118,"author":{"gitId":"-"},"content":""},{"lineNumber":119,"author":{"gitId":"-"},"content":"    if (!hasAttributeSlot \u0026\u0026 _.has(node.attribs, attribute)) {"},{"lineNumber":120,"author":{"gitId":"-"},"content":"      let rendered;"},{"lineNumber":121,"author":{"gitId":"-"},"content":"      if (isInline) {"},{"lineNumber":122,"author":{"gitId":"-"},"content":"        rendered \u003d this._renderMdInline(node.attribs[attribute]);"},{"lineNumber":123,"author":{"gitId":"-"},"content":"      } else {"},{"lineNumber":124,"author":{"gitId":"-"},"content":"        rendered \u003d this._renderMd(node.attribs[attribute]);"},{"lineNumber":125,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":126,"author":{"gitId":"-"},"content":""},{"lineNumber":127,"author":{"gitId":"-"},"content":"      const attributeSlotElement \u003d cheerio.parseHTML("},{"lineNumber":128,"author":{"gitId":"wxwxwxwx9"},"content":"        `\u003ctemplate #${slotName}\u003e${rendered}\u003c/template\u003e`, true);"},{"lineNumber":129,"author":{"gitId":"-"},"content":"      node.children"},{"lineNumber":130,"author":{"gitId":"-"},"content":"        \u003d node.children ? attributeSlotElement.concat(node.children) : attributeSlotElement;"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":132,"author":{"gitId":"-"},"content":""},{"lineNumber":133,"author":{"gitId":"-"},"content":"    delete node.attribs[attribute];"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":135,"author":{"gitId":"-"},"content":""},{"lineNumber":136,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":137,"author":{"gitId":"-"},"content":"   * Takes an element, looks for direct elements with slots and transforms to avoid Vue parsing."},{"lineNumber":138,"author":{"gitId":"-"},"content":"   * This is so that we can use bootstrap-vue popovers, tooltips, and modals."},{"lineNumber":139,"author":{"gitId":"-"},"content":"   * @param node Element to transform"},{"lineNumber":140,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":141,"author":{"gitId":"-"},"content":"  static _transformSlottedComponents(node) {"},{"lineNumber":142,"author":{"gitId":"-"},"content":"    node.children.forEach((child) \u003d\u003e {"},{"lineNumber":143,"author":{"gitId":"wxwxwxwx9"},"content":"      // Turns \u003ctemplate #content\u003e... into \u003cspan data-mb-slot-name\u003dcontent\u003e..."},{"lineNumber":144,"author":{"gitId":"wxwxwxwx9"},"content":"      const vslotShorthandName \u003d NodeProcessor.getVslotShorthandName(child);"},{"lineNumber":145,"author":{"gitId":"wxwxwxwx9"},"content":"      if (vslotShorthandName) {"},{"lineNumber":146,"author":{"gitId":"wxwxwxwx9"},"content":"        child.attribs[\u0027data-mb-slot-name\u0027] \u003d vslotShorthandName;"},{"lineNumber":147,"author":{"gitId":"wxwxwxwx9"},"content":"        delete child.attribs[`#${vslotShorthandName}`];"},{"lineNumber":148,"author":{"gitId":"-"},"content":"        // similarly, need to transform templates to avoid Vue parsing"},{"lineNumber":149,"author":{"gitId":"-"},"content":"        child.name \u003d \u0027span\u0027;"},{"lineNumber":150,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":151,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":152,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":153,"author":{"gitId":"-"},"content":""},{"lineNumber":154,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":155,"author":{"gitId":"-"},"content":"   * FrontMatter collection"},{"lineNumber":156,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":157,"author":{"gitId":"ryoarmanda"},"content":"  _processFrontMatter(node, context) {"},{"lineNumber":158,"author":{"gitId":"-"},"content":"    let currentFrontMatter \u003d {};"},{"lineNumber":159,"author":{"gitId":"-"},"content":"    const frontMatter \u003d cheerio(node);"},{"lineNumber":160,"author":{"gitId":"ryoarmanda"},"content":"    if (!context.processingOptions.omitFrontmatter \u0026\u0026 frontMatter.text().trim()) {"},{"lineNumber":161,"author":{"gitId":"-"},"content":"      // Retrieves the front matter from either the first frontmatter element"},{"lineNumber":162,"author":{"gitId":"-"},"content":"      // or from a frontmatter element that includes from another file"},{"lineNumber":163,"author":{"gitId":"-"},"content":"      // The latter case will result in the data being wrapped in a div"},{"lineNumber":164,"author":{"gitId":"-"},"content":"      const frontMatterData \u003d frontMatter.find(\u0027div\u0027).length"},{"lineNumber":165,"author":{"gitId":"-"},"content":"        ? frontMatter.find(\u0027div\u0027)[0].children[0].data"},{"lineNumber":166,"author":{"gitId":"-"},"content":"        : frontMatter[0].children[0].data;"},{"lineNumber":167,"author":{"gitId":"-"},"content":"      const frontMatterWrapped \u003d `${FRONT_MATTER_FENCE}\\n${frontMatterData}\\n${FRONT_MATTER_FENCE}`;"},{"lineNumber":168,"author":{"gitId":"-"},"content":""},{"lineNumber":169,"author":{"gitId":"-"},"content":"      currentFrontMatter \u003d fm(frontMatterWrapped).attributes;"},{"lineNumber":170,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":171,"author":{"gitId":"-"},"content":""},{"lineNumber":172,"author":{"gitId":"-"},"content":"    this.frontMatter \u003d {"},{"lineNumber":173,"author":{"gitId":"-"},"content":"      ...this.frontMatter,"},{"lineNumber":174,"author":{"gitId":"-"},"content":"      ...currentFrontMatter,"},{"lineNumber":175,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":176,"author":{"gitId":"-"},"content":"    cheerio(node).remove();"},{"lineNumber":177,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":178,"author":{"gitId":"-"},"content":""},{"lineNumber":179,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":180,"author":{"gitId":"-"},"content":"   * Panels"},{"lineNumber":181,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":182,"author":{"gitId":"-"},"content":""},{"lineNumber":183,"author":{"gitId":"-"},"content":"  _processPanelAttributes(node) {"},{"lineNumber":184,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027alt\u0027, false, \u0027_alt\u0027);"},{"lineNumber":185,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027header\u0027, false);"},{"lineNumber":186,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":187,"author":{"gitId":"-"},"content":""},{"lineNumber":188,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":189,"author":{"gitId":"-"},"content":"   * Traverses the dom breadth-first from the specified element to find a html heading child."},{"lineNumber":190,"author":{"gitId":"-"},"content":"   * @param node Root element to search from"},{"lineNumber":191,"author":{"gitId":"-"},"content":"   * @returns {undefined|*} The header element, or undefined if none is found."},{"lineNumber":192,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":193,"author":{"gitId":"-"},"content":"  static _findHeaderElement(node) {"},{"lineNumber":194,"author":{"gitId":"-"},"content":"    const elements \u003d node.children;"},{"lineNumber":195,"author":{"gitId":"-"},"content":"    if (!elements || !elements.length) {"},{"lineNumber":196,"author":{"gitId":"-"},"content":"      return undefined;"},{"lineNumber":197,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":198,"author":{"gitId":"-"},"content":""},{"lineNumber":199,"author":{"gitId":"-"},"content":"    const elementQueue \u003d elements.slice(0);"},{"lineNumber":200,"author":{"gitId":"-"},"content":"    while (elementQueue.length) {"},{"lineNumber":201,"author":{"gitId":"-"},"content":"      const nextEl \u003d elementQueue.shift();"},{"lineNumber":202,"author":{"gitId":"-"},"content":"      if ((/^h[1-6]$/).test(nextEl.name)) {"},{"lineNumber":203,"author":{"gitId":"-"},"content":"        return nextEl;"},{"lineNumber":204,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":205,"author":{"gitId":"-"},"content":""},{"lineNumber":206,"author":{"gitId":"-"},"content":"      if (nextEl.children) {"},{"lineNumber":207,"author":{"gitId":"-"},"content":"        nextEl.children.forEach(child \u003d\u003e elementQueue.push(child));"},{"lineNumber":208,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":209,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":210,"author":{"gitId":"-"},"content":""},{"lineNumber":211,"author":{"gitId":"-"},"content":"    return undefined;"},{"lineNumber":212,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":213,"author":{"gitId":"-"},"content":""},{"lineNumber":214,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":215,"author":{"gitId":"-"},"content":"   * Assigns an id to the root element of a panel component using the heading specified in the"},{"lineNumber":216,"author":{"gitId":"-"},"content":"   * panel\u0027s header slot or attribute (if any), with the header slot having priority if present."},{"lineNumber":217,"author":{"gitId":"-"},"content":"   * This is to ensure anchors still work when panels are in their minimized form."},{"lineNumber":218,"author":{"gitId":"-"},"content":"   * @param node The root panel element"},{"lineNumber":219,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":220,"author":{"gitId":"-"},"content":"  static _assignPanelId(node) {"},{"lineNumber":221,"author":{"gitId":"wxwxwxwx9"},"content":"    const slotChildren \u003d node.children"},{"lineNumber":222,"author":{"gitId":"wxwxwxwx9"},"content":"      \u0026\u0026 node.children.filter(child \u003d\u003e NodeProcessor.getVslotShorthandName(child) !\u003d\u003d \u0027\u0027);"},{"lineNumber":223,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":224,"author":{"gitId":"wxwxwxwx9"},"content":"    const headerSlot \u003d slotChildren.find(child \u003d\u003e NodeProcessor.getVslotShorthandName(child) \u003d\u003d\u003d \u0027header\u0027);"},{"lineNumber":225,"author":{"gitId":"-"},"content":""},{"lineNumber":226,"author":{"gitId":"-"},"content":"    if (headerSlot) {"},{"lineNumber":227,"author":{"gitId":"-"},"content":"      const header \u003d NodeProcessor._findHeaderElement(headerSlot);"},{"lineNumber":228,"author":{"gitId":"-"},"content":"      if (!header) {"},{"lineNumber":229,"author":{"gitId":"-"},"content":"        return;"},{"lineNumber":230,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":231,"author":{"gitId":"-"},"content":""},{"lineNumber":232,"author":{"gitId":"-"},"content":"      if (!header.attribs || !_.has(header.attribs, \u0027id\u0027)) {"},{"lineNumber":233,"author":{"gitId":"-"},"content":"        throw new Error(\u0027Found a panel heading without an assigned id.\\n\u0027"},{"lineNumber":234,"author":{"gitId":"-"},"content":"          + \u0027Please report this to the MarkBind developers. Thank you!\u0027);"},{"lineNumber":235,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":236,"author":{"gitId":"-"},"content":""},{"lineNumber":237,"author":{"gitId":"-"},"content":"      node.attribs.id \u003d header.attribs.id;"},{"lineNumber":238,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":239,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":240,"author":{"gitId":"-"},"content":""},{"lineNumber":241,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":242,"author":{"gitId":"-"},"content":"   * Check and warns if element has conflicting attributes."},{"lineNumber":243,"author":{"gitId":"-"},"content":"   * Note that attirbutes in `attrsConflictingWith` are not in conflict with each other,"},{"lineNumber":244,"author":{"gitId":"-"},"content":"   * but only towards `attribute`"},{"lineNumber":245,"author":{"gitId":"-"},"content":"   * @param node Root element to check"},{"lineNumber":246,"author":{"gitId":"-"},"content":"   * @param attribute An attribute that is conflicting with other attributes"},{"lineNumber":247,"author":{"gitId":"-"},"content":"   * @param attrsConflictingWith The attributes conflicting with `attribute`"},{"lineNumber":248,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":249,"author":{"gitId":"-"},"content":"  static _warnConflictingAttributes(node, attribute, attrsConflictingWith) {"},{"lineNumber":250,"author":{"gitId":"-"},"content":"    if (!(attribute in node.attribs)) {"},{"lineNumber":251,"author":{"gitId":"-"},"content":"      return;"},{"lineNumber":252,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":253,"author":{"gitId":"-"},"content":"    attrsConflictingWith.forEach((conflictingAttr) \u003d\u003e {"},{"lineNumber":254,"author":{"gitId":"-"},"content":"      if (conflictingAttr in node.attribs) {"},{"lineNumber":255,"author":{"gitId":"-"},"content":"        logger.warn(`Usage of conflicting ${node.name} attributes: `"},{"lineNumber":256,"author":{"gitId":"-"},"content":"          + `\u0027${attribute}\u0027 with \u0027${conflictingAttr}\u0027`);"},{"lineNumber":257,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":258,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":259,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":260,"author":{"gitId":"-"},"content":""},{"lineNumber":261,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":262,"author":{"gitId":"-"},"content":"   * Check and warns if element has a deprecated attribute."},{"lineNumber":263,"author":{"gitId":"-"},"content":"   * @param node Root element to check"},{"lineNumber":264,"author":{"gitId":"-"},"content":"   * @param attributeNamePairs Object of attribute name pairs with each pair in the form deprecated : correct"},{"lineNumber":265,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":266,"author":{"gitId":"-"},"content":"  static _warnDeprecatedAttributes(node, attributeNamePairs) {"},{"lineNumber":267,"author":{"gitId":"-"},"content":"    Object.entries(attributeNamePairs)"},{"lineNumber":268,"author":{"gitId":"-"},"content":"      .forEach(([deprecatedAttrib, correctAttrib]) \u003d\u003e {"},{"lineNumber":269,"author":{"gitId":"-"},"content":"        if (deprecatedAttrib in node.attribs) {"},{"lineNumber":270,"author":{"gitId":"-"},"content":"          logger.warn(`${node.name} attribute \u0027${deprecatedAttrib}\u0027 `"},{"lineNumber":271,"author":{"gitId":"-"},"content":"            + `is deprecated and may be removed in the future. Please use \u0027${correctAttrib}\u0027`);"},{"lineNumber":272,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":273,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":274,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":275,"author":{"gitId":"-"},"content":""},{"lineNumber":276,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":277,"author":{"gitId":"-"},"content":"   * Questions, QOption, and Quizzes"},{"lineNumber":278,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":279,"author":{"gitId":"-"},"content":""},{"lineNumber":280,"author":{"gitId":"-"},"content":"  _processQuestion(node) {"},{"lineNumber":281,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027header\u0027, false, \u0027header\u0027);"},{"lineNumber":282,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027hint\u0027, false, \u0027hint\u0027);"},{"lineNumber":283,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027answer\u0027, false, \u0027answer\u0027);"},{"lineNumber":284,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":285,"author":{"gitId":"-"},"content":""},{"lineNumber":286,"author":{"gitId":"-"},"content":"  _processQOption(node) {"},{"lineNumber":287,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027reason\u0027, false, \u0027reason\u0027);"},{"lineNumber":288,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":289,"author":{"gitId":"-"},"content":""},{"lineNumber":290,"author":{"gitId":"-"},"content":"  _processQuiz(node) {"},{"lineNumber":291,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027intro\u0027, false, \u0027intro\u0027);"},{"lineNumber":292,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":293,"author":{"gitId":"-"},"content":""},{"lineNumber":294,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":295,"author":{"gitId":"-"},"content":"   * Popovers, tooltips, modals, triggers"},{"lineNumber":296,"author":{"gitId":"-"},"content":"   *"},{"lineNumber":297,"author":{"gitId":"-"},"content":"   * We use bootstrap-vue\u0027s popovers, tooltips and modals, but perform various transformations"},{"lineNumber":298,"author":{"gitId":"-"},"content":"   * to conform with our syntax instead, and to support triggers."},{"lineNumber":299,"author":{"gitId":"-"},"content":"   *"},{"lineNumber":300,"author":{"gitId":"-"},"content":"   * For tooltips and popovers,"},{"lineNumber":301,"author":{"gitId":"-"},"content":"   * The content / title is put into hidden [data-mb-slot-name] slots."},{"lineNumber":302,"author":{"gitId":"-"},"content":"   * Then, we call the relevant content getters inside core-web/index.js at runtime to get this content."},{"lineNumber":303,"author":{"gitId":"-"},"content":"   *"},{"lineNumber":304,"author":{"gitId":"-"},"content":"   * For modals,"},{"lineNumber":305,"author":{"gitId":"-"},"content":"   * only syntactic transformations are performed."},{"lineNumber":306,"author":{"gitId":"-"},"content":"   *"},{"lineNumber":307,"author":{"gitId":"-"},"content":"   * For triggers,"},{"lineNumber":308,"author":{"gitId":"-"},"content":"   * When building the site, we can\u0027t immediately tell whether a trigger references"},{"lineNumber":309,"author":{"gitId":"-"},"content":"   * a modal, popover, or tooltip, as the element may not have been processed yet."},{"lineNumber":310,"author":{"gitId":"-"},"content":"   *"},{"lineNumber":311,"author":{"gitId":"-"},"content":"   * So, we make every trigger try all 3 at runtime in the browser. (refer to Trigger.vue)"},{"lineNumber":312,"author":{"gitId":"-"},"content":"   * It will attempt to open a modal, then a tooltip or popover."},{"lineNumber":313,"author":{"gitId":"-"},"content":"   * For modals, we simply attempt to show the modal via bootstrap-vue\u0027s programmatic api."},{"lineNumber":314,"author":{"gitId":"-"},"content":"   * The content of tooltips and popovers is retrieved from the [data-mb-slot-name] slots,"},{"lineNumber":315,"author":{"gitId":"-"},"content":"   * then the \u003cb-popover/tooltip\u003e component is dynamically created appropriately."},{"lineNumber":316,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":317,"author":{"gitId":"-"},"content":""},{"lineNumber":318,"author":{"gitId":"-"},"content":"  static addTriggerClass(node, trigger) {"},{"lineNumber":319,"author":{"gitId":"-"},"content":"    const triggerClass \u003d trigger \u003d\u003d\u003d \u0027click\u0027 ? \u0027trigger-click\u0027 : \u0027trigger\u0027;"},{"lineNumber":320,"author":{"gitId":"-"},"content":"    node.attribs.class \u003d node.attribs.class ? `${node.attribs.class} ${triggerClass}` : triggerClass;"},{"lineNumber":321,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":322,"author":{"gitId":"-"},"content":""},{"lineNumber":323,"author":{"gitId":"-"},"content":"  _processPopover(node) {"},{"lineNumber":324,"author":{"gitId":"-"},"content":"    NodeProcessor._warnDeprecatedAttributes(node, { title: \u0027header\u0027 });"},{"lineNumber":325,"author":{"gitId":"-"},"content":""},{"lineNumber":326,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027content\u0027, true);"},{"lineNumber":327,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027header\u0027, true);"},{"lineNumber":328,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027title\u0027, true, \u0027header\u0027);"},{"lineNumber":329,"author":{"gitId":"-"},"content":""},{"lineNumber":330,"author":{"gitId":"-"},"content":"    node.name \u003d \u0027span\u0027;"},{"lineNumber":331,"author":{"gitId":"-"},"content":"    const trigger \u003d node.attribs.trigger || \u0027hover\u0027;"},{"lineNumber":332,"author":{"gitId":"-"},"content":"    const placement \u003d node.attribs.placement || \u0027top\u0027;"},{"lineNumber":333,"author":{"gitId":"-"},"content":"    node.attribs[\u0027data-mb-component-type\u0027] \u003d \u0027popover\u0027;"},{"lineNumber":334,"author":{"gitId":"-"},"content":"    node.attribs[`v-b-popover.${trigger}.${placement}.html`] \u003d \u0027popoverInnerGetters\u0027;"},{"lineNumber":335,"author":{"gitId":"-"},"content":"    NodeProcessor.addTriggerClass(node, trigger);"},{"lineNumber":336,"author":{"gitId":"-"},"content":"    NodeProcessor._transformSlottedComponents(node);"},{"lineNumber":337,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":338,"author":{"gitId":"-"},"content":""},{"lineNumber":339,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":340,"author":{"gitId":"-"},"content":"   * Check and warns if element has a deprecated slot name"},{"lineNumber":341,"author":{"gitId":"-"},"content":"   * @param element Root element to check"},{"lineNumber":342,"author":{"gitId":"-"},"content":"   * @param namePairs Object of slot name pairs with each pair in the form deprecated : correct"},{"lineNumber":343,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":344,"author":{"gitId":"-"},"content":""},{"lineNumber":345,"author":{"gitId":"-"},"content":"  static _warnDeprecatedSlotNames(element, namePairs) {"},{"lineNumber":346,"author":{"gitId":"-"},"content":"    if (!(element.children)) {"},{"lineNumber":347,"author":{"gitId":"-"},"content":"      return;"},{"lineNumber":348,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":349,"author":{"gitId":"-"},"content":"    element.children.forEach((child) \u003d\u003e {"},{"lineNumber":350,"author":{"gitId":"wxwxwxwx9"},"content":"      const vslotShorthandName \u003d NodeProcessor.getVslotShorthandName(child);"},{"lineNumber":351,"author":{"gitId":"wxwxwxwx9"},"content":"      if (vslotShorthandName) {"},{"lineNumber":352,"author":{"gitId":"-"},"content":"        Object.entries(namePairs)"},{"lineNumber":353,"author":{"gitId":"-"},"content":"          .forEach(([deprecatedName, correctName]) \u003d\u003e {"},{"lineNumber":354,"author":{"gitId":"wxwxwxwx9"},"content":"            if (vslotShorthandName !\u003d\u003d deprecatedName) {"},{"lineNumber":355,"author":{"gitId":"-"},"content":"              return;"},{"lineNumber":356,"author":{"gitId":"-"},"content":"            }"},{"lineNumber":357,"author":{"gitId":"wxwxwxwx9"},"content":"            logger.warn(`${element.name} shorthand slot name \u0027${deprecatedName}\u0027 `"},{"lineNumber":358,"author":{"gitId":"-"},"content":"              + `is deprecated and may be removed in the future. Please use \u0027${correctName}\u0027`);"},{"lineNumber":359,"author":{"gitId":"-"},"content":"          });"},{"lineNumber":360,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":361,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":362,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":363,"author":{"gitId":"-"},"content":""},{"lineNumber":364,"author":{"gitId":"-"},"content":"  _processTooltip(node) {"},{"lineNumber":365,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027content\u0027, true, \u0027_content\u0027);"},{"lineNumber":366,"author":{"gitId":"-"},"content":""},{"lineNumber":367,"author":{"gitId":"-"},"content":"    node.name \u003d \u0027span\u0027;"},{"lineNumber":368,"author":{"gitId":"-"},"content":"    const trigger \u003d node.attribs.trigger || \u0027hover\u0027;"},{"lineNumber":369,"author":{"gitId":"-"},"content":"    const placement \u003d node.attribs.placement || \u0027top\u0027;"},{"lineNumber":370,"author":{"gitId":"-"},"content":"    node.attribs[\u0027data-mb-component-type\u0027] \u003d \u0027tooltip\u0027;"},{"lineNumber":371,"author":{"gitId":"-"},"content":"    node.attribs[`v-b-tooltip.${trigger}.${placement}.html`] \u003d \u0027tooltipInnerContentGetter\u0027;"},{"lineNumber":372,"author":{"gitId":"-"},"content":"    NodeProcessor.addTriggerClass(node, trigger);"},{"lineNumber":373,"author":{"gitId":"-"},"content":"    NodeProcessor._transformSlottedComponents(node);"},{"lineNumber":374,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":375,"author":{"gitId":"-"},"content":""},{"lineNumber":376,"author":{"gitId":"-"},"content":"  static _renameSlot(node, originalName, newName) {"},{"lineNumber":377,"author":{"gitId":"-"},"content":"    if (node.children) {"},{"lineNumber":378,"author":{"gitId":"wxwxwxwx9"},"content":"      node.children.forEach((child) \u003d\u003e {"},{"lineNumber":379,"author":{"gitId":"wxwxwxwx9"},"content":"        const vslotShorthandName \u003d NodeProcessor.getVslotShorthandName(child);"},{"lineNumber":380,"author":{"gitId":"wxwxwxwx9"},"content":"        if (vslotShorthandName \u0026\u0026 vslotShorthandName \u003d\u003d\u003d originalName) {"},{"lineNumber":381,"author":{"gitId":"wxwxwxwx9"},"content":"          const newVslot \u003d `#${newName}`;"},{"lineNumber":382,"author":{"gitId":"wxwxwxwx9"},"content":"          child.attribs[newVslot] \u003d \u0027\u0027;"},{"lineNumber":383,"author":{"gitId":"wxwxwxwx9"},"content":"          delete child.attribs[`#${vslotShorthandName}`];"},{"lineNumber":384,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":385,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":386,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":387,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":388,"author":{"gitId":"-"},"content":""},{"lineNumber":389,"author":{"gitId":"-"},"content":"  static _renameAttribute(node, originalAttribute, newAttribute) {"},{"lineNumber":390,"author":{"gitId":"-"},"content":"    if (_.has(node.attribs, originalAttribute)) {"},{"lineNumber":391,"author":{"gitId":"-"},"content":"      node.attribs[newAttribute] \u003d node.attribs[originalAttribute];"},{"lineNumber":392,"author":{"gitId":"-"},"content":"      delete node.attribs[originalAttribute];"},{"lineNumber":393,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":394,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":395,"author":{"gitId":"-"},"content":""},{"lineNumber":396,"author":{"gitId":"-"},"content":"  _processModalAttributes(node) {"},{"lineNumber":397,"author":{"gitId":"-"},"content":"    NodeProcessor._warnDeprecatedAttributes(node, { title: \u0027header\u0027 });"},{"lineNumber":398,"author":{"gitId":"-"},"content":"    NodeProcessor._warnDeprecatedSlotNames(node, {"},{"lineNumber":399,"author":{"gitId":"-"},"content":"      \u0027modal-header\u0027: \u0027header\u0027,"},{"lineNumber":400,"author":{"gitId":"-"},"content":"      \u0027modal-footer\u0027: \u0027footer\u0027,"},{"lineNumber":401,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":402,"author":{"gitId":"-"},"content":""},{"lineNumber":403,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027header\u0027, true, \u0027modal-title\u0027);"},{"lineNumber":404,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027title\u0027, true, \u0027modal-title\u0027);"},{"lineNumber":405,"author":{"gitId":"-"},"content":""},{"lineNumber":406,"author":{"gitId":"-"},"content":"    NodeProcessor._renameSlot(node, \u0027header\u0027, \u0027modal-header\u0027);"},{"lineNumber":407,"author":{"gitId":"-"},"content":"    NodeProcessor._renameSlot(node, \u0027footer\u0027, \u0027modal-footer\u0027);"},{"lineNumber":408,"author":{"gitId":"-"},"content":""},{"lineNumber":409,"author":{"gitId":"-"},"content":"    node.name \u003d \u0027b-modal\u0027;"},{"lineNumber":410,"author":{"gitId":"-"},"content":""},{"lineNumber":411,"author":{"gitId":"-"},"content":"    NodeProcessor._renameAttribute(node, \u0027ok-text\u0027, \u0027ok-title\u0027);"},{"lineNumber":412,"author":{"gitId":"-"},"content":"    NodeProcessor._renameAttribute(node, \u0027center\u0027, \u0027centered\u0027);"},{"lineNumber":413,"author":{"gitId":"-"},"content":""},{"lineNumber":414,"author":{"gitId":"-"},"content":"    const hasOkTitle \u003d _.has(node.attribs, \u0027ok-title\u0027);"},{"lineNumber":415,"author":{"gitId":"wxwxwxwx9"},"content":"    const hasFooter \u003d node.children"},{"lineNumber":416,"author":{"gitId":"wxwxwxwx9"},"content":"      .some(child \u003d\u003e NodeProcessor.getVslotShorthandName(child) \u003d\u003d\u003d \u0027modal-footer\u0027);"},{"lineNumber":417,"author":{"gitId":"-"},"content":""},{"lineNumber":418,"author":{"gitId":"-"},"content":"    if (!hasFooter \u0026\u0026 !hasOkTitle) {"},{"lineNumber":419,"author":{"gitId":"-"},"content":"      // markbind doesn\u0027t show the footer by default"},{"lineNumber":420,"author":{"gitId":"-"},"content":"      node.attribs[\u0027hide-footer\u0027] \u003d \u0027\u0027;"},{"lineNumber":421,"author":{"gitId":"-"},"content":"    } else if (hasOkTitle) {"},{"lineNumber":422,"author":{"gitId":"-"},"content":"      // bootstrap-vue default is to show ok and cancel"},{"lineNumber":423,"author":{"gitId":"-"},"content":"      // if there\u0027s an ok-title, markbind only shows the OK button."},{"lineNumber":424,"author":{"gitId":"-"},"content":"      node.attribs[\u0027ok-only\u0027] \u003d \u0027\u0027;"},{"lineNumber":425,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":426,"author":{"gitId":"-"},"content":""},{"lineNumber":427,"author":{"gitId":"-"},"content":"    if (node.attribs.backdrop \u003d\u003d\u003d \u0027false\u0027) {"},{"lineNumber":428,"author":{"gitId":"-"},"content":"      node.attribs[\u0027no-close-on-backdrop\u0027] \u003d \u0027\u0027;"},{"lineNumber":429,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":430,"author":{"gitId":"-"},"content":"    delete node.attribs.backdrop;"},{"lineNumber":431,"author":{"gitId":"-"},"content":""},{"lineNumber":432,"author":{"gitId":"-"},"content":"    let size \u003d \u0027\u0027;"},{"lineNumber":433,"author":{"gitId":"-"},"content":"    if (_.has(node.attribs, \u0027large\u0027)) {"},{"lineNumber":434,"author":{"gitId":"-"},"content":"      size \u003d \u0027lg\u0027;"},{"lineNumber":435,"author":{"gitId":"-"},"content":"      delete node.attribs.large;"},{"lineNumber":436,"author":{"gitId":"-"},"content":"    } else if (_.has(node.attribs, \u0027small\u0027)) {"},{"lineNumber":437,"author":{"gitId":"-"},"content":"      size \u003d \u0027sm\u0027;"},{"lineNumber":438,"author":{"gitId":"-"},"content":"      delete node.attribs.small;"},{"lineNumber":439,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":440,"author":{"gitId":"-"},"content":"    node.attribs.size \u003d size;"},{"lineNumber":441,"author":{"gitId":"-"},"content":""},{"lineNumber":442,"author":{"gitId":"-"},"content":"    // default for markbind is zoom, default for bootstrap-vue is fade"},{"lineNumber":443,"author":{"gitId":"-"},"content":"    const effect \u003d node.attribs.effect \u003d\u003d\u003d \u0027fade\u0027 ? \u0027\u0027 : \u0027mb-zoom\u0027;"},{"lineNumber":444,"author":{"gitId":"-"},"content":"    node.attribs[\u0027modal-class\u0027] \u003d effect;"},{"lineNumber":445,"author":{"gitId":"-"},"content":""},{"lineNumber":446,"author":{"gitId":"-"},"content":"    if (_.has(node.attribs, \u0027id\u0027)) {"},{"lineNumber":447,"author":{"gitId":"-"},"content":"      node.attribs.ref \u003d node.attribs.id;"},{"lineNumber":448,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":449,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":450,"author":{"gitId":"-"},"content":""},{"lineNumber":451,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":452,"author":{"gitId":"-"},"content":"   * Tabs"},{"lineNumber":453,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":454,"author":{"gitId":"-"},"content":""},{"lineNumber":455,"author":{"gitId":"-"},"content":"  _processTabAttributes(node) {"},{"lineNumber":456,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027header\u0027, true, \u0027_header\u0027);"},{"lineNumber":457,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":458,"author":{"gitId":"-"},"content":""},{"lineNumber":459,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":460,"author":{"gitId":"-"},"content":"   * Tip boxes"},{"lineNumber":461,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":462,"author":{"gitId":"-"},"content":""},{"lineNumber":463,"author":{"gitId":"-"},"content":"  _processBoxAttributes(node) {"},{"lineNumber":464,"author":{"gitId":"-"},"content":"    NodeProcessor._warnConflictingAttributes(node, \u0027light\u0027, [\u0027seamless\u0027]);"},{"lineNumber":465,"author":{"gitId":"-"},"content":"    NodeProcessor._warnConflictingAttributes(node, \u0027no-background\u0027, [\u0027background-color\u0027, \u0027seamless\u0027]);"},{"lineNumber":466,"author":{"gitId":"-"},"content":"    NodeProcessor._warnConflictingAttributes(node, \u0027no-border\u0027,"},{"lineNumber":467,"author":{"gitId":"-"},"content":"                                             [\u0027border-color\u0027, \u0027border-left-color\u0027, \u0027seamless\u0027]);"},{"lineNumber":468,"author":{"gitId":"-"},"content":"    NodeProcessor._warnConflictingAttributes(node, \u0027no-icon\u0027, [\u0027icon\u0027]);"},{"lineNumber":469,"author":{"gitId":"-"},"content":"    NodeProcessor._warnDeprecatedAttributes(node, { heading: \u0027header\u0027 });"},{"lineNumber":470,"author":{"gitId":"-"},"content":""},{"lineNumber":471,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027icon\u0027, true, \u0027icon\u0027);"},{"lineNumber":472,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027header\u0027, false, \u0027_header\u0027);"},{"lineNumber":473,"author":{"gitId":"-"},"content":""},{"lineNumber":474,"author":{"gitId":"-"},"content":"    this._processAttributeWithoutOverride(node, \u0027heading\u0027, false, \u0027_header\u0027);"},{"lineNumber":475,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":476,"author":{"gitId":"-"},"content":""},{"lineNumber":477,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":478,"author":{"gitId":"-"},"content":"   * Dropdowns"},{"lineNumber":479,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":480,"author":{"gitId":"-"},"content":""},{"lineNumber":481,"author":{"gitId":"-"},"content":"  _processDropdownAttributes(node) {"},{"lineNumber":482,"author":{"gitId":"wxwxwxwx9"},"content":"    const hasHeaderSlot \u003d node.children"},{"lineNumber":483,"author":{"gitId":"wxwxwxwx9"},"content":"      \u0026\u0026 node.children.some(child \u003d\u003e NodeProcessor.getVslotShorthandName(child) \u003d\u003d\u003d \u0027header\u0027);"},{"lineNumber":484,"author":{"gitId":"-"},"content":""},{"lineNumber":485,"author":{"gitId":"-"},"content":"    // If header slot is present, the header attribute has no effect, and we can simply remove it."},{"lineNumber":486,"author":{"gitId":"-"},"content":"    if (hasHeaderSlot) {"},{"lineNumber":487,"author":{"gitId":"-"},"content":"      if (_.has(node.attribs, \u0027header\u0027)) {"},{"lineNumber":488,"author":{"gitId":"-"},"content":"        logger.warn(`${node.name} has a header slot, \u0027header\u0027 attribute has no effect.`);"},{"lineNumber":489,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":490,"author":{"gitId":"-"},"content":"      if (_.has(node.attribs, \u0027text\u0027)) {"},{"lineNumber":491,"author":{"gitId":"-"},"content":"        logger.warn(`${node.name} has a header slot, \u0027text\u0027 attribute has no effect.`);"},{"lineNumber":492,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":493,"author":{"gitId":"-"},"content":"      delete node.attribs.header;"},{"lineNumber":494,"author":{"gitId":"-"},"content":"      delete node.attribs.text;"},{"lineNumber":495,"author":{"gitId":"-"},"content":"      return;"},{"lineNumber":496,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":497,"author":{"gitId":"-"},"content":""},{"lineNumber":498,"author":{"gitId":"-"},"content":"    NodeProcessor._warnDeprecatedAttributes(node, { text: \u0027header\u0027 });"},{"lineNumber":499,"author":{"gitId":"-"},"content":"    NodeProcessor._warnConflictingAttributes(node, \u0027header\u0027, [\u0027text\u0027]);"},{"lineNumber":500,"author":{"gitId":"-"},"content":"    // header attribute takes priority over text attribute if both \u0027text\u0027 and \u0027header\u0027 is used"},{"lineNumber":501,"author":{"gitId":"-"},"content":"    if (_.has(node.attribs, \u0027header\u0027)) {"},{"lineNumber":502,"author":{"gitId":"-"},"content":"      this._processAttributeWithoutOverride(node, \u0027header\u0027, true, \u0027_header\u0027);"},{"lineNumber":503,"author":{"gitId":"-"},"content":"      delete node.attribs.text;"},{"lineNumber":504,"author":{"gitId":"-"},"content":"    } else {"},{"lineNumber":505,"author":{"gitId":"-"},"content":"      this._processAttributeWithoutOverride(node, \u0027text\u0027, true, \u0027_header\u0027);"},{"lineNumber":506,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":507,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":508,"author":{"gitId":"-"},"content":""},{"lineNumber":509,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":510,"author":{"gitId":"-"},"content":"   * Thumbnails"},{"lineNumber":511,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":512,"author":{"gitId":"-"},"content":""},{"lineNumber":513,"author":{"gitId":"-"},"content":"  _processThumbnailAttributes(node) {"},{"lineNumber":514,"author":{"gitId":"-"},"content":"    const isImage \u003d _.has(node.attribs, \u0027src\u0027) \u0026\u0026 node.attribs.src !\u003d\u003d \u0027\u0027;"},{"lineNumber":515,"author":{"gitId":"-"},"content":"    if (isImage) {"},{"lineNumber":516,"author":{"gitId":"-"},"content":"      return;"},{"lineNumber":517,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":518,"author":{"gitId":"-"},"content":""},{"lineNumber":519,"author":{"gitId":"-"},"content":"    const text \u003d _.has(node.attribs, \u0027text\u0027) ? node.attribs.text : \u0027\u0027;"},{"lineNumber":520,"author":{"gitId":"-"},"content":"    if (text \u003d\u003d\u003d \u0027\u0027) {"},{"lineNumber":521,"author":{"gitId":"-"},"content":"      return;"},{"lineNumber":522,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":523,"author":{"gitId":"-"},"content":""},{"lineNumber":524,"author":{"gitId":"-"},"content":"    const renderedText \u003d this._renderMdInline(text);"},{"lineNumber":525,"author":{"gitId":"-"},"content":"    node.children \u003d cheerio.parseHTML(renderedText);"},{"lineNumber":526,"author":{"gitId":"-"},"content":"    delete node.attribs.text;"},{"lineNumber":527,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":528,"author":{"gitId":"-"},"content":""},{"lineNumber":529,"author":{"gitId":"-"},"content":"  /**"},{"lineNumber":530,"author":{"gitId":"-"},"content":"   * Annotations are added automatically by KaTeX when rendering math formulae."},{"lineNumber":531,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":532,"author":{"gitId":"-"},"content":""},{"lineNumber":533,"author":{"gitId":"-"},"content":"  static _processAnnotationAttributes(node) {"},{"lineNumber":534,"author":{"gitId":"-"},"content":"    if (!_.has(node.attribs, \u0027v-pre\u0027)) {"},{"lineNumber":535,"author":{"gitId":"-"},"content":"      node.attribs[\u0027v-pre\u0027] \u003d true;"},{"lineNumber":536,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":537,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":538,"author":{"gitId":"-"},"content":""},{"lineNumber":539,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":540,"author":{"gitId":"-"},"content":"   * Footnotes of the main content and \u003cinclude\u003es are stored, then combined by NodeProcessor at the end"},{"lineNumber":541,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":542,"author":{"gitId":"-"},"content":""},{"lineNumber":543,"author":{"gitId":"-"},"content":"  _processMbTempFootnotes(node) {"},{"lineNumber":544,"author":{"gitId":"-"},"content":"    const $ \u003d cheerio(node);"},{"lineNumber":545,"author":{"gitId":"-"},"content":"    this.renderedFootnotes.push($.html());"},{"lineNumber":546,"author":{"gitId":"-"},"content":"    $.remove();"},{"lineNumber":547,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":548,"author":{"gitId":"-"},"content":""},{"lineNumber":549,"author":{"gitId":"-"},"content":"  _combineFootnotes() {"},{"lineNumber":550,"author":{"gitId":"-"},"content":"    let hasFootnote \u003d false;"},{"lineNumber":551,"author":{"gitId":"-"},"content":"    const prefix \u003d \u0027\u003chr class\u003d\"footnotes-sep\"\u003e\\n\u003csection class\u003d\"footnotes\"\u003e\\n\u003col class\u003d\"footnotes-list\"\u003e\\n\u0027;"},{"lineNumber":552,"author":{"gitId":"-"},"content":""},{"lineNumber":553,"author":{"gitId":"-"},"content":"    const footnotesWithPopovers \u003d this.renderedFootnotes.map((footNoteBlock) \u003d\u003e {"},{"lineNumber":554,"author":{"gitId":"-"},"content":"      const $ \u003d cheerio.load(footNoteBlock);"},{"lineNumber":555,"author":{"gitId":"-"},"content":"      let popoversHtml \u003d \u0027\u0027;"},{"lineNumber":556,"author":{"gitId":"-"},"content":""},{"lineNumber":557,"author":{"gitId":"-"},"content":"      $(\u0027li.footnote-item\u0027).each((index, li) \u003d\u003e {"},{"lineNumber":558,"author":{"gitId":"-"},"content":"        hasFootnote \u003d true;"},{"lineNumber":559,"author":{"gitId":"-"},"content":"        const popoverId \u003d `${MARKBIND_FOOTNOTE_POPOVER_ID_PREFIX}${li.attribs.id}`;"},{"lineNumber":560,"author":{"gitId":"-"},"content":"        const popoverNode \u003d cheerio.parseHTML(`\u003cpopover id\u003d\"${popoverId}\"\u003e"},{"lineNumber":561,"author":{"gitId":"wxwxwxwx9"},"content":"            \u003cdiv #content\u003e"},{"lineNumber":562,"author":{"gitId":"-"},"content":"              ${$(li).html()}"},{"lineNumber":563,"author":{"gitId":"-"},"content":"            \u003c/div\u003e"},{"lineNumber":564,"author":{"gitId":"-"},"content":"          \u003c/popover\u003e`)[0];"},{"lineNumber":565,"author":{"gitId":"-"},"content":"        this.processNode(popoverNode);"},{"lineNumber":566,"author":{"gitId":"-"},"content":""},{"lineNumber":567,"author":{"gitId":"-"},"content":"        popoversHtml +\u003d cheerio.html(popoverNode);"},{"lineNumber":568,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":569,"author":{"gitId":"-"},"content":""},{"lineNumber":570,"author":{"gitId":"-"},"content":"      return `${popoversHtml}\\n${footNoteBlock}\\n`;"},{"lineNumber":571,"author":{"gitId":"-"},"content":"    }).join(\u0027\\n\u0027);"},{"lineNumber":572,"author":{"gitId":"-"},"content":""},{"lineNumber":573,"author":{"gitId":"-"},"content":"    const suffix \u003d \u0027\u003c/ol\u003e\\n\u003c/section\u003e\\n\u0027;"},{"lineNumber":574,"author":{"gitId":"-"},"content":""},{"lineNumber":575,"author":{"gitId":"-"},"content":"    return hasFootnote"},{"lineNumber":576,"author":{"gitId":"-"},"content":"      ? prefix + footnotesWithPopovers + suffix"},{"lineNumber":577,"author":{"gitId":"-"},"content":"      : \u0027\u0027;"},{"lineNumber":578,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":579,"author":{"gitId":"-"},"content":""},{"lineNumber":580,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":581,"author":{"gitId":"-"},"content":"   * Body"},{"lineNumber":582,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":583,"author":{"gitId":"-"},"content":""},{"lineNumber":584,"author":{"gitId":"-"},"content":"  static _preprocessBody(node) {"},{"lineNumber":585,"author":{"gitId":"-"},"content":"    // eslint-disable-next-line no-console"},{"lineNumber":586,"author":{"gitId":"-"},"content":"    console.warn(`\u003cbody\u003e tag found in ${node.attribs[ATTRIB_CWF]}. This may cause formatting errors.`);"},{"lineNumber":587,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":588,"author":{"gitId":"-"},"content":""},{"lineNumber":589,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":590,"author":{"gitId":"-"},"content":"   * Layout element collection"},{"lineNumber":591,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":592,"author":{"gitId":"-"},"content":""},{"lineNumber":593,"author":{"gitId":"-"},"content":"  _collectLayoutEl(node, property) {"},{"lineNumber":594,"author":{"gitId":"-"},"content":"    const $ \u003d cheerio(node);"},{"lineNumber":595,"author":{"gitId":"-"},"content":"    this[property].push($.html());"},{"lineNumber":596,"author":{"gitId":"-"},"content":"    $.remove();"},{"lineNumber":597,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":598,"author":{"gitId":"-"},"content":""},{"lineNumber":599,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":600,"author":{"gitId":"-"},"content":"   * h1 - h6"},{"lineNumber":601,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":602,"author":{"gitId":"-"},"content":"  _setHeadingId(node) {"},{"lineNumber":603,"author":{"gitId":"-"},"content":"    const textContent \u003d cheerio(node).text();"},{"lineNumber":604,"author":{"gitId":"-"},"content":"    // remove the \u0027\u0026lt;\u0027 and \u0027\u0026gt;\u0027 symbols that markdown-it uses to escape \u0027\u003c\u0027 and \u0027\u003e\u0027"},{"lineNumber":605,"author":{"gitId":"-"},"content":"    const cleanedContent \u003d textContent.replace(/\u0026lt;|\u0026gt;/g, \u0027\u0027);"},{"lineNumber":606,"author":{"gitId":"-"},"content":"    const slugifiedHeading \u003d slugify(cleanedContent, { decamelize: false });"},{"lineNumber":607,"author":{"gitId":"-"},"content":""},{"lineNumber":608,"author":{"gitId":"-"},"content":"    let headerId \u003d slugifiedHeading;"},{"lineNumber":609,"author":{"gitId":"-"},"content":"    const { headerIdMap } \u003d this.config;"},{"lineNumber":610,"author":{"gitId":"-"},"content":"    if (headerIdMap[slugifiedHeading]) {"},{"lineNumber":611,"author":{"gitId":"-"},"content":"      headerId \u003d `${slugifiedHeading}-${headerIdMap[slugifiedHeading]}`;"},{"lineNumber":612,"author":{"gitId":"-"},"content":"      headerIdMap[slugifiedHeading] +\u003d 1;"},{"lineNumber":613,"author":{"gitId":"-"},"content":"    } else {"},{"lineNumber":614,"author":{"gitId":"-"},"content":"      headerIdMap[slugifiedHeading] \u003d 2;"},{"lineNumber":615,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":616,"author":{"gitId":"-"},"content":""},{"lineNumber":617,"author":{"gitId":"-"},"content":"    node.attribs.id \u003d headerId;"},{"lineNumber":618,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":619,"author":{"gitId":"-"},"content":""},{"lineNumber":620,"author":{"gitId":"wxwxwxwx9"},"content":"  /*"},{"lineNumber":621,"author":{"gitId":"wxwxwxwx9"},"content":"   * Shifts the slot node deeper by one level by creating a new intermediary node with template tag name."},{"lineNumber":622,"author":{"gitId":"wxwxwxwx9"},"content":"   */"},{"lineNumber":623,"author":{"gitId":"wxwxwxwx9"},"content":"  static shiftSlotNodeDeeper(node) {"},{"lineNumber":624,"author":{"gitId":"wxwxwxwx9"},"content":"    if (!node.children) {"},{"lineNumber":625,"author":{"gitId":"wxwxwxwx9"},"content":"      return;"},{"lineNumber":626,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":627,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":628,"author":{"gitId":"wxwxwxwx9"},"content":"    node.children.forEach((child) \u003d\u003e {"},{"lineNumber":629,"author":{"gitId":"wxwxwxwx9"},"content":"      const vslotShorthandName \u003d NodeProcessor.getVslotShorthandName(child);"},{"lineNumber":630,"author":{"gitId":"wxwxwxwx9"},"content":"      if (vslotShorthandName \u0026\u0026 child.name !\u003d\u003d \u0027template\u0027) {"},{"lineNumber":631,"author":{"gitId":"wxwxwxwx9"},"content":"        const newSlotNode \u003d cheerio.parseHTML(\u0027\u003ctemplate\u003e\u003c/template\u003e\u0027)[0];"},{"lineNumber":632,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":633,"author":{"gitId":"wxwxwxwx9"},"content":"        const vslotShorthand \u003d `#${vslotShorthandName}`;"},{"lineNumber":634,"author":{"gitId":"wxwxwxwx9"},"content":"        newSlotNode.attribs[vslotShorthand] \u003d \u0027\u0027;"},{"lineNumber":635,"author":{"gitId":"wxwxwxwx9"},"content":"        delete child.attribs[vslotShorthand];"},{"lineNumber":636,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":637,"author":{"gitId":"wxwxwxwx9"},"content":"        newSlotNode.parent \u003d node;"},{"lineNumber":638,"author":{"gitId":"wxwxwxwx9"},"content":"        child.parent \u003d newSlotNode;"},{"lineNumber":639,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":640,"author":{"gitId":"wxwxwxwx9"},"content":"        newSlotNode.children.push(child);"},{"lineNumber":641,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":642,"author":{"gitId":"wxwxwxwx9"},"content":"        // replace the shifted old child node with the new slot node"},{"lineNumber":643,"author":{"gitId":"wxwxwxwx9"},"content":"        node.children.forEach((childNode, idx) \u003d\u003e {"},{"lineNumber":644,"author":{"gitId":"wxwxwxwx9"},"content":"          if (childNode \u003d\u003d\u003d child) {"},{"lineNumber":645,"author":{"gitId":"wxwxwxwx9"},"content":"            node.children[idx] \u003d newSlotNode;"},{"lineNumber":646,"author":{"gitId":"wxwxwxwx9"},"content":"          }"},{"lineNumber":647,"author":{"gitId":"wxwxwxwx9"},"content":"        });"},{"lineNumber":648,"author":{"gitId":"wxwxwxwx9"},"content":"      }"},{"lineNumber":649,"author":{"gitId":"wxwxwxwx9"},"content":"    });"},{"lineNumber":650,"author":{"gitId":"wxwxwxwx9"},"content":"  }"},{"lineNumber":651,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":652,"author":{"gitId":"wxwxwxwx9"},"content":"  /*"},{"lineNumber":653,"author":{"gitId":"wxwxwxwx9"},"content":"   * Transforms deprecated vue slot syntax (slot\u003d\"test\") into the updated Vue slot shorthand syntax (#test)."},{"lineNumber":654,"author":{"gitId":"wxwxwxwx9"},"content":"   */"},{"lineNumber":655,"author":{"gitId":"wxwxwxwx9"},"content":"  static transformOldSlotSyntax(node) {"},{"lineNumber":656,"author":{"gitId":"wxwxwxwx9"},"content":"    if (!node.children) {"},{"lineNumber":657,"author":{"gitId":"wxwxwxwx9"},"content":"      return;"},{"lineNumber":658,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":659,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":660,"author":{"gitId":"wxwxwxwx9"},"content":"    node.children.forEach((child) \u003d\u003e {"},{"lineNumber":661,"author":{"gitId":"wxwxwxwx9"},"content":"      if (_.has(child.attribs, \u0027slot\u0027)) {"},{"lineNumber":662,"author":{"gitId":"wxwxwxwx9"},"content":"        const vslotShorthandName \u003d `#${child.attribs.slot}`;"},{"lineNumber":663,"author":{"gitId":"wxwxwxwx9"},"content":"        child.attribs[vslotShorthandName] \u003d \u0027\u0027;"},{"lineNumber":664,"author":{"gitId":"wxwxwxwx9"},"content":"        delete child.attribs.slot;"},{"lineNumber":665,"author":{"gitId":"wxwxwxwx9"},"content":"      }"},{"lineNumber":666,"author":{"gitId":"wxwxwxwx9"},"content":"    });"},{"lineNumber":667,"author":{"gitId":"wxwxwxwx9"},"content":"  }"},{"lineNumber":668,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":669,"author":{"gitId":"-"},"content":"  /*"},{"lineNumber":670,"author":{"gitId":"-"},"content":"   * API"},{"lineNumber":671,"author":{"gitId":"-"},"content":"   */"},{"lineNumber":672,"author":{"gitId":"-"},"content":""},{"lineNumber":673,"author":{"gitId":"-"},"content":"  processNode(node, context) {"},{"lineNumber":674,"author":{"gitId":"-"},"content":"    try {"},{"lineNumber":675,"author":{"gitId":"wxwxwxwx9"},"content":"      NodeProcessor.transformOldSlotSyntax(node);"},{"lineNumber":676,"author":{"gitId":"wxwxwxwx9"},"content":"      NodeProcessor.shiftSlotNodeDeeper(node);"},{"lineNumber":677,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":678,"author":{"gitId":"-"},"content":"      switch (node.name) {"},{"lineNumber":679,"author":{"gitId":"-"},"content":"      case \u0027frontmatter\u0027:"},{"lineNumber":680,"author":{"gitId":"ryoarmanda"},"content":"        this._processFrontMatter(node, context);"},{"lineNumber":681,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":682,"author":{"gitId":"-"},"content":"      case \u0027body\u0027:"},{"lineNumber":683,"author":{"gitId":"-"},"content":"        NodeProcessor._preprocessBody(node);"},{"lineNumber":684,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":685,"author":{"gitId":"-"},"content":"      case \u0027code\u0027:"},{"lineNumber":686,"author":{"gitId":"-"},"content":"        node.attribs[\u0027v-pre\u0027] \u003d \u0027\u0027;"},{"lineNumber":687,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":688,"author":{"gitId":"-"},"content":"      case \u0027include\u0027:"},{"lineNumber":689,"author":{"gitId":"-"},"content":"        this.docId +\u003d 1; // used in markdown-it-footnotes"},{"lineNumber":690,"author":{"gitId":"-"},"content":"        return processInclude(node, context, this.pageSources, this.variableProcessor,"},{"lineNumber":691,"author":{"gitId":"-"},"content":"                              text \u003d\u003e this._renderMd(text), text \u003d\u003e this._renderMdInline(text),"},{"lineNumber":692,"author":{"gitId":"-"},"content":"                              this.config);"},{"lineNumber":693,"author":{"gitId":"-"},"content":"      case \u0027panel\u0027:"},{"lineNumber":694,"author":{"gitId":"-"},"content":"        this._processPanelAttributes(node);"},{"lineNumber":695,"author":{"gitId":"-"},"content":"        return processPanelSrc(node, context, this.pageSources, this.config);"},{"lineNumber":696,"author":{"gitId":"-"},"content":"      case \u0027question\u0027:"},{"lineNumber":697,"author":{"gitId":"-"},"content":"        this._processQuestion(node);"},{"lineNumber":698,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":699,"author":{"gitId":"-"},"content":"      case \u0027q-option\u0027:"},{"lineNumber":700,"author":{"gitId":"-"},"content":"        this._processQOption(node);"},{"lineNumber":701,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":702,"author":{"gitId":"-"},"content":"      case \u0027quiz\u0027:"},{"lineNumber":703,"author":{"gitId":"-"},"content":"        this._processQuiz(node);"},{"lineNumber":704,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":705,"author":{"gitId":"-"},"content":"      case \u0027popover\u0027:"},{"lineNumber":706,"author":{"gitId":"-"},"content":"        this._processPopover(node);"},{"lineNumber":707,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":708,"author":{"gitId":"-"},"content":"      case \u0027tooltip\u0027:"},{"lineNumber":709,"author":{"gitId":"-"},"content":"        this._processTooltip(node);"},{"lineNumber":710,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":711,"author":{"gitId":"-"},"content":"      case \u0027modal\u0027:"},{"lineNumber":712,"author":{"gitId":"-"},"content":"        this._processModalAttributes(node);"},{"lineNumber":713,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":714,"author":{"gitId":"-"},"content":"      case \u0027tab\u0027:"},{"lineNumber":715,"author":{"gitId":"-"},"content":"      case \u0027tab-group\u0027:"},{"lineNumber":716,"author":{"gitId":"-"},"content":"        this._processTabAttributes(node);"},{"lineNumber":717,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":718,"author":{"gitId":"-"},"content":"      case \u0027box\u0027:"},{"lineNumber":719,"author":{"gitId":"-"},"content":"        this._processBoxAttributes(node);"},{"lineNumber":720,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":721,"author":{"gitId":"-"},"content":"      case \u0027dropdown\u0027:"},{"lineNumber":722,"author":{"gitId":"-"},"content":"        this._processDropdownAttributes(node);"},{"lineNumber":723,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":724,"author":{"gitId":"-"},"content":"      case \u0027thumbnail\u0027:"},{"lineNumber":725,"author":{"gitId":"-"},"content":"        this._processThumbnailAttributes(node);"},{"lineNumber":726,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":727,"author":{"gitId":"-"},"content":"      case \u0027annotation\u0027:"},{"lineNumber":728,"author":{"gitId":"-"},"content":"        NodeProcessor._processAnnotationAttributes(node);"},{"lineNumber":729,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":730,"author":{"gitId":"-"},"content":"      case \u0027site-nav\u0027:"},{"lineNumber":731,"author":{"gitId":"-"},"content":"        renderSiteNav(node);"},{"lineNumber":732,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":733,"author":{"gitId":"-"},"content":"      case \u0027mb-temp-footnotes\u0027:"},{"lineNumber":734,"author":{"gitId":"-"},"content":"        this._processMbTempFootnotes(node);"},{"lineNumber":735,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":736,"author":{"gitId":"-"},"content":"      default:"},{"lineNumber":737,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":738,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":739,"author":{"gitId":"-"},"content":"    } catch (error) {"},{"lineNumber":740,"author":{"gitId":"-"},"content":"      logger.error(error);"},{"lineNumber":741,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":742,"author":{"gitId":"-"},"content":""},{"lineNumber":743,"author":{"gitId":"-"},"content":"    return context;"},{"lineNumber":744,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":745,"author":{"gitId":"-"},"content":""},{"lineNumber":746,"author":{"gitId":"-"},"content":"  postProcessNode(node) {"},{"lineNumber":747,"author":{"gitId":"-"},"content":"    try {"},{"lineNumber":748,"author":{"gitId":"-"},"content":"      switch (node.name) {"},{"lineNumber":749,"author":{"gitId":"-"},"content":"      case \u0027panel\u0027:"},{"lineNumber":750,"author":{"gitId":"-"},"content":"        NodeProcessor._assignPanelId(node);"},{"lineNumber":751,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":752,"author":{"gitId":"-"},"content":"      case \u0027head-top\u0027:"},{"lineNumber":753,"author":{"gitId":"-"},"content":"        this._collectLayoutEl(node, \u0027headTop\u0027);"},{"lineNumber":754,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":755,"author":{"gitId":"-"},"content":"      case \u0027head-bottom\u0027:"},{"lineNumber":756,"author":{"gitId":"-"},"content":"        this._collectLayoutEl(node, \u0027headBottom\u0027);"},{"lineNumber":757,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":758,"author":{"gitId":"-"},"content":"      case \u0027script-bottom\u0027:"},{"lineNumber":759,"author":{"gitId":"-"},"content":"        this._collectLayoutEl(node, \u0027scriptBottom\u0027);"},{"lineNumber":760,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":761,"author":{"gitId":"-"},"content":"      default:"},{"lineNumber":762,"author":{"gitId":"-"},"content":"        break;"},{"lineNumber":763,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":764,"author":{"gitId":"-"},"content":"    } catch (error) {"},{"lineNumber":765,"author":{"gitId":"-"},"content":"      logger.error(error);"},{"lineNumber":766,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":767,"author":{"gitId":"-"},"content":""},{"lineNumber":768,"author":{"gitId":"-"},"content":"    if (node.attribs) {"},{"lineNumber":769,"author":{"gitId":"-"},"content":"      delete node.attribs[ATTRIB_CWF];"},{"lineNumber":770,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":771,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":772,"author":{"gitId":"-"},"content":""},{"lineNumber":773,"author":{"gitId":"-"},"content":"  _process(node, context) {"},{"lineNumber":774,"author":{"gitId":"-"},"content":"    if (_.isArray(node)) {"},{"lineNumber":775,"author":{"gitId":"-"},"content":"      return node.map(el \u003d\u003e this._process(el, context));"},{"lineNumber":776,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":777,"author":{"gitId":"-"},"content":"    if (NodeProcessor._isText(node)) {"},{"lineNumber":778,"author":{"gitId":"-"},"content":"      return node;"},{"lineNumber":779,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":780,"author":{"gitId":"-"},"content":"    if (node.name) {"},{"lineNumber":781,"author":{"gitId":"-"},"content":"      node.name \u003d node.name.toLowerCase();"},{"lineNumber":782,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":783,"author":{"gitId":"-"},"content":"    if (linkProcessor.hasTagLink(node)) {"},{"lineNumber":784,"author":{"gitId":"-"},"content":"      linkProcessor.convertRelativeLinks(node, context.cwf, this.config.rootPath, this.config.baseUrl);"},{"lineNumber":785,"author":{"gitId":"-"},"content":"      linkProcessor.convertMdAndMbdExtToHtmlExt(node);"},{"lineNumber":786,"author":{"gitId":"wxwxwxwx9"},"content":"      if (this.config.intrasiteLinkValidation.enabled) {"},{"lineNumber":787,"author":{"gitId":"-"},"content":"        linkProcessor.validateIntraLink(node, context.cwf, this.config);"},{"lineNumber":788,"author":{"gitId":"wxwxwxwx9"},"content":"      }"},{"lineNumber":789,"author":{"gitId":"-"},"content":"      linkProcessor.collectSource(node, this.config.rootPath, this.config.baseUrl, this.pageSources);"},{"lineNumber":790,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":791,"author":{"gitId":"-"},"content":""},{"lineNumber":792,"author":{"gitId":"-"},"content":"    const isHeadingTag \u003d (/^h[1-6]$/).test(node.name);"},{"lineNumber":793,"author":{"gitId":"-"},"content":""},{"lineNumber":794,"author":{"gitId":"-"},"content":"    if (isHeadingTag \u0026\u0026 !node.attribs.id) {"},{"lineNumber":795,"author":{"gitId":"-"},"content":"      this._setHeadingId(node);"},{"lineNumber":796,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":797,"author":{"gitId":"-"},"content":""},{"lineNumber":798,"author":{"gitId":"-"},"content":"    switch (node.name) {"},{"lineNumber":799,"author":{"gitId":"-"},"content":"    case \u0027md\u0027:"},{"lineNumber":800,"author":{"gitId":"-"},"content":"      node.name \u003d \u0027span\u0027;"},{"lineNumber":801,"author":{"gitId":"-"},"content":"      node.children \u003d cheerio.parseHTML(this._renderMdInline(cheerio.html(node.children)), true);"},{"lineNumber":802,"author":{"gitId":"-"},"content":"      break;"},{"lineNumber":803,"author":{"gitId":"-"},"content":"    case \u0027markdown\u0027:"},{"lineNumber":804,"author":{"gitId":"-"},"content":"      node.name \u003d \u0027div\u0027;"},{"lineNumber":805,"author":{"gitId":"-"},"content":"      node.children \u003d cheerio.parseHTML(this._renderMd(cheerio.html(node.children)), true);"},{"lineNumber":806,"author":{"gitId":"-"},"content":"      break;"},{"lineNumber":807,"author":{"gitId":"-"},"content":"    default:"},{"lineNumber":808,"author":{"gitId":"-"},"content":"      break;"},{"lineNumber":809,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":810,"author":{"gitId":"-"},"content":""},{"lineNumber":811,"author":{"gitId":"-"},"content":"    // eslint-disable-next-line no-param-reassign"},{"lineNumber":812,"author":{"gitId":"-"},"content":"    context \u003d this.processNode(node, context);"},{"lineNumber":813,"author":{"gitId":"-"},"content":"    this.pluginManager.processNode(node, this.config);"},{"lineNumber":814,"author":{"gitId":"-"},"content":""},{"lineNumber":815,"author":{"gitId":"-"},"content":"    if (node.children) {"},{"lineNumber":816,"author":{"gitId":"-"},"content":"      node.children.forEach((child) \u003d\u003e {"},{"lineNumber":817,"author":{"gitId":"-"},"content":"        this._process(child, context);"},{"lineNumber":818,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":819,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":820,"author":{"gitId":"-"},"content":""},{"lineNumber":821,"author":{"gitId":"-"},"content":"    this.postProcessNode(node);"},{"lineNumber":822,"author":{"gitId":"-"},"content":""},{"lineNumber":823,"author":{"gitId":"-"},"content":"    insertTemporaryStyles(node);"},{"lineNumber":824,"author":{"gitId":"-"},"content":""},{"lineNumber":825,"author":{"gitId":"-"},"content":"    if (isHeadingTag \u0026\u0026 !node.attribs.id) {"},{"lineNumber":826,"author":{"gitId":"-"},"content":"      this._setHeadingId(node); // do this one more time, in case the first one assigned a blank id"},{"lineNumber":827,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":828,"author":{"gitId":"-"},"content":""},{"lineNumber":829,"author":{"gitId":"-"},"content":"    // If a fixed header is applied to the page, generate dummy spans as anchor points"},{"lineNumber":830,"author":{"gitId":"-"},"content":"    if (isHeadingTag \u0026\u0026 node.attribs.id) {"},{"lineNumber":831,"author":{"gitId":"-"},"content":"      cheerio(node).prepend(`\u003cspan id\u003d\"${node.attribs.id}\" class\u003d\"anchor\"\u003e\u003c/span\u003e`);"},{"lineNumber":832,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":833,"author":{"gitId":"-"},"content":""},{"lineNumber":834,"author":{"gitId":"-"},"content":"    return node;"},{"lineNumber":835,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":836,"author":{"gitId":"-"},"content":""},{"lineNumber":837,"author":{"gitId":"-"},"content":"  process(file, content, cwf \u003d file, extraVariables \u003d {}) {"},{"lineNumber":838,"author":{"gitId":"ryoarmanda"},"content":"    const context \u003d new Context(cwf, [], extraVariables, {});"},{"lineNumber":839,"author":{"gitId":"-"},"content":""},{"lineNumber":840,"author":{"gitId":"-"},"content":"    return new Promise((resolve, reject) \u003d\u003e {"},{"lineNumber":841,"author":{"gitId":"-"},"content":"      const handler \u003d new htmlparser.DomHandler((error, dom) \u003d\u003e {"},{"lineNumber":842,"author":{"gitId":"-"},"content":"        if (error) {"},{"lineNumber":843,"author":{"gitId":"-"},"content":"          reject(error);"},{"lineNumber":844,"author":{"gitId":"-"},"content":"          return;"},{"lineNumber":845,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":846,"author":{"gitId":"-"},"content":"        const nodes \u003d dom.map((d) \u003d\u003e {"},{"lineNumber":847,"author":{"gitId":"-"},"content":"          let processed;"},{"lineNumber":848,"author":{"gitId":"-"},"content":"          try {"},{"lineNumber":849,"author":{"gitId":"-"},"content":"            processed \u003d this._process(d, context);"},{"lineNumber":850,"author":{"gitId":"-"},"content":"          } catch (err) {"},{"lineNumber":851,"author":{"gitId":"-"},"content":"            err.message +\u003d `\\nError while rendering \u0027${file}\u0027`;"},{"lineNumber":852,"author":{"gitId":"-"},"content":"            logger.error(err);"},{"lineNumber":853,"author":{"gitId":"-"},"content":"            processed \u003d utils.createErrorNode(d, err);"},{"lineNumber":854,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":855,"author":{"gitId":"-"},"content":"          return processed;"},{"lineNumber":856,"author":{"gitId":"-"},"content":"        });"},{"lineNumber":857,"author":{"gitId":"-"},"content":"        nodes.forEach(d \u003d\u003e NodeProcessor._trimNodes(d));"},{"lineNumber":858,"author":{"gitId":"-"},"content":""},{"lineNumber":859,"author":{"gitId":"-"},"content":"        resolve(cheerio(nodes).html() + this._combineFootnotes());"},{"lineNumber":860,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":861,"author":{"gitId":"-"},"content":"      const parser \u003d new htmlparser.Parser(handler);"},{"lineNumber":862,"author":{"gitId":"-"},"content":"      const fileExt \u003d utils.getExt(file);"},{"lineNumber":863,"author":{"gitId":"-"},"content":"      if (utils.isMarkdownFileExt(fileExt)) {"},{"lineNumber":864,"author":{"gitId":"-"},"content":"        const renderedContent \u003d this._renderMd(content);"},{"lineNumber":865,"author":{"gitId":"-"},"content":"        // Wrap with \u003croot\u003e as $.remove() does not work on top level nodes"},{"lineNumber":866,"author":{"gitId":"-"},"content":"        parser.parseComplete(`\u003croot\u003e${renderedContent}\u003c/root\u003e`);"},{"lineNumber":867,"author":{"gitId":"-"},"content":"      } else if (fileExt \u003d\u003d\u003d \u0027html\u0027) {"},{"lineNumber":868,"author":{"gitId":"-"},"content":"        parser.parseComplete(`\u003croot\u003e${content}\u003c/root\u003e`);"},{"lineNumber":869,"author":{"gitId":"-"},"content":"      } else {"},{"lineNumber":870,"author":{"gitId":"-"},"content":"        const error \u003d new Error(`Unsupported File Extension: \u0027${fileExt}\u0027`);"},{"lineNumber":871,"author":{"gitId":"-"},"content":"        reject(error);"},{"lineNumber":872,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":873,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":874,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":875,"author":{"gitId":"-"},"content":"}"},{"lineNumber":876,"author":{"gitId":"-"},"content":""},{"lineNumber":877,"author":{"gitId":"-"},"content":"module.exports \u003d {"},{"lineNumber":878,"author":{"gitId":"-"},"content":"  NodeProcessor,"},{"lineNumber":879,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"wxwxwxwx9":97,"-":778,"ryoarmanda":4}},{"path":"packages/core/src/html/includePanelProcessor.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const cheerio \u003d require(\u0027cheerio\u0027); require(\u0027../patches/htmlparser2\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":3,"author":{"gitId":"-"},"content":"const url \u003d require(\u0027url\u0027);"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const logger \u003d require(\u0027../utils/logger\u0027);"},{"lineNumber":5,"author":{"gitId":"-"},"content":""},{"lineNumber":6,"author":{"gitId":"-"},"content":"const { CyclicReferenceError } \u003d require(\u0027../errors\u0027);"},{"lineNumber":7,"author":{"gitId":"-"},"content":""},{"lineNumber":8,"author":{"gitId":"-"},"content":"const utils \u003d require(\u0027../utils\u0027);"},{"lineNumber":9,"author":{"gitId":"-"},"content":"const urlUtils \u003d require(\u0027../utils/urls\u0027);"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"const _ \u003d {};"},{"lineNumber":12,"author":{"gitId":"-"},"content":"_.has \u003d require(\u0027lodash/has\u0027);"},{"lineNumber":13,"author":{"gitId":"-"},"content":"_.isEmpty \u003d require(\u0027lodash/isEmpty\u0027);"},{"lineNumber":14,"author":{"gitId":"-"},"content":""},{"lineNumber":15,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":16,"author":{"gitId":"-"},"content":" * Common panel and include helper functions"},{"lineNumber":17,"author":{"gitId":"-"},"content":" */"},{"lineNumber":18,"author":{"gitId":"-"},"content":""},{"lineNumber":19,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":20,"author":{"gitId":"-"},"content":" * Returns either an empty or error node depending on whether the file specified exists"},{"lineNumber":21,"author":{"gitId":"-"},"content":" * and whether this file is optional if not."},{"lineNumber":22,"author":{"gitId":"-"},"content":" */"},{"lineNumber":23,"author":{"gitId":"-"},"content":"function _getFileExistsNode(element, context, actualFilePath, pageSources, isOptional \u003d false) {"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  if (!utils.fileExists(actualFilePath)) {"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    if (isOptional) {"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      return utils.createEmptyNode();"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"    pageSources.missingIncludeSrc.push({"},{"lineNumber":30,"author":{"gitId":"-"},"content":"      from: context.cwf,"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      to: actualFilePath,"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    const error \u003d new Error("},{"lineNumber":34,"author":{"gitId":"-"},"content":"      `No such file: ${actualFilePath}\\nMissing reference in ${context.cwf}`);"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    logger.error(error);"},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"    return utils.createErrorNode(element, error);"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":39,"author":{"gitId":"-"},"content":""},{"lineNumber":40,"author":{"gitId":"-"},"content":"  return false;"},{"lineNumber":41,"author":{"gitId":"-"},"content":"}"},{"lineNumber":42,"author":{"gitId":"-"},"content":""},{"lineNumber":43,"author":{"gitId":"-"},"content":"function _getBoilerplateFilePath(node, filePath, config) {"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  const element \u003d node;"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"  const isBoilerplate \u003d _.has(element.attribs, \u0027boilerplate\u0027);"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  if (isBoilerplate) {"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    element.attribs.boilerplate \u003d element.attribs.boilerplate || path.basename(filePath);"},{"lineNumber":49,"author":{"gitId":"-"},"content":""},{"lineNumber":50,"author":{"gitId":"-"},"content":"    return urlUtils.calculateBoilerplateFilePath(element.attribs.boilerplate, filePath, config);"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":52,"author":{"gitId":"-"},"content":""},{"lineNumber":53,"author":{"gitId":"-"},"content":"  return undefined;"},{"lineNumber":54,"author":{"gitId":"-"},"content":"}"},{"lineNumber":55,"author":{"gitId":"-"},"content":""},{"lineNumber":56,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":57,"author":{"gitId":"-"},"content":" * Retrieves several flags and file paths from the src attribute specified in the element."},{"lineNumber":58,"author":{"gitId":"-"},"content":" */"},{"lineNumber":59,"author":{"gitId":"-"},"content":"function _getSrcFlagsAndFilePaths(element, config) {"},{"lineNumber":60,"author":{"gitId":"-"},"content":"  const isUrl \u003d utils.isUrl(element.attribs.src);"},{"lineNumber":61,"author":{"gitId":"-"},"content":""},{"lineNumber":62,"author":{"gitId":"-"},"content":"  // We do this even if the src is not a url to get the hash, if any"},{"lineNumber":63,"author":{"gitId":"-"},"content":"  const includeSrc \u003d url.parse(element.attribs.src);"},{"lineNumber":64,"author":{"gitId":"-"},"content":""},{"lineNumber":65,"author":{"gitId":"-"},"content":"  let filePath;"},{"lineNumber":66,"author":{"gitId":"-"},"content":"  if (isUrl) {"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    filePath \u003d element.attribs.src;"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  } else {"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    const includePath \u003d decodeURIComponent(includeSrc.path);"},{"lineNumber":70,"author":{"gitId":"-"},"content":""},{"lineNumber":71,"author":{"gitId":"-"},"content":"    /*"},{"lineNumber":72,"author":{"gitId":"-"},"content":"     If the src starts with the baseUrl (or simply \u0027/\u0027 if there is no baseUrl specified),"},{"lineNumber":73,"author":{"gitId":"-"},"content":"     get the relative path from the rootPath first,"},{"lineNumber":74,"author":{"gitId":"-"},"content":"     then use it to resolve the absolute path of the referenced file on the filesystem."},{"lineNumber":75,"author":{"gitId":"-"},"content":"     */"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    const relativePathToFile \u003d path.posix.relative(`${config.baseUrl}/`, includePath);"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    filePath \u003d path.resolve(config.rootPath, relativePathToFile);"},{"lineNumber":78,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":79,"author":{"gitId":"-"},"content":""},{"lineNumber":80,"author":{"gitId":"-"},"content":"  const boilerplateFilePath \u003d _getBoilerplateFilePath(element, filePath, config);"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  const actualFilePath \u003d boilerplateFilePath || filePath;"},{"lineNumber":82,"author":{"gitId":"-"},"content":""},{"lineNumber":83,"author":{"gitId":"-"},"content":"  return {"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    isUrl,"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    hash: includeSrc.hash,"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    filePath,"},{"lineNumber":87,"author":{"gitId":"-"},"content":"    actualFilePath,"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":89,"author":{"gitId":"-"},"content":"}"},{"lineNumber":90,"author":{"gitId":"-"},"content":""},{"lineNumber":91,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":92,"author":{"gitId":"-"},"content":" * Panels"},{"lineNumber":93,"author":{"gitId":"-"},"content":" */"},{"lineNumber":94,"author":{"gitId":"-"},"content":""},{"lineNumber":95,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":96,"author":{"gitId":"-"},"content":" * PreProcesses panels with a src attribute specified."},{"lineNumber":97,"author":{"gitId":"-"},"content":" * Replaces the panel with an error node if the src is invalid."},{"lineNumber":98,"author":{"gitId":"-"},"content":" * Otherwise, sets the fragment attribute of the panel as parsed from the src,"},{"lineNumber":99,"author":{"gitId":"-"},"content":" * and adds the appropriate include."},{"lineNumber":100,"author":{"gitId":"-"},"content":" */"},{"lineNumber":101,"author":{"gitId":"-"},"content":"function processPanelSrc(node, context, pageSources, config) {"},{"lineNumber":102,"author":{"gitId":"-"},"content":"  const hasSrc \u003d _.has(node.attribs, \u0027src\u0027);"},{"lineNumber":103,"author":{"gitId":"-"},"content":"  if (!hasSrc) {"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    return context;"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":106,"author":{"gitId":"-"},"content":""},{"lineNumber":107,"author":{"gitId":"-"},"content":"  const {"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    isUrl,"},{"lineNumber":109,"author":{"gitId":"-"},"content":"    hash,"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    filePath,"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    actualFilePath,"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  } \u003d _getSrcFlagsAndFilePaths(node, config);"},{"lineNumber":113,"author":{"gitId":"-"},"content":""},{"lineNumber":114,"author":{"gitId":"-"},"content":"  const fileExistsNode \u003d _getFileExistsNode(node, context, actualFilePath, pageSources);"},{"lineNumber":115,"author":{"gitId":"-"},"content":"  if (fileExistsNode) {"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    return fileExistsNode;"},{"lineNumber":117,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":118,"author":{"gitId":"-"},"content":""},{"lineNumber":119,"author":{"gitId":"-"},"content":"  if (!isUrl \u0026\u0026 hash) {"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    node.attribs.fragment \u003d hash.substring(1);"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":122,"author":{"gitId":"-"},"content":""},{"lineNumber":123,"author":{"gitId":"-"},"content":"  const { fragment } \u003d node.attribs;"},{"lineNumber":124,"author":{"gitId":"-"},"content":"  const relativePath \u003d utils.setExtension(path.relative(config.rootPath, filePath), \u0027._include_.html\u0027);"},{"lineNumber":125,"author":{"gitId":"-"},"content":"  const fullResourcePath \u003d path.posix.join(`${config.baseUrl}/`, utils.ensurePosix(relativePath));"},{"lineNumber":126,"author":{"gitId":"-"},"content":"  node.attribs.src \u003d fragment ? `${fullResourcePath}#${fragment}` : fullResourcePath;"},{"lineNumber":127,"author":{"gitId":"-"},"content":""},{"lineNumber":128,"author":{"gitId":"-"},"content":"  delete node.attribs.boilerplate;"},{"lineNumber":129,"author":{"gitId":"-"},"content":""},{"lineNumber":130,"author":{"gitId":"-"},"content":"  pageSources.dynamicIncludeSrc.push({"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    from: context.cwf,"},{"lineNumber":132,"author":{"gitId":"-"},"content":"    to: actualFilePath,"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    asIfTo: filePath,"},{"lineNumber":134,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":135,"author":{"gitId":"-"},"content":""},{"lineNumber":136,"author":{"gitId":"-"},"content":"  return node;"},{"lineNumber":137,"author":{"gitId":"-"},"content":"}"},{"lineNumber":138,"author":{"gitId":"-"},"content":""},{"lineNumber":139,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":140,"author":{"gitId":"-"},"content":" * Includes"},{"lineNumber":141,"author":{"gitId":"-"},"content":" */"},{"lineNumber":142,"author":{"gitId":"-"},"content":""},{"lineNumber":143,"author":{"gitId":"-"},"content":"function _deleteIncludeAttributes(node) {"},{"lineNumber":144,"author":{"gitId":"-"},"content":"  // Delete variable attributes in include tags as they are no longer needed"},{"lineNumber":145,"author":{"gitId":"-"},"content":"  // e.g. \u0027\u003cinclude var-title\u003d\"...\" var-xx\u003d\"...\" /\u003e\u0027"},{"lineNumber":146,"author":{"gitId":"-"},"content":"  Object.keys(node.attribs).forEach((attribute) \u003d\u003e {"},{"lineNumber":147,"author":{"gitId":"-"},"content":"    if (attribute.startsWith(\u0027var-\u0027)) {"},{"lineNumber":148,"author":{"gitId":"-"},"content":"      delete node.attribs[attribute];"},{"lineNumber":149,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":150,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":151,"author":{"gitId":"-"},"content":""},{"lineNumber":152,"author":{"gitId":"-"},"content":"  delete node.attribs.boilerplate;"},{"lineNumber":153,"author":{"gitId":"-"},"content":"  delete node.attribs.src;"},{"lineNumber":154,"author":{"gitId":"-"},"content":"  delete node.attribs.inline;"},{"lineNumber":155,"author":{"gitId":"-"},"content":"  delete node.attribs.trim;"},{"lineNumber":156,"author":{"gitId":"-"},"content":"  delete node.attribs.optional;"},{"lineNumber":157,"author":{"gitId":"ryoarmanda"},"content":"  delete node.attribs.omitFrontmatter;"},{"lineNumber":158,"author":{"gitId":"-"},"content":"}"},{"lineNumber":159,"author":{"gitId":"-"},"content":""},{"lineNumber":160,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":161,"author":{"gitId":"-"},"content":" * PreProcesses includes."},{"lineNumber":162,"author":{"gitId":"-"},"content":" * Replaces it with an error node if the specified src is invalid,"},{"lineNumber":163,"author":{"gitId":"-"},"content":" * or an empty node if the src is invalid but optional."},{"lineNumber":164,"author":{"gitId":"-"},"content":" */"},{"lineNumber":165,"author":{"gitId":"-"},"content":"function processInclude(node, context, pageSources, variableProcessor, renderMd, renderMdInline, config) {"},{"lineNumber":166,"author":{"gitId":"-"},"content":"  if (_.isEmpty(node.attribs.src)) {"},{"lineNumber":167,"author":{"gitId":"-"},"content":"    const error \u003d new Error(`Empty src attribute in include in: ${context.cwf}`);"},{"lineNumber":168,"author":{"gitId":"-"},"content":"    logger.error(error);"},{"lineNumber":169,"author":{"gitId":"-"},"content":"    cheerio(node).replaceWith(utils.createErrorNode(node, error));"},{"lineNumber":170,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":171,"author":{"gitId":"-"},"content":""},{"lineNumber":172,"author":{"gitId":"-"},"content":"  const {"},{"lineNumber":173,"author":{"gitId":"-"},"content":"    isUrl,"},{"lineNumber":174,"author":{"gitId":"-"},"content":"    hash,"},{"lineNumber":175,"author":{"gitId":"-"},"content":"    filePath,"},{"lineNumber":176,"author":{"gitId":"-"},"content":"    actualFilePath,"},{"lineNumber":177,"author":{"gitId":"-"},"content":"  } \u003d _getSrcFlagsAndFilePaths(node, config);"},{"lineNumber":178,"author":{"gitId":"-"},"content":""},{"lineNumber":179,"author":{"gitId":"-"},"content":"  const isOptional \u003d _.has(node.attribs, \u0027optional\u0027);"},{"lineNumber":180,"author":{"gitId":"-"},"content":"  const fileExistsNode \u003d _getFileExistsNode(node, context, actualFilePath, pageSources, isOptional);"},{"lineNumber":181,"author":{"gitId":"-"},"content":"  if (fileExistsNode) {"},{"lineNumber":182,"author":{"gitId":"-"},"content":"    return fileExistsNode;"},{"lineNumber":183,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":184,"author":{"gitId":"-"},"content":""},{"lineNumber":185,"author":{"gitId":"-"},"content":"  const isInline \u003d _.has(node.attribs, \u0027inline\u0027);"},{"lineNumber":186,"author":{"gitId":"-"},"content":"  const isTrim \u003d _.has(node.attribs, \u0027trim\u0027);"},{"lineNumber":187,"author":{"gitId":"ryoarmanda"},"content":"  const shouldOmitFrontmatter \u003d _.has(node.attribs, \u0027omitFrontmatter\u0027);"},{"lineNumber":188,"author":{"gitId":"-"},"content":""},{"lineNumber":189,"author":{"gitId":"-"},"content":"  node.name \u003d isInline ? \u0027span\u0027 : \u0027div\u0027;"},{"lineNumber":190,"author":{"gitId":"-"},"content":""},{"lineNumber":191,"author":{"gitId":"-"},"content":"  // No need to process url contents"},{"lineNumber":192,"author":{"gitId":"-"},"content":"  if (isUrl) {"},{"lineNumber":193,"author":{"gitId":"-"},"content":"    _deleteIncludeAttributes(node);"},{"lineNumber":194,"author":{"gitId":"-"},"content":"    return node;"},{"lineNumber":195,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":196,"author":{"gitId":"-"},"content":""},{"lineNumber":197,"author":{"gitId":"-"},"content":"  pageSources.staticIncludeSrc.push({"},{"lineNumber":198,"author":{"gitId":"-"},"content":"    from: context.cwf,"},{"lineNumber":199,"author":{"gitId":"-"},"content":"    to: actualFilePath,"},{"lineNumber":200,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":201,"author":{"gitId":"-"},"content":""},{"lineNumber":202,"author":{"gitId":"-"},"content":"  const {"},{"lineNumber":203,"author":{"gitId":"-"},"content":"    nunjucksProcessed,"},{"lineNumber":204,"author":{"gitId":"-"},"content":"    childContext,"},{"lineNumber":205,"author":{"gitId":"-"},"content":"  } \u003d variableProcessor.renderIncludeFile(actualFilePath, pageSources, node, context, filePath);"},{"lineNumber":206,"author":{"gitId":"-"},"content":""},{"lineNumber":207,"author":{"gitId":"-"},"content":"  let actualContent \u003d nunjucksProcessed;"},{"lineNumber":208,"author":{"gitId":"-"},"content":"  if (utils.isMarkdownFileExt(utils.getExt(actualFilePath))) {"},{"lineNumber":209,"author":{"gitId":"-"},"content":"    actualContent \u003d isInline"},{"lineNumber":210,"author":{"gitId":"-"},"content":"      ? renderMdInline(actualContent)"},{"lineNumber":211,"author":{"gitId":"-"},"content":"      : renderMd(actualContent);"},{"lineNumber":212,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":213,"author":{"gitId":"-"},"content":""},{"lineNumber":214,"author":{"gitId":"-"},"content":"  // Process sources with or without hash, retrieving and appending"},{"lineNumber":215,"author":{"gitId":"-"},"content":"  // the appropriate children to a wrapped include element"},{"lineNumber":216,"author":{"gitId":"-"},"content":"  if (hash) {"},{"lineNumber":217,"author":{"gitId":"-"},"content":"    const $ \u003d cheerio.load(actualContent);"},{"lineNumber":218,"author":{"gitId":"-"},"content":"    actualContent \u003d $(hash).html();"},{"lineNumber":219,"author":{"gitId":"-"},"content":""},{"lineNumber":220,"author":{"gitId":"-"},"content":"    if (actualContent \u003d\u003d\u003d null) {"},{"lineNumber":221,"author":{"gitId":"-"},"content":"      actualContent \u003d \u0027\u0027;"},{"lineNumber":222,"author":{"gitId":"-"},"content":""},{"lineNumber":223,"author":{"gitId":"-"},"content":"      if (!isOptional) {"},{"lineNumber":224,"author":{"gitId":"-"},"content":"        const error \u003d new Error(`No such segment \u0027${hash}\u0027 in file: ${actualFilePath}\\n`"},{"lineNumber":225,"author":{"gitId":"-"},"content":"          + `Missing reference in ${context.cwf}`);"},{"lineNumber":226,"author":{"gitId":"-"},"content":"        logger.error(error);"},{"lineNumber":227,"author":{"gitId":"-"},"content":""},{"lineNumber":228,"author":{"gitId":"-"},"content":"        actualContent \u003d cheerio.html(utils.createErrorNode(node, error));"},{"lineNumber":229,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":230,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":231,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":232,"author":{"gitId":"-"},"content":""},{"lineNumber":233,"author":{"gitId":"-"},"content":"  if (isTrim) {"},{"lineNumber":234,"author":{"gitId":"-"},"content":"    actualContent \u003d actualContent.trim();"},{"lineNumber":235,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":236,"author":{"gitId":"-"},"content":""},{"lineNumber":237,"author":{"gitId":"-"},"content":"  const $includeEl \u003d cheerio(node);"},{"lineNumber":238,"author":{"gitId":"-"},"content":"  $includeEl.empty();"},{"lineNumber":239,"author":{"gitId":"-"},"content":"  $includeEl.append(actualContent);"},{"lineNumber":240,"author":{"gitId":"-"},"content":""},{"lineNumber":241,"author":{"gitId":"-"},"content":"  if (node.children \u0026\u0026 node.children.length \u003e 0) {"},{"lineNumber":242,"author":{"gitId":"-"},"content":"    childContext.addCwfToCallstack(context.cwf);"},{"lineNumber":243,"author":{"gitId":"ryoarmanda"},"content":"    childContext.processingOptions.omitFrontmatter \u003d shouldOmitFrontmatter;"},{"lineNumber":244,"author":{"gitId":"-"},"content":""},{"lineNumber":245,"author":{"gitId":"-"},"content":"    if (childContext.hasExceededMaxCallstackSize()) {"},{"lineNumber":246,"author":{"gitId":"-"},"content":"      const error \u003d new CyclicReferenceError(childContext.callStack);"},{"lineNumber":247,"author":{"gitId":"-"},"content":"      logger.error(error);"},{"lineNumber":248,"author":{"gitId":"-"},"content":"      cheerio(node).replaceWith(utils.createErrorNode(node, error));"},{"lineNumber":249,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":250,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":251,"author":{"gitId":"-"},"content":""},{"lineNumber":252,"author":{"gitId":"-"},"content":"  _deleteIncludeAttributes(node);"},{"lineNumber":253,"author":{"gitId":"-"},"content":""},{"lineNumber":254,"author":{"gitId":"-"},"content":"  return childContext;"},{"lineNumber":255,"author":{"gitId":"-"},"content":"}"},{"lineNumber":256,"author":{"gitId":"-"},"content":""},{"lineNumber":257,"author":{"gitId":"-"},"content":"module.exports \u003d {"},{"lineNumber":258,"author":{"gitId":"-"},"content":"  processInclude,"},{"lineNumber":259,"author":{"gitId":"-"},"content":"  processPanelSrc,"},{"lineNumber":260,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"-":257,"ryoarmanda":3}},{"path":"packages/core/src/html/tempStyleProcessor.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const cheerio \u003d require(\u0027cheerio\u0027); require(\u0027../patches/htmlparser2\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"const TEMP_NAVBAR_CLASS \u003d \u0027temp-navbar\u0027;"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const TEMP_DROPDOWN_CLASS \u003d \u0027temp-dropdown\u0027;"},{"lineNumber":5,"author":{"gitId":"-"},"content":"const TEMP_DROPDOWN_PLACEHOLDER_CLASS \u003d \u0027temp-dropdown-placeholder\u0027;"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":8,"author":{"gitId":"-"},"content":" * Insert temporary styles to some elements to combat FOUC"},{"lineNumber":9,"author":{"gitId":"-"},"content":" */"},{"lineNumber":10,"author":{"gitId":"-"},"content":"function insertTemporaryStyles(node) {"},{"lineNumber":11,"author":{"gitId":"-"},"content":"  if (node.name \u003d\u003d\u003d \u0027navbar\u0027) {"},{"lineNumber":12,"author":{"gitId":"-"},"content":"    node.attribs.class \u003d `${node.attribs.class || \u0027\u0027} ${TEMP_NAVBAR_CLASS}`;"},{"lineNumber":13,"author":{"gitId":"-"},"content":"  } else if (node.name \u003d\u003d\u003d \u0027dropdown\u0027) {"},{"lineNumber":14,"author":{"gitId":"-"},"content":"    const attributes \u003d node.attribs;"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    // TODO remove attributes.text once text attribute is fully deprecated"},{"lineNumber":16,"author":{"gitId":"-"},"content":"    const placeholder \u003d `\u003cdiv\u003e${attributes.header || attributes.text || \u0027\u0027}\u003c/div\u003e`;"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    const $dropdown \u003d cheerio(node);"},{"lineNumber":18,"author":{"gitId":"wxwxwxwx9"},"content":"    $dropdown.after(placeholder);"},{"lineNumber":19,"author":{"gitId":"wxwxwxwx9"},"content":"    $dropdown.next().addClass(attributes.class).addClass(TEMP_DROPDOWN_PLACEHOLDER_CLASS);"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    $dropdown.addClass(TEMP_DROPDOWN_CLASS);"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":22,"author":{"gitId":"-"},"content":"}"},{"lineNumber":23,"author":{"gitId":"-"},"content":""},{"lineNumber":24,"author":{"gitId":"-"},"content":"module.exports \u003d {"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  insertTemporaryStyles,"},{"lineNumber":26,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"wxwxwxwx9":2,"-":24}},{"path":"packages/core/src/lib/nunjucks-extensions/set-external.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const fs \u003d require(\u0027fs-extra\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":3,"author":{"gitId":"-"},"content":""},{"lineNumber":4,"author":{"gitId":"-"},"content":"const { Parser } \u003d require(\u0027nunjucks/src/parser\u0027);"},{"lineNumber":5,"author":{"gitId":"-"},"content":"const { lex } \u003d require(\u0027nunjucks/src/lexer\u0027);"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"raysonkoh"},"content":"const csvParse \u003d require(\u0027csv-parse/lib/sync\u0027);"},{"lineNumber":8,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"const _ \u003d {};"},{"lineNumber":10,"author":{"gitId":"-"},"content":"_.isArray \u003d require(\u0027lodash/isArray\u0027);"},{"lineNumber":11,"author":{"gitId":"-"},"content":"_.isObject \u003d require(\u0027lodash/isObject\u0027);"},{"lineNumber":12,"author":{"gitId":"-"},"content":"_.isString \u003d require(\u0027lodash/isString\u0027);"},{"lineNumber":13,"author":{"gitId":"-"},"content":""},{"lineNumber":14,"author":{"gitId":"-"},"content":"const logger \u003d require(\u0027../../utils/logger\u0027);"},{"lineNumber":15,"author":{"gitId":"-"},"content":""},{"lineNumber":16,"author":{"gitId":"raysonkoh"},"content":"const acceptedFileTypes \u003d [\u0027json\u0027, \u0027csv\u0027];"},{"lineNumber":17,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":18,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":19,"author":{"gitId":"-"},"content":" * Nunjucks extension for sourcing in variables from external sources."},{"lineNumber":20,"author":{"gitId":"raysonkoh"},"content":" * Supports only .json and .csv sources for now."},{"lineNumber":21,"author":{"gitId":"-"},"content":" */"},{"lineNumber":22,"author":{"gitId":"-"},"content":"class SetExternalExtension {"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  constructor(rootPath, env) {"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    this.tags \u003d [\u0027ext\u0027];"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    this.rootPath \u003d rootPath;"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    this.env \u003d env;"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"  emitLoad(fullPath) {"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    // Emit the nunjucks load event for the listener in {@link VariableRenderer}"},{"lineNumber":31,"author":{"gitId":"-"},"content":"    this.env.emit(\u0027load\u0027, \u0027\u0027, { path: fullPath });"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":33,"author":{"gitId":"-"},"content":""},{"lineNumber":34,"author":{"gitId":"-"},"content":"  parse(parser, nodes, lexer) {"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    // get the tag token"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    const setExtTagToken \u003d parser.nextToken();"},{"lineNumber":37,"author":{"gitId":"-"},"content":""},{"lineNumber":38,"author":{"gitId":"-"},"content":"    // parse the args and move after the block end. passing true"},{"lineNumber":39,"author":{"gitId":"-"},"content":"    // as the second arg is required if there are no parentheses"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    const args \u003d parser.parseSignature(null, true);"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    parser.advanceAfterBlockEnd(setExtTagToken.value);"},{"lineNumber":42,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":43,"author":{"gitId":"raysonkoh"},"content":"    const options \u003d args.children"},{"lineNumber":44,"author":{"gitId":"raysonkoh"},"content":"      .filter(child \u003d\u003e !(child instanceof nodes.KeywordArgs))"},{"lineNumber":45,"author":{"gitId":"raysonkoh"},"content":"      .map(child \u003d\u003e child.value);"},{"lineNumber":46,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":47,"author":{"gitId":"raysonkoh"},"content":"    // last child contains the kvp containing the path to the external variable source"},{"lineNumber":48,"author":{"gitId":"raysonkoh"},"content":"    const lastChild \u003d args.children[args.children.length - 1];"},{"lineNumber":49,"author":{"gitId":"-"},"content":""},{"lineNumber":50,"author":{"gitId":"-"},"content":"    const buffer \u003d [];"},{"lineNumber":51,"author":{"gitId":"raysonkoh"},"content":"    if (lastChild instanceof nodes.KeywordArgs) {"},{"lineNumber":52,"author":{"gitId":"raysonkoh"},"content":"      lastChild.children.forEach((pair) \u003d\u003e {"},{"lineNumber":53,"author":{"gitId":"-"},"content":"        const variableName \u003d pair.key.value;"},{"lineNumber":54,"author":{"gitId":"-"},"content":"        const resourcePath \u003d pair.value.value;"},{"lineNumber":55,"author":{"gitId":"raysonkoh"},"content":"        acceptedFileTypes.forEach((fileType) \u003d\u003e {"},{"lineNumber":56,"author":{"gitId":"raysonkoh"},"content":"          if (!resourcePath.endsWith(fileType)) {"},{"lineNumber":57,"author":{"gitId":"raysonkoh"},"content":"            return;"},{"lineNumber":58,"author":{"gitId":"raysonkoh"},"content":"          }"},{"lineNumber":59,"author":{"gitId":"-"},"content":""},{"lineNumber":60,"author":{"gitId":"-"},"content":"          const fullResourcePath \u003d path.resolve(this.rootPath, resourcePath);"},{"lineNumber":61,"author":{"gitId":"raysonkoh"},"content":"          if (fileType \u003d\u003d\u003d \u0027json\u0027) {"},{"lineNumber":62,"author":{"gitId":"-"},"content":"            const resourceRaw \u003d fs.readFileSync(fullResourcePath);"},{"lineNumber":63,"author":{"gitId":"-"},"content":"            buffer.push(`{% set ${variableName} \u003d ${resourceRaw} %}`);"},{"lineNumber":64,"author":{"gitId":"raysonkoh"},"content":"          } else if (fileType \u003d\u003d\u003d \u0027csv\u0027) {"},{"lineNumber":65,"author":{"gitId":"raysonkoh"},"content":"            const hasNoHeader \u003d options.includes(\u0027noHeader\u0027);"},{"lineNumber":66,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":67,"author":{"gitId":"raysonkoh"},"content":"            const csvResourceRaw \u003d csvParse("},{"lineNumber":68,"author":{"gitId":"raysonkoh"},"content":"              fs.readFileSync(fullResourcePath), {"},{"lineNumber":69,"author":{"gitId":"raysonkoh"},"content":"                bom: true, // strip the byte order mark (BOM) from the input string or buffer."},{"lineNumber":70,"author":{"gitId":"raysonkoh"},"content":"                columns: ("},{"lineNumber":71,"author":{"gitId":"raysonkoh"},"content":"                  hasNoHeader"},{"lineNumber":72,"author":{"gitId":"raysonkoh"},"content":"                    ? false // if noHeader is present, first row is not header row"},{"lineNumber":73,"author":{"gitId":"raysonkoh"},"content":"                    : header \u003d\u003e header.map(col \u003d\u003e col)"},{"lineNumber":74,"author":{"gitId":"raysonkoh"},"content":"                ),"},{"lineNumber":75,"author":{"gitId":"raysonkoh"},"content":"              });"},{"lineNumber":76,"author":{"gitId":"raysonkoh"},"content":"            const resourceRaw \u003d JSON.stringify(csvResourceRaw);"},{"lineNumber":77,"author":{"gitId":"raysonkoh"},"content":"            buffer.push(`{% set ${variableName} \u003d ${resourceRaw} %}`);"},{"lineNumber":78,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":79,"author":{"gitId":"-"},"content":"          this.emitLoad(fullResourcePath);"},{"lineNumber":80,"author":{"gitId":"raysonkoh"},"content":"        });"},{"lineNumber":81,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    } else {"},{"lineNumber":83,"author":{"gitId":"-"},"content":"      logger.error(`Invalid {% ext %} tag at line ${setExtTagToken.lineno}.`);"},{"lineNumber":84,"author":{"gitId":"-"},"content":"      return new nodes.NodeList(setExtTagToken.lineno, setExtTagToken.colno, []);"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":86,"author":{"gitId":"-"},"content":""},{"lineNumber":87,"author":{"gitId":"-"},"content":"    const newParser \u003d new Parser(lex(buffer.join(\u0027\\n\u0027), lexer.opts));"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    if (parser.extensions !\u003d\u003d undefined) {"},{"lineNumber":89,"author":{"gitId":"-"},"content":"      newParser.extensions \u003d parser.extensions;"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":91,"author":{"gitId":"-"},"content":""},{"lineNumber":92,"author":{"gitId":"-"},"content":"    return newParser.parse();"},{"lineNumber":93,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":94,"author":{"gitId":"-"},"content":"}"},{"lineNumber":95,"author":{"gitId":"-"},"content":""},{"lineNumber":96,"author":{"gitId":"-"},"content":"module.exports \u003d {"},{"lineNumber":97,"author":{"gitId":"-"},"content":"  SetExternalExtension,"},{"lineNumber":98,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"raysonkoh":34,"-":64}},{"path":"packages/core/src/plugins/algolia.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const cheerio \u003d module.parent.require(\u0027cheerio\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  ALGOLIA_CSS_URL,"},{"lineNumber":5,"author":{"gitId":"-"},"content":"  ALGOLIA_JS_URL,"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  ALGOLIA_INPUT_SELECTOR,"},{"lineNumber":7,"author":{"gitId":"-"},"content":"} \u003d require(\u0027../constants\u0027);"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"function buildAlgoliaInitScript(pluginContext) {"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  return `\u003cscript\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":"    docsearch({"},{"lineNumber":12,"author":{"gitId":"-"},"content":"      apiKey: \"${pluginContext.apiKey}\","},{"lineNumber":13,"author":{"gitId":"-"},"content":"      indexName: \"${pluginContext.indexName}\","},{"lineNumber":14,"author":{"gitId":"-"},"content":"      inputSelector: \"${ALGOLIA_INPUT_SELECTOR}\","},{"lineNumber":15,"author":{"gitId":"-"},"content":"      algoliaOptions: ${JSON.stringify(pluginContext.algoliaOptions || {})},"},{"lineNumber":16,"author":{"gitId":"-"},"content":"      debug: ${pluginContext.debug || false},"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  \u003c/script\u003e`;"},{"lineNumber":19,"author":{"gitId":"-"},"content":"}"},{"lineNumber":20,"author":{"gitId":"-"},"content":""},{"lineNumber":21,"author":{"gitId":"-"},"content":"function addNoIndexClasses(content) {"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  const $ \u003d cheerio.load(content);"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  const noIndexSelectors \u003d ["},{"lineNumber":24,"author":{"gitId":"-"},"content":"    \u0027dropdown\u0027,"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    \u0027b-modal\u0027,"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    \u0027panel:not([expanded])\u0027,"},{"lineNumber":27,"author":{"gitId":"wxwxwxwx9"},"content":"    // to target both popover and tooltip"},{"lineNumber":28,"author":{"gitId":"wxwxwxwx9"},"content":"    \u0027[data-mb-component-type] [data-mb-slot-name]\u0027,"},{"lineNumber":29,"author":{"gitId":"wxwxwxwx9"},"content":"    \u0027question template[\\\\#hint] div\u0027,"},{"lineNumber":30,"author":{"gitId":"wxwxwxwx9"},"content":"    \u0027question template[\\\\#answer] div\u0027,"},{"lineNumber":31,"author":{"gitId":"wxwxwxwx9"},"content":"    \u0027tab:nth-of-type(n+2)\u0027,"},{"lineNumber":32,"author":{"gitId":"wxwxwxwx9"},"content":"    \u0027tab-group:nth-of-type(n+2)\u0027,"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  ].join(\u0027, \u0027);"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  $(noIndexSelectors).addClass(\u0027algolia-no-index\u0027);"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  return $.html();"},{"lineNumber":36,"author":{"gitId":"-"},"content":"}"},{"lineNumber":37,"author":{"gitId":"-"},"content":""},{"lineNumber":38,"author":{"gitId":"-"},"content":"module.exports \u003d {"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  getLinks: () \u003d\u003e [`\u003clink rel\u003d\"stylesheet\" href\u003d\"${ALGOLIA_CSS_URL}\"\u003e`],"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  getScripts: pluginContext \u003d\u003e ["},{"lineNumber":41,"author":{"gitId":"-"},"content":"    `\u003cscript src\u003d\"${ALGOLIA_JS_URL}\"\u003e\u003c/script\u003e`,"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    buildAlgoliaInitScript(pluginContext),"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  ],"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  postRender: (pluginContext, frontMatter, content) \u003d\u003e addNoIndexClasses(content),"},{"lineNumber":45,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"wxwxwxwx9":6,"-":39}},{"path":"packages/core/src/plugins/disqus.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"wxwxwxwx9"},"content":"const cheerio \u003d module.parent.require(\u0027cheerio\u0027);"},{"lineNumber":2,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":3,"author":{"gitId":"wxwxwxwx9"},"content":"function loadDisqus(pluginContext) {"},{"lineNumber":4,"author":{"gitId":"wxwxwxwx9"},"content":"  const config \u003d `"},{"lineNumber":5,"author":{"gitId":"wxwxwxwx9"},"content":"    let path \u003d window.location.pathname;"},{"lineNumber":6,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":7,"author":{"gitId":"wxwxwxwx9"},"content":"    // strip baseUrl"},{"lineNumber":8,"author":{"gitId":"wxwxwxwx9"},"content":"    if (path.startsWith(baseUrl)) {"},{"lineNumber":9,"author":{"gitId":"wxwxwxwx9"},"content":"      path \u003d path.substring(baseUrl.length); "},{"lineNumber":10,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":11,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":12,"author":{"gitId":"wxwxwxwx9"},"content":"    const pathParams \u003d path.split(\u0027/\u0027);"},{"lineNumber":13,"author":{"gitId":"wxwxwxwx9"},"content":"    const lastPathParam \u003d pathParams[pathParams.length - 1];"},{"lineNumber":14,"author":{"gitId":"wxwxwxwx9"},"content":"    const hasNoFileExtension \u003d !lastPathParam.includes(\u0027.\u0027);"},{"lineNumber":15,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":16,"author":{"gitId":"wxwxwxwx9"},"content":"    // implicit path to index.html"},{"lineNumber":17,"author":{"gitId":"wxwxwxwx9"},"content":"    if (path.endsWith(\u0027/\u0027)) {"},{"lineNumber":18,"author":{"gitId":"wxwxwxwx9"},"content":"      path +\u003d \u0027index.html\u0027; // e.g. .../path/"},{"lineNumber":19,"author":{"gitId":"wxwxwxwx9"},"content":"    } else if (hasNoFileExtension) {"},{"lineNumber":20,"author":{"gitId":"wxwxwxwx9"},"content":"      path +\u003d \u0027/index.html\u0027; // e.g. .../path"},{"lineNumber":21,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":22,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":23,"author":{"gitId":"wxwxwxwx9"},"content":"    // need to use var and ES5 function syntax to work"},{"lineNumber":24,"author":{"gitId":"wxwxwxwx9"},"content":"    var disqus_config \u003d function() {"},{"lineNumber":25,"author":{"gitId":"wxwxwxwx9"},"content":"      this.page.identifier \u003d path;"},{"lineNumber":26,"author":{"gitId":"wxwxwxwx9"},"content":"    };   "},{"lineNumber":27,"author":{"gitId":"wxwxwxwx9"},"content":"  `;"},{"lineNumber":28,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":29,"author":{"gitId":"wxwxwxwx9"},"content":"  const load \u003d `"},{"lineNumber":30,"author":{"gitId":"wxwxwxwx9"},"content":"    const script \u003d window.document.createElement(\u0027script\u0027);"},{"lineNumber":31,"author":{"gitId":"wxwxwxwx9"},"content":"    script.src \u003d \u0027https://${pluginContext.shortname}.disqus.com/embed.js\u0027;"},{"lineNumber":32,"author":{"gitId":"wxwxwxwx9"},"content":"    document.body.appendChild(script);"},{"lineNumber":33,"author":{"gitId":"wxwxwxwx9"},"content":"  `;"},{"lineNumber":34,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":35,"author":{"gitId":"wxwxwxwx9"},"content":"  const lazyLoad \u003d `"},{"lineNumber":36,"author":{"gitId":"wxwxwxwx9"},"content":"    const options \u003d { "},{"lineNumber":37,"author":{"gitId":"wxwxwxwx9"},"content":"      root: null,"},{"lineNumber":38,"author":{"gitId":"wxwxwxwx9"},"content":"      threshold: 1,"},{"lineNumber":39,"author":{"gitId":"wxwxwxwx9"},"content":"      rootMargin: \u0027300px\u0027"},{"lineNumber":40,"author":{"gitId":"wxwxwxwx9"},"content":"    };"},{"lineNumber":41,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":42,"author":{"gitId":"wxwxwxwx9"},"content":"    const observer \u003d new IntersectionObserver((entries, observer) \u003d\u003e {"},{"lineNumber":43,"author":{"gitId":"wxwxwxwx9"},"content":"      entries.forEach((entry) \u003d\u003e {"},{"lineNumber":44,"author":{"gitId":"wxwxwxwx9"},"content":"        if (entry.isIntersecting) {"},{"lineNumber":45,"author":{"gitId":"wxwxwxwx9"},"content":"          ${load}"},{"lineNumber":46,"author":{"gitId":"wxwxwxwx9"},"content":"          observer.unobserve(entry.target);"},{"lineNumber":47,"author":{"gitId":"wxwxwxwx9"},"content":"        }"},{"lineNumber":48,"author":{"gitId":"wxwxwxwx9"},"content":"      });"},{"lineNumber":49,"author":{"gitId":"wxwxwxwx9"},"content":"    }, options);"},{"lineNumber":50,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":51,"author":{"gitId":"wxwxwxwx9"},"content":"    const elem \u003d document.querySelector(\u0027#disqus_thread\u0027);"},{"lineNumber":52,"author":{"gitId":"wxwxwxwx9"},"content":"    if (elem) {"},{"lineNumber":53,"author":{"gitId":"wxwxwxwx9"},"content":"      observer.observe(elem);"},{"lineNumber":54,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":55,"author":{"gitId":"wxwxwxwx9"},"content":"  `;"},{"lineNumber":56,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":57,"author":{"gitId":"wxwxwxwx9"},"content":"  return `"},{"lineNumber":58,"author":{"gitId":"wxwxwxwx9"},"content":"    ${config}"},{"lineNumber":59,"author":{"gitId":"wxwxwxwx9"},"content":"    ${lazyLoad}"},{"lineNumber":60,"author":{"gitId":"wxwxwxwx9"},"content":"  `;"},{"lineNumber":61,"author":{"gitId":"wxwxwxwx9"},"content":"}"},{"lineNumber":62,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":63,"author":{"gitId":"wxwxwxwx9"},"content":"module.exports \u003d {"},{"lineNumber":64,"author":{"gitId":"wxwxwxwx9"},"content":"  processNode: (pluginContext, node) \u003d\u003e {"},{"lineNumber":65,"author":{"gitId":"wxwxwxwx9"},"content":"    if (node.name !\u003d\u003d \u0027disqus\u0027) {"},{"lineNumber":66,"author":{"gitId":"wxwxwxwx9"},"content":"      return;"},{"lineNumber":67,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":68,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":69,"author":{"gitId":"wxwxwxwx9"},"content":"    const $ \u003d cheerio(node);"},{"lineNumber":70,"author":{"gitId":"wxwxwxwx9"},"content":"    $.append(\u0027\u003cdiv id\u003d\"disqus_thread\"\u003e\u003c/div\u003e\u0027);"},{"lineNumber":71,"author":{"gitId":"wxwxwxwx9"},"content":"    const script \u003d `"},{"lineNumber":72,"author":{"gitId":"wxwxwxwx9"},"content":"      \u003cscript\u003e"},{"lineNumber":73,"author":{"gitId":"wxwxwxwx9"},"content":"        const script \u003d window.document.createElement(\u0027script\u0027);"},{"lineNumber":74,"author":{"gitId":"wxwxwxwx9"},"content":"        script.innerHTML \u003d \\`${loadDisqus(pluginContext)}\\`;"},{"lineNumber":75,"author":{"gitId":"wxwxwxwx9"},"content":"        document.addEventListener(\"DOMContentLoaded\", () \u003d\u003e {"},{"lineNumber":76,"author":{"gitId":"wxwxwxwx9"},"content":"          document.body.appendChild(script);"},{"lineNumber":77,"author":{"gitId":"wxwxwxwx9"},"content":"        });"},{"lineNumber":78,"author":{"gitId":"wxwxwxwx9"},"content":"      \u003c/script\u003e"},{"lineNumber":79,"author":{"gitId":"wxwxwxwx9"},"content":"    `;"},{"lineNumber":80,"author":{"gitId":"wxwxwxwx9"},"content":"    $.append(script);"},{"lineNumber":81,"author":{"gitId":"wxwxwxwx9"},"content":"  },"},{"lineNumber":82,"author":{"gitId":"wxwxwxwx9"},"content":"};"}],"authorContributionMap":{"wxwxwxwx9":82}},{"path":"packages/core/test/unit/Site.test.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const fs \u003d require(\u0027fs-extra\u0027);"},{"lineNumber":3,"author":{"gitId":"-"},"content":"const ghpages \u003d require(\u0027gh-pages\u0027);"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const Site \u003d require(\u0027../../src/Site\u0027);"},{"lineNumber":5,"author":{"gitId":"-"},"content":""},{"lineNumber":6,"author":{"gitId":"-"},"content":"const {"},{"lineNumber":7,"author":{"gitId":"-"},"content":"  INDEX_MD_DEFAULT,"},{"lineNumber":8,"author":{"gitId":"-"},"content":"  PAGE_NJK,"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  SITE_JSON_DEFAULT,"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  getDefaultTemplateFileFullPath,"},{"lineNumber":11,"author":{"gitId":"-"},"content":"} \u003d require(\u0027./utils/data\u0027);"},{"lineNumber":12,"author":{"gitId":"-"},"content":""},{"lineNumber":13,"author":{"gitId":"-"},"content":"const DEFAULT_TEMPLATE \u003d \u0027default\u0027;"},{"lineNumber":14,"author":{"gitId":"-"},"content":""},{"lineNumber":15,"author":{"gitId":"-"},"content":"jest.mock(\u0027fs\u0027);"},{"lineNumber":16,"author":{"gitId":"-"},"content":"jest.mock(\u0027walk-sync\u0027);"},{"lineNumber":17,"author":{"gitId":"-"},"content":"jest.mock(\u0027gh-pages\u0027);"},{"lineNumber":18,"author":{"gitId":"-"},"content":"jest.mock(\u0027../../src/Page\u0027);"},{"lineNumber":19,"author":{"gitId":"-"},"content":"jest.mock(\u0027../../src/plugins/PluginManager\u0027);"},{"lineNumber":20,"author":{"gitId":"-"},"content":"jest.mock(\u0027simple-git\u0027, () \u003d\u003e () \u003d\u003e ({"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  ...jest.requireActual(\u0027simple-git\u0027)(),"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  // A test file should reduce dependencies on external libraries; use pure js functions instead."},{"lineNumber":23,"author":{"gitId":"-"},"content":"  // eslint-disable-next-line lodash/prefer-constant"},{"lineNumber":24,"author":{"gitId":"-"},"content":"  catFile: jest.fn(() \u003d\u003e \u0027mock-test-website.com\u0027),"},{"lineNumber":25,"author":{"gitId":"-"},"content":"  // eslint-disable-next-line lodash/prefer-constant"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  remote: jest.fn(() \u003d\u003e \u0027https://github.com/mockName/mockRepo.git\u0027),"},{"lineNumber":27,"author":{"gitId":"-"},"content":"}));"},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"afterEach(() \u003d\u003e fs.vol.reset());"},{"lineNumber":30,"author":{"gitId":"-"},"content":""},{"lineNumber":31,"author":{"gitId":"-"},"content":"test(\u0027Site Init with invalid template fails\u0027, async () \u003d\u003e {"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  // Mock default template in MemFS without site config"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":34,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":35,"author":{"gitId":"-"},"content":"    [getDefaultTemplateFileFullPath(\u0027index.md\u0027)]: INDEX_MD_DEFAULT,"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":37,"author":{"gitId":"-"},"content":""},{"lineNumber":38,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":39,"author":{"gitId":"-"},"content":""},{"lineNumber":40,"author":{"gitId":"-"},"content":"  Site.initSite(\u0027\u0027, DEFAULT_TEMPLATE)"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    .catch((err) \u003d\u003e {"},{"lineNumber":42,"author":{"gitId":"-"},"content":"      expect(err).toEqual("},{"lineNumber":43,"author":{"gitId":"-"},"content":"        new Error(\u0027Template validation failed. Required files does not exist\u0027));"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":45,"author":{"gitId":"-"},"content":"});"},{"lineNumber":46,"author":{"gitId":"-"},"content":""},{"lineNumber":47,"author":{"gitId":"-"},"content":"test(\u0027Site Init does not overwrite existing files\u0027, async () \u003d\u003e {"},{"lineNumber":48,"author":{"gitId":"-"},"content":"  const EXISTING_INDEX_MD \u003d \u0027THIS CONTENT SHOULD NOT BE OVERWRITTEN\u0027;"},{"lineNumber":49,"author":{"gitId":"-"},"content":""},{"lineNumber":50,"author":{"gitId":"-"},"content":"  // Mock default template in MemFS"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":52,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: EXISTING_INDEX_MD,"},{"lineNumber":53,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    [getDefaultTemplateFileFullPath(\u0027index.md\u0027)]: INDEX_MD_DEFAULT,"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    [getDefaultTemplateFileFullPath(\u0027site.json\u0027)]: SITE_JSON_DEFAULT,"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":57,"author":{"gitId":"-"},"content":""},{"lineNumber":58,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":59,"author":{"gitId":"-"},"content":""},{"lineNumber":60,"author":{"gitId":"-"},"content":"  // index.md"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  expect(fs.readFileSync(path.resolve(\u0027index.md\u0027), \u0027utf8\u0027)).toEqual(EXISTING_INDEX_MD);"},{"lineNumber":62,"author":{"gitId":"-"},"content":"});"},{"lineNumber":63,"author":{"gitId":"-"},"content":""},{"lineNumber":64,"author":{"gitId":"-"},"content":"test(\u0027Site baseurls are correct for sub nested subsites\u0027, async () \u003d\u003e {"},{"lineNumber":65,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    \u0027sub/site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    \u0027sub/sub/site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    \u0027otherSub/sub/site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":71,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":73,"author":{"gitId":"-"},"content":""},{"lineNumber":74,"author":{"gitId":"-"},"content":"  const baseUrlMapExpected \u003d new Set([\u0027\u0027, \u0027sub\u0027, \u0027sub/sub\u0027, \u0027otherSub/sub\u0027].map(url \u003d\u003e path.resolve(url)));"},{"lineNumber":75,"author":{"gitId":"-"},"content":""},{"lineNumber":76,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  await site.readSiteConfig();"},{"lineNumber":78,"author":{"gitId":"-"},"content":"  await site.collectBaseUrl();"},{"lineNumber":79,"author":{"gitId":"-"},"content":"  expect(site.baseUrlMap).toEqual(baseUrlMapExpected);"},{"lineNumber":80,"author":{"gitId":"-"},"content":"});"},{"lineNumber":81,"author":{"gitId":"-"},"content":""},{"lineNumber":82,"author":{"gitId":"-"},"content":"test(\u0027Site removeAsync removes the correct asset\u0027, async () \u003d\u003e {"},{"lineNumber":83,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":85,"author":{"gitId":"-"},"content":"    \u0027_site/toRemove.jpg\u0027: \u0027\u0027,"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    \u0027_site/dontRemove.png\u0027: \u0027\u0027,"},{"lineNumber":87,"author":{"gitId":"-"},"content":"    \u0027toRemove.html\u0027: \u0027\u0027,"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":90,"author":{"gitId":"-"},"content":""},{"lineNumber":91,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":92,"author":{"gitId":"-"},"content":"  await site.removeAsset(\u0027toRemove.jpg\u0027);"},{"lineNumber":93,"author":{"gitId":"-"},"content":"  expect(fs.existsSync(path.resolve(\u0027_site/toRemove.jpg\u0027))).toEqual(false);"},{"lineNumber":94,"author":{"gitId":"-"},"content":"  expect(fs.existsSync(path.resolve(\u0027_site/dontRemove.png\u0027))).toEqual(true);"},{"lineNumber":95,"author":{"gitId":"-"},"content":"});"},{"lineNumber":96,"author":{"gitId":"-"},"content":""},{"lineNumber":97,"author":{"gitId":"-"},"content":"test(\u0027Site read site config for default\u0027, async () \u003d\u003e {"},{"lineNumber":98,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":99,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":100,"author":{"gitId":"-"},"content":"    \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":101,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":102,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":103,"author":{"gitId":"-"},"content":""},{"lineNumber":104,"author":{"gitId":"-"},"content":"  const expectedSiteConfigDefaults \u003d { enableSearch: true };"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  const expectedSiteConfig \u003d { ...JSON.parse(SITE_JSON_DEFAULT), ...expectedSiteConfigDefaults };"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":107,"author":{"gitId":"-"},"content":"  const siteConfig \u003d await site.readSiteConfig();"},{"lineNumber":108,"author":{"gitId":"-"},"content":""},{"lineNumber":109,"author":{"gitId":"-"},"content":"  expect(siteConfig.baseUrl).toEqual(expectedSiteConfig.baseUrl);"},{"lineNumber":110,"author":{"gitId":"-"},"content":"  expect(siteConfig.titlePrefix).toEqual(expectedSiteConfig.titlePrefix);"},{"lineNumber":111,"author":{"gitId":"-"},"content":"  expect(siteConfig.ignore).toEqual(expectedSiteConfig.ignore);"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  expect(siteConfig.pages).toEqual(expectedSiteConfig.pages);"},{"lineNumber":113,"author":{"gitId":"-"},"content":"  expect(siteConfig.deploy).toEqual(expectedSiteConfig.deploy);"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  expect(siteConfig.enableSearch).toEqual(expectedSiteConfig.enableSearch);"},{"lineNumber":115,"author":{"gitId":"-"},"content":"});"},{"lineNumber":116,"author":{"gitId":"-"},"content":""},{"lineNumber":117,"author":{"gitId":"-"},"content":"test(\u0027Site read site config for custom site config\u0027, async () \u003d\u003e {"},{"lineNumber":118,"author":{"gitId":"-"},"content":"  const customSiteJson \u003d {"},{"lineNumber":119,"author":{"gitId":"-"},"content":"    baseUrl: \u0027\u0027,"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    pages: ["},{"lineNumber":121,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":122,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":123,"author":{"gitId":"-"},"content":"        title: \u0027My Markbind Website\u0027,"},{"lineNumber":124,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":125,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    ignore: ["},{"lineNumber":127,"author":{"gitId":"-"},"content":"      \u0027_site/*\u0027,"},{"lineNumber":128,"author":{"gitId":"-"},"content":"      \u0027*.json\u0027,"},{"lineNumber":129,"author":{"gitId":"-"},"content":"      \u0027*.md\u0027,"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    deploy: {"},{"lineNumber":132,"author":{"gitId":"-"},"content":"      message: \u0027Site Update.\u0027,"},{"lineNumber":133,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":134,"author":{"gitId":"-"},"content":"    enableSearch: true,"},{"lineNumber":135,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":137,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":138,"author":{"gitId":"-"},"content":"    \u0027site.json\u0027: JSON.stringify(customSiteJson),"},{"lineNumber":139,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":140,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":141,"author":{"gitId":"-"},"content":""},{"lineNumber":142,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":143,"author":{"gitId":"-"},"content":"  const siteConfig \u003d await site.readSiteConfig();"},{"lineNumber":144,"author":{"gitId":"-"},"content":""},{"lineNumber":145,"author":{"gitId":"-"},"content":"  expect(siteConfig.baseUrl).toEqual(customSiteJson.baseUrl);"},{"lineNumber":146,"author":{"gitId":"-"},"content":"  expect(siteConfig.pages).toEqual(customSiteJson.pages);"},{"lineNumber":147,"author":{"gitId":"-"},"content":"  expect(siteConfig.ignore).toEqual(customSiteJson.ignore);"},{"lineNumber":148,"author":{"gitId":"-"},"content":"  expect(siteConfig.deploy).toEqual(customSiteJson.deploy);"},{"lineNumber":149,"author":{"gitId":"-"},"content":"  expect(siteConfig.enableSearch).toEqual(customSiteJson.enableSearch);"},{"lineNumber":150,"author":{"gitId":"-"},"content":"});"},{"lineNumber":151,"author":{"gitId":"-"},"content":""},{"lineNumber":152,"author":{"gitId":"-"},"content":"test(\u0027Site resolves variables referencing other variables\u0027, async () \u003d\u003e {"},{"lineNumber":153,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":154,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":155,"author":{"gitId":"-"},"content":"    \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":156,"author":{"gitId":"-"},"content":"    \u0027_markbind/variables.md\u0027:"},{"lineNumber":157,"author":{"gitId":"-"},"content":"    \u0027\u003cvariable name\u003d\"level1\"\u003evariable\u003c/variable\u003e\u0027"},{"lineNumber":158,"author":{"gitId":"-"},"content":"    + \u0027\u003cvariable name\u003d\"level2\"\u003e{{level1}}\u003c/variable\u003e\u0027"},{"lineNumber":159,"author":{"gitId":"-"},"content":"    + \u0027\u003cvariable name\u003d\"level3\"\u003e\u003cspan style\u003d\"color: blue\"\u003eBlue text\u003c/span\u003e\u003c/variable\u003e\u0027"},{"lineNumber":160,"author":{"gitId":"-"},"content":"    + \u0027\u003cvariable name\u003d\"level4\"\u003e{{level3}}\u003c/variable\u003e\u0027,"},{"lineNumber":161,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":162,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":163,"author":{"gitId":"-"},"content":""},{"lineNumber":164,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":165,"author":{"gitId":"-"},"content":"  await site.readSiteConfig();"},{"lineNumber":166,"author":{"gitId":"-"},"content":"  await site.collectBaseUrl();"},{"lineNumber":167,"author":{"gitId":"-"},"content":"  await site.collectUserDefinedVariablesMap();"},{"lineNumber":168,"author":{"gitId":"-"},"content":""},{"lineNumber":169,"author":{"gitId":"-"},"content":"  const root \u003d site.variableProcessor.userDefinedVariablesMap[path.resolve(\u0027\u0027)];"},{"lineNumber":170,"author":{"gitId":"-"},"content":""},{"lineNumber":171,"author":{"gitId":"-"},"content":"  // check all variables"},{"lineNumber":172,"author":{"gitId":"-"},"content":"  expect(root.level1).toEqual(\u0027variable\u0027);"},{"lineNumber":173,"author":{"gitId":"-"},"content":"  expect(root.level2).toEqual(\u0027variable\u0027);"},{"lineNumber":174,"author":{"gitId":"-"},"content":"  const expectedTextSpan \u003d \u0027\u003cspan style\u003d\"color: blue\"\u003eBlue text\u003c/span\u003e\u0027;"},{"lineNumber":175,"author":{"gitId":"-"},"content":"  expect(root.level3).toEqual(expectedTextSpan);"},{"lineNumber":176,"author":{"gitId":"-"},"content":"  expect(root.level4).toEqual(expectedTextSpan);"},{"lineNumber":177,"author":{"gitId":"-"},"content":"});"},{"lineNumber":178,"author":{"gitId":"-"},"content":""},{"lineNumber":179,"author":{"gitId":"-"},"content":"test(\u0027Site read correct user defined variables\u0027, async () \u003d\u003e {"},{"lineNumber":180,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":181,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":182,"author":{"gitId":"-"},"content":"    \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":183,"author":{"gitId":"-"},"content":"    \u0027sub/site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":184,"author":{"gitId":"-"},"content":"    \u0027sub/sub/site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":185,"author":{"gitId":"-"},"content":"    \u0027otherSub/sub/site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":186,"author":{"gitId":"-"},"content":"    \u0027_markbind/variables.md\u0027:"},{"lineNumber":187,"author":{"gitId":"-"},"content":"      \u0027\u003cvariable name\u003d\"variable\"\u003evariable\u003c/variable\u003e\u0027"},{"lineNumber":188,"author":{"gitId":"-"},"content":"      + \u0027\u003cvariable name\u003d\"number\"\u003e2\u003c/variable\u003e\u0027,"},{"lineNumber":189,"author":{"gitId":"-"},"content":"    \u0027sub/_markbind/variables.md\u0027: \u0027\u003cvariable name\u003d\"variable\"\u003esub_variable\u003c/variable\u003e\u0027,"},{"lineNumber":190,"author":{"gitId":"-"},"content":"    \u0027sub/sub/_markbind/variables.md\u0027: \u0027\u003cvariable name\u003d\"number\"\u003e9999\u003c/variable\u003e\u0027,"},{"lineNumber":191,"author":{"gitId":"-"},"content":"    \u0027otherSub/sub/_markbind/variables.md\u0027: \u0027\u003cvariable name\u003d\"variable\"\u003eother_variable\u003c/variable\u003e\u0027,"},{"lineNumber":192,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":193,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":194,"author":{"gitId":"-"},"content":""},{"lineNumber":195,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":196,"author":{"gitId":"-"},"content":"  await site.readSiteConfig();"},{"lineNumber":197,"author":{"gitId":"-"},"content":"  await site.collectBaseUrl();"},{"lineNumber":198,"author":{"gitId":"-"},"content":"  await site.collectUserDefinedVariablesMap();"},{"lineNumber":199,"author":{"gitId":"-"},"content":""},{"lineNumber":200,"author":{"gitId":"-"},"content":"  const root \u003d site.variableProcessor.userDefinedVariablesMap[path.resolve(\u0027\u0027)];"},{"lineNumber":201,"author":{"gitId":"-"},"content":"  const sub \u003d site.variableProcessor.userDefinedVariablesMap[path.resolve(\u0027sub\u0027)];"},{"lineNumber":202,"author":{"gitId":"-"},"content":"  const subsub \u003d site.variableProcessor.userDefinedVariablesMap[path.resolve(\u0027sub/sub\u0027)];"},{"lineNumber":203,"author":{"gitId":"-"},"content":"  const othersub \u003d site.variableProcessor.userDefinedVariablesMap[path.resolve(\u0027otherSub/sub\u0027)];"},{"lineNumber":204,"author":{"gitId":"-"},"content":""},{"lineNumber":205,"author":{"gitId":"-"},"content":"  // check all baseUrls"},{"lineNumber":206,"author":{"gitId":"-"},"content":"  expect(root.baseUrl).toEqual(\u0027\u0027);"},{"lineNumber":207,"author":{"gitId":"-"},"content":"  expect(sub.baseUrl).toEqual(\u0027/sub\u0027);"},{"lineNumber":208,"author":{"gitId":"-"},"content":"  expect(subsub.baseUrl).toEqual(\u0027/sub/sub\u0027);"},{"lineNumber":209,"author":{"gitId":"-"},"content":"  expect(othersub.baseUrl).toEqual(\u0027/otherSub/sub\u0027);"},{"lineNumber":210,"author":{"gitId":"-"},"content":""},{"lineNumber":211,"author":{"gitId":"-"},"content":"  // check other variables"},{"lineNumber":212,"author":{"gitId":"-"},"content":"  expect(root.variable).toEqual(\u0027variable\u0027);"},{"lineNumber":213,"author":{"gitId":"-"},"content":"  expect(root.number).toEqual(\u00272\u0027);"},{"lineNumber":214,"author":{"gitId":"-"},"content":""},{"lineNumber":215,"author":{"gitId":"-"},"content":"  expect(sub.variable).toEqual(\u0027sub_variable\u0027);"},{"lineNumber":216,"author":{"gitId":"-"},"content":""},{"lineNumber":217,"author":{"gitId":"-"},"content":"  expect(othersub.variable).toEqual(\u0027other_variable\u0027);"},{"lineNumber":218,"author":{"gitId":"-"},"content":"  expect(subsub.number).toEqual(\u00279999\u0027);"},{"lineNumber":219,"author":{"gitId":"-"},"content":"});"},{"lineNumber":220,"author":{"gitId":"-"},"content":""},{"lineNumber":221,"author":{"gitId":"-"},"content":"test(\u0027Site deploys with default settings\u0027, async () \u003d\u003e {"},{"lineNumber":222,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":223,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":224,"author":{"gitId":"-"},"content":"    \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":225,"author":{"gitId":"-"},"content":"    _site: {},"},{"lineNumber":226,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":227,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":228,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":229,"author":{"gitId":"-"},"content":"  await site.deploy();"},{"lineNumber":230,"author":{"gitId":"-"},"content":"  expect(ghpages.dir).toEqual(\u0027_site\u0027);"},{"lineNumber":231,"author":{"gitId":"-"},"content":"  expect(ghpages.options)"},{"lineNumber":232,"author":{"gitId":"-"},"content":"    .toEqual({"},{"lineNumber":233,"author":{"gitId":"-"},"content":"      branch: \u0027gh-pages\u0027,"},{"lineNumber":234,"author":{"gitId":"-"},"content":"      message: \u0027Site Update.\u0027,"},{"lineNumber":235,"author":{"gitId":"-"},"content":"      repo: \u0027\u0027,"},{"lineNumber":236,"author":{"gitId":"-"},"content":"      remote: \u0027origin\u0027,"},{"lineNumber":237,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":238,"author":{"gitId":"-"},"content":"});"},{"lineNumber":239,"author":{"gitId":"-"},"content":""},{"lineNumber":240,"author":{"gitId":"-"},"content":"test(\u0027Site deploys with custom settings\u0027, async () \u003d\u003e {"},{"lineNumber":241,"author":{"gitId":"-"},"content":"  const customConfig \u003d JSON.parse(SITE_JSON_DEFAULT);"},{"lineNumber":242,"author":{"gitId":"-"},"content":"  customConfig.deploy \u003d {"},{"lineNumber":243,"author":{"gitId":"-"},"content":"    message: \u0027Custom Site Update.\u0027,"},{"lineNumber":244,"author":{"gitId":"-"},"content":"    repo: \u0027https://github.com/USER/REPO.git\u0027,"},{"lineNumber":245,"author":{"gitId":"-"},"content":"    branch: \u0027master\u0027,"},{"lineNumber":246,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":247,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":248,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":249,"author":{"gitId":"-"},"content":"    \u0027site.json\u0027: JSON.stringify(customConfig),"},{"lineNumber":250,"author":{"gitId":"-"},"content":"    _site: {},"},{"lineNumber":251,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":252,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":253,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":254,"author":{"gitId":"-"},"content":"  await site.deploy();"},{"lineNumber":255,"author":{"gitId":"-"},"content":"  expect(ghpages.dir).toEqual(\u0027_site\u0027);"},{"lineNumber":256,"author":{"gitId":"-"},"content":"  expect(ghpages.options)"},{"lineNumber":257,"author":{"gitId":"-"},"content":"    .toEqual({"},{"lineNumber":258,"author":{"gitId":"-"},"content":"      branch: \u0027master\u0027,"},{"lineNumber":259,"author":{"gitId":"-"},"content":"      message: \u0027Custom Site Update.\u0027,"},{"lineNumber":260,"author":{"gitId":"-"},"content":"      repo: \u0027https://github.com/USER/REPO.git\u0027,"},{"lineNumber":261,"author":{"gitId":"-"},"content":"      remote: \u0027origin\u0027,"},{"lineNumber":262,"author":{"gitId":"-"},"content":"    });"},{"lineNumber":263,"author":{"gitId":"-"},"content":"});"},{"lineNumber":264,"author":{"gitId":"-"},"content":""},{"lineNumber":265,"author":{"gitId":"-"},"content":"test(\u0027Site should not deploy without a built site\u0027, async () \u003d\u003e {"},{"lineNumber":266,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":267,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":268,"author":{"gitId":"-"},"content":"    \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":269,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":270,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":271,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":272,"author":{"gitId":"-"},"content":"  await expect(site.deploy())"},{"lineNumber":273,"author":{"gitId":"-"},"content":"    .rejects"},{"lineNumber":274,"author":{"gitId":"-"},"content":"    .toThrow("},{"lineNumber":275,"author":{"gitId":"-"},"content":"      new Error(\u0027The site directory does not exist. \u0027"},{"lineNumber":276,"author":{"gitId":"-"},"content":"        + \u0027Please build the site first before deploy.\u0027));"},{"lineNumber":277,"author":{"gitId":"-"},"content":"});"},{"lineNumber":278,"author":{"gitId":"-"},"content":""},{"lineNumber":279,"author":{"gitId":"raysonkoh"},"content":"describe(\u0027Site deploy with various CI environments\u0027, () \u003d\u003e {"},{"lineNumber":280,"author":{"gitId":"-"},"content":"  // Keep a copy of the original environment as we need to modify it for deploy Travis tests"},{"lineNumber":281,"author":{"gitId":"-"},"content":"  const OLD_ENV \u003d { ...process.env };"},{"lineNumber":282,"author":{"gitId":"-"},"content":""},{"lineNumber":283,"author":{"gitId":"-"},"content":"  beforeEach(() \u003d\u003e {"},{"lineNumber":284,"author":{"gitId":"-"},"content":"    // Delete all environment variables that affect tests"},{"lineNumber":285,"author":{"gitId":"-"},"content":"    delete process.env.GITHUB_TOKEN;"},{"lineNumber":286,"author":{"gitId":"raysonkoh"},"content":"    delete process.env.TRAVIS;"},{"lineNumber":287,"author":{"gitId":"-"},"content":"    delete process.env.TRAVIS_REPO_SLUG;"},{"lineNumber":288,"author":{"gitId":"raysonkoh"},"content":"    delete process.env.APPVEYOR;"},{"lineNumber":289,"author":{"gitId":"raysonkoh"},"content":"    delete process.env.APPVEYOR_REPO_NAME;"},{"lineNumber":290,"author":{"gitId":"raysonkoh"},"content":"    delete process.env.GITHUB_ACTIONS;"},{"lineNumber":291,"author":{"gitId":"raysonkoh"},"content":"    delete process.env.GITHUB_REPOSITORY;"},{"lineNumber":292,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":293,"author":{"gitId":"-"},"content":""},{"lineNumber":294,"author":{"gitId":"-"},"content":"  afterAll(() \u003d\u003e {"},{"lineNumber":295,"author":{"gitId":"-"},"content":"    // Restore the original environment at the end of deploy Travis tests"},{"lineNumber":296,"author":{"gitId":"-"},"content":"    process.env \u003d { ...OLD_ENV };"},{"lineNumber":297,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":298,"author":{"gitId":"-"},"content":""},{"lineNumber":299,"author":{"gitId":"raysonkoh"},"content":"  test.each(["},{"lineNumber":300,"author":{"gitId":"raysonkoh"},"content":"    [\u0027TRAVIS\u0027, \u0027TRAVIS_REPO_SLUG\u0027, { name: \u0027Deployment Bot\u0027, email: \u0027deploy@travis-ci.org\u0027 }],"},{"lineNumber":301,"author":{"gitId":"raysonkoh"},"content":"    [\u0027APPVEYOR\u0027, \u0027APPVEYOR_REPO_NAME\u0027, { name: \u0027AppVeyorBot\u0027, email: \u0027deploy@appveyor.com\u0027 }],"},{"lineNumber":302,"author":{"gitId":"raysonkoh"},"content":"    [\u0027GITHUB_ACTIONS\u0027, \u0027GITHUB_REPOSITORY\u0027, { name: \u0027github-actions\u0027, email: \u0027github-actions@github.com\u0027 }],"},{"lineNumber":303,"author":{"gitId":"raysonkoh"},"content":"  ])(\u0027Site deploy -c/--ci deploys with default settings\u0027,"},{"lineNumber":304,"author":{"gitId":"raysonkoh"},"content":"     async (ciIdentifier, repoSlugIdentifier, deployBotUser) \u003d\u003e {"},{"lineNumber":305,"author":{"gitId":"raysonkoh"},"content":"       process.env[ciIdentifier] \u003d true;"},{"lineNumber":306,"author":{"gitId":"raysonkoh"},"content":"       process.env[repoSlugIdentifier] \u003d \u0027GENERIC_USER/GENERIC_REPO\u0027;"},{"lineNumber":307,"author":{"gitId":"-"},"content":"       process.env.GITHUB_TOKEN \u003d \u0027githubToken\u0027;"},{"lineNumber":308,"author":{"gitId":"-"},"content":""},{"lineNumber":309,"author":{"gitId":"-"},"content":"       const json \u003d {"},{"lineNumber":310,"author":{"gitId":"-"},"content":"         ...PAGE_NJK,"},{"lineNumber":311,"author":{"gitId":"-"},"content":"         \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":312,"author":{"gitId":"-"},"content":"         _site: {},"},{"lineNumber":313,"author":{"gitId":"-"},"content":"       };"},{"lineNumber":314,"author":{"gitId":"-"},"content":"       fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":315,"author":{"gitId":"-"},"content":"       const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":316,"author":{"gitId":"-"},"content":"       await site.deploy(true);"},{"lineNumber":317,"author":{"gitId":"-"},"content":"       expect(ghpages.options.repo)"},{"lineNumber":318,"author":{"gitId":"raysonkoh"},"content":"         // eslint-disable-next-line max-len"},{"lineNumber":319,"author":{"gitId":"raysonkoh"},"content":"         .toEqual(`https://x-access-token:${process.env.GITHUB_TOKEN}@github.com/${process.env[repoSlugIdentifier]}.git`);"},{"lineNumber":320,"author":{"gitId":"raysonkoh"},"content":"       expect(ghpages.options.user).toEqual(deployBotUser);"},{"lineNumber":321,"author":{"gitId":"-"},"content":"     });"},{"lineNumber":322,"author":{"gitId":"-"},"content":""},{"lineNumber":323,"author":{"gitId":"raysonkoh"},"content":"  test.each(["},{"lineNumber":324,"author":{"gitId":"raysonkoh"},"content":"    [\u0027TRAVIS\u0027, \u0027TRAVIS_REPO_SLUG\u0027],"},{"lineNumber":325,"author":{"gitId":"raysonkoh"},"content":"    [\u0027APPVEYOR\u0027, \u0027APPVEYOR_REPO_NAME\u0027],"},{"lineNumber":326,"author":{"gitId":"raysonkoh"},"content":"    [\u0027GITHUB_ACTIONS\u0027, \u0027GITHUB_REPOSITORY\u0027],"},{"lineNumber":327,"author":{"gitId":"raysonkoh"},"content":"  ])(\u0027Site deploy -c/--ci deploys with custom GitHub repo\u0027,"},{"lineNumber":328,"author":{"gitId":"raysonkoh"},"content":"     async (ciIdentifier, repoSlugIdentifier) \u003d\u003e {"},{"lineNumber":329,"author":{"gitId":"raysonkoh"},"content":"       process.env[ciIdentifier] \u003d true;"},{"lineNumber":330,"author":{"gitId":"raysonkoh"},"content":"       process.env[repoSlugIdentifier] \u003d \u0027GENERIC_USER/GENERIC_REPO\u0027;"},{"lineNumber":331,"author":{"gitId":"-"},"content":"       process.env.GITHUB_TOKEN \u003d \u0027githubToken\u0027;"},{"lineNumber":332,"author":{"gitId":"-"},"content":""},{"lineNumber":333,"author":{"gitId":"-"},"content":"       const customRepoConfig \u003d JSON.parse(SITE_JSON_DEFAULT);"},{"lineNumber":334,"author":{"gitId":"-"},"content":"       customRepoConfig.deploy.repo \u003d \u0027https://github.com/USER/REPO.git\u0027;"},{"lineNumber":335,"author":{"gitId":"-"},"content":"       const json \u003d {"},{"lineNumber":336,"author":{"gitId":"-"},"content":"         ...PAGE_NJK,"},{"lineNumber":337,"author":{"gitId":"-"},"content":"         \u0027site.json\u0027: JSON.stringify(customRepoConfig),"},{"lineNumber":338,"author":{"gitId":"-"},"content":"         _site: {},"},{"lineNumber":339,"author":{"gitId":"-"},"content":"       };"},{"lineNumber":340,"author":{"gitId":"-"},"content":"       fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":341,"author":{"gitId":"-"},"content":"       const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":342,"author":{"gitId":"-"},"content":"       await site.deploy(true);"},{"lineNumber":343,"author":{"gitId":"-"},"content":"       expect(ghpages.options.repo)"},{"lineNumber":344,"author":{"gitId":"raysonkoh"},"content":"         .toEqual(`https://x-access-token:${process.env.GITHUB_TOKEN}@github.com/USER/REPO.git`);"},{"lineNumber":345,"author":{"gitId":"-"},"content":"     });"},{"lineNumber":346,"author":{"gitId":"-"},"content":""},{"lineNumber":347,"author":{"gitId":"raysonkoh"},"content":"  test.each(["},{"lineNumber":348,"author":{"gitId":"raysonkoh"},"content":"    [\u0027TRAVIS\u0027, \u0027TRAVIS_REPO_SLUG\u0027],"},{"lineNumber":349,"author":{"gitId":"raysonkoh"},"content":"    [\u0027APPVEYOR\u0027, \u0027APPVEYOR_REPO_NAME\u0027],"},{"lineNumber":350,"author":{"gitId":"raysonkoh"},"content":"    [\u0027GITHUB_ACTIONS\u0027, \u0027GITHUB_REPOSITORY\u0027],"},{"lineNumber":351,"author":{"gitId":"raysonkoh"},"content":"  ])(\u0027Site deploy -c/--ci deploys to correct repo when .git is in repo name\u0027,"},{"lineNumber":352,"author":{"gitId":"raysonkoh"},"content":"     async (ciIdentifier, repoSlugIdentifier) \u003d\u003e {"},{"lineNumber":353,"author":{"gitId":"raysonkoh"},"content":"       process.env[ciIdentifier] \u003d true;"},{"lineNumber":354,"author":{"gitId":"raysonkoh"},"content":"       process.env[repoSlugIdentifier] \u003d \u0027GENERIC_USER/GENERIC_REPO.github.io\u0027;"},{"lineNumber":355,"author":{"gitId":"-"},"content":"       process.env.GITHUB_TOKEN \u003d \u0027githubToken\u0027;"},{"lineNumber":356,"author":{"gitId":"-"},"content":""},{"lineNumber":357,"author":{"gitId":"-"},"content":"       const json \u003d {"},{"lineNumber":358,"author":{"gitId":"-"},"content":"         ...PAGE_NJK,"},{"lineNumber":359,"author":{"gitId":"-"},"content":"         \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":360,"author":{"gitId":"-"},"content":"         _site: {},"},{"lineNumber":361,"author":{"gitId":"-"},"content":"       };"},{"lineNumber":362,"author":{"gitId":"-"},"content":"       fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":363,"author":{"gitId":"-"},"content":"       const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":364,"author":{"gitId":"-"},"content":"       await site.deploy(true);"},{"lineNumber":365,"author":{"gitId":"-"},"content":"       expect(ghpages.options.repo)"},{"lineNumber":366,"author":{"gitId":"raysonkoh"},"content":"         // eslint-disable-next-line max-len"},{"lineNumber":367,"author":{"gitId":"raysonkoh"},"content":"         .toEqual(`https://x-access-token:${process.env.GITHUB_TOKEN}@github.com/${process.env[repoSlugIdentifier]}.git`);"},{"lineNumber":368,"author":{"gitId":"-"},"content":"     });"},{"lineNumber":369,"author":{"gitId":"-"},"content":""},{"lineNumber":370,"author":{"gitId":"raysonkoh"},"content":"  test(\u0027Site deploy -c/--ci should not deploy if not in CI environment\u0027, async () \u003d\u003e {"},{"lineNumber":371,"author":{"gitId":"-"},"content":"    process.env.GITHUB_TOKEN \u003d \u0027githubToken\u0027;"},{"lineNumber":372,"author":{"gitId":"-"},"content":""},{"lineNumber":373,"author":{"gitId":"-"},"content":"    const json \u003d {"},{"lineNumber":374,"author":{"gitId":"-"},"content":"      ...PAGE_NJK,"},{"lineNumber":375,"author":{"gitId":"-"},"content":"      \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":376,"author":{"gitId":"-"},"content":"      _site: {},"},{"lineNumber":377,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":378,"author":{"gitId":"-"},"content":"    fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":379,"author":{"gitId":"-"},"content":"    const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":380,"author":{"gitId":"-"},"content":"    await expect(site.deploy(true))"},{"lineNumber":381,"author":{"gitId":"-"},"content":"      .rejects"},{"lineNumber":382,"author":{"gitId":"raysonkoh"},"content":"      .toThrow(new Error(\u0027-c/--ci should only be run in CI environments.\u0027));"},{"lineNumber":383,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":384,"author":{"gitId":"-"},"content":""},{"lineNumber":385,"author":{"gitId":"raysonkoh"},"content":"  test.each(["},{"lineNumber":386,"author":{"gitId":"raysonkoh"},"content":"    [\u0027TRAVIS\u0027],"},{"lineNumber":387,"author":{"gitId":"raysonkoh"},"content":"    [\u0027APPVEYOR\u0027],"},{"lineNumber":388,"author":{"gitId":"raysonkoh"},"content":"    [\u0027GITHUB_ACTIONS\u0027],"},{"lineNumber":389,"author":{"gitId":"raysonkoh"},"content":"  ])(\u0027Site deploy -c/--ci should not deploy without authentication token\u0027, async (ciIdentifier) \u003d\u003e {"},{"lineNumber":390,"author":{"gitId":"raysonkoh"},"content":"    process.env[ciIdentifier] \u003d true;"},{"lineNumber":391,"author":{"gitId":"-"},"content":""},{"lineNumber":392,"author":{"gitId":"-"},"content":"    const json \u003d {"},{"lineNumber":393,"author":{"gitId":"-"},"content":"      ...PAGE_NJK,"},{"lineNumber":394,"author":{"gitId":"-"},"content":"      \u0027site.json\u0027: SITE_JSON_DEFAULT,"},{"lineNumber":395,"author":{"gitId":"-"},"content":"      _site: {},"},{"lineNumber":396,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":397,"author":{"gitId":"-"},"content":"    fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":398,"author":{"gitId":"-"},"content":"    const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":399,"author":{"gitId":"-"},"content":"    await expect(site.deploy(true))"},{"lineNumber":400,"author":{"gitId":"-"},"content":"      .rejects"},{"lineNumber":401,"author":{"gitId":"-"},"content":"      .toThrow(new Error(\u0027The environment variable GITHUB_TOKEN does not exist.\u0027));"},{"lineNumber":402,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":403,"author":{"gitId":"-"},"content":""},{"lineNumber":404,"author":{"gitId":"raysonkoh"},"content":"  test.each(["},{"lineNumber":405,"author":{"gitId":"raysonkoh"},"content":"    [\u0027TRAVIS\u0027],"},{"lineNumber":406,"author":{"gitId":"raysonkoh"},"content":"    [\u0027APPVEYOR\u0027],"},{"lineNumber":407,"author":{"gitId":"raysonkoh"},"content":"    [\u0027GITHUB_ACTIONS\u0027],"},{"lineNumber":408,"author":{"gitId":"raysonkoh"},"content":"  ])(\u0027Site deploy -c/--ci should not deploy if custom repository is not on GitHub\u0027, async (ciIdentifier) \u003d\u003e {"},{"lineNumber":409,"author":{"gitId":"raysonkoh"},"content":"    process.env[ciIdentifier] \u003d true;"},{"lineNumber":410,"author":{"gitId":"-"},"content":"    process.env.GITHUB_TOKEN \u003d \u0027githubToken\u0027;"},{"lineNumber":411,"author":{"gitId":"-"},"content":""},{"lineNumber":412,"author":{"gitId":"-"},"content":"    const invalidRepoConfig \u003d JSON.parse(SITE_JSON_DEFAULT);"},{"lineNumber":413,"author":{"gitId":"-"},"content":"    invalidRepoConfig.deploy.repo \u003d \u0027INVALID_GITHUB_REPO\u0027;"},{"lineNumber":414,"author":{"gitId":"-"},"content":"    const json \u003d {"},{"lineNumber":415,"author":{"gitId":"-"},"content":"      ...PAGE_NJK,"},{"lineNumber":416,"author":{"gitId":"-"},"content":"      \u0027site.json\u0027: JSON.stringify(invalidRepoConfig),"},{"lineNumber":417,"author":{"gitId":"-"},"content":"      _site: {},"},{"lineNumber":418,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":419,"author":{"gitId":"-"},"content":"    fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":420,"author":{"gitId":"-"},"content":"    const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":421,"author":{"gitId":"-"},"content":"    await expect(site.deploy(true))"},{"lineNumber":422,"author":{"gitId":"-"},"content":"      .rejects"},{"lineNumber":423,"author":{"gitId":"raysonkoh"},"content":"      .toThrow(new Error(\u0027-c/--ci expects a GitHub repository.\\n\u0027"},{"lineNumber":424,"author":{"gitId":"-"},"content":"        + `The specified repository ${invalidRepoConfig.deploy.repo} is not valid.`));"},{"lineNumber":425,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":426,"author":{"gitId":"-"},"content":"});"},{"lineNumber":427,"author":{"gitId":"-"},"content":""},{"lineNumber":428,"author":{"gitId":"-"},"content":"const siteJsonResolvePropertiesTestCases \u003d ["},{"lineNumber":429,"author":{"gitId":"-"},"content":"  {"},{"lineNumber":430,"author":{"gitId":"-"},"content":"    name: \u0027Site.json merge page and glob properties\u0027,"},{"lineNumber":431,"author":{"gitId":"-"},"content":"    pages: ["},{"lineNumber":432,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":433,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":434,"author":{"gitId":"-"},"content":"        title: \u0027Title\u0027,"},{"lineNumber":435,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":436,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":437,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":438,"author":{"gitId":"-"},"content":"        layout: \u0027Layout\u0027,"},{"lineNumber":439,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":440,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":441,"author":{"gitId":"-"},"content":"    expected: ["},{"lineNumber":442,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":443,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":444,"author":{"gitId":"-"},"content":"        searchable: undefined,"},{"lineNumber":445,"author":{"gitId":"-"},"content":"        layout: \u0027Layout\u0027,"},{"lineNumber":446,"author":{"gitId":"-"},"content":"        title: \u0027Title\u0027,"},{"lineNumber":447,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":448,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":449,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":450,"author":{"gitId":"-"},"content":"  {"},{"lineNumber":451,"author":{"gitId":"-"},"content":"    name: \u0027Site.json merge glob properties\u0027,"},{"lineNumber":452,"author":{"gitId":"-"},"content":"    pages: ["},{"lineNumber":453,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":454,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":455,"author":{"gitId":"-"},"content":"        layout: \u0027Layout\u0027,"},{"lineNumber":456,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":457,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":458,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":459,"author":{"gitId":"-"},"content":"        searchable: false,"},{"lineNumber":460,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":461,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":462,"author":{"gitId":"-"},"content":"    expected: ["},{"lineNumber":463,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":464,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":465,"author":{"gitId":"-"},"content":"        searchable: false,"},{"lineNumber":466,"author":{"gitId":"-"},"content":"        layout: \u0027Layout\u0027,"},{"lineNumber":467,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":468,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":469,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":470,"author":{"gitId":"-"},"content":"  {"},{"lineNumber":471,"author":{"gitId":"-"},"content":"    name: \u0027Site.json page has priority over glob\u0027,"},{"lineNumber":472,"author":{"gitId":"-"},"content":"    pages: ["},{"lineNumber":473,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":474,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":475,"author":{"gitId":"-"},"content":"        layout: \u0027Wrong\u0027,"},{"lineNumber":476,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":477,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":478,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":479,"author":{"gitId":"-"},"content":"        layout: \u0027Layout\u0027,"},{"lineNumber":480,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":481,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":482,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":483,"author":{"gitId":"-"},"content":"        layout: \u0027Wrong\u0027,"},{"lineNumber":484,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":485,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":486,"author":{"gitId":"-"},"content":"    expected: ["},{"lineNumber":487,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":488,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":489,"author":{"gitId":"-"},"content":"        searchable: undefined,"},{"lineNumber":490,"author":{"gitId":"-"},"content":"        layout: \u0027Layout\u0027,"},{"lineNumber":491,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":492,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":493,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":494,"author":{"gitId":"-"},"content":"  {"},{"lineNumber":495,"author":{"gitId":"-"},"content":"    name: \u0027Site.json glob latest match has priority\u0027,"},{"lineNumber":496,"author":{"gitId":"-"},"content":"    pages: ["},{"lineNumber":497,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":498,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":499,"author":{"gitId":"-"},"content":"        layout: \u0027Wrong\u0027,"},{"lineNumber":500,"author":{"gitId":"-"},"content":"        searchable: false,"},{"lineNumber":501,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":502,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":503,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":504,"author":{"gitId":"-"},"content":"        layout: \u0027Layout\u0027,"},{"lineNumber":505,"author":{"gitId":"-"},"content":"        searchable: true,"},{"lineNumber":506,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":507,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":508,"author":{"gitId":"-"},"content":"    expected: ["},{"lineNumber":509,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":510,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":511,"author":{"gitId":"-"},"content":"        searchable: true,"},{"lineNumber":512,"author":{"gitId":"-"},"content":"        layout: \u0027Layout\u0027,"},{"lineNumber":513,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":514,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":515,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":516,"author":{"gitId":"-"},"content":"];"},{"lineNumber":517,"author":{"gitId":"-"},"content":""},{"lineNumber":518,"author":{"gitId":"-"},"content":"siteJsonResolvePropertiesTestCases.forEach((testCase) \u003d\u003e {"},{"lineNumber":519,"author":{"gitId":"-"},"content":"  test(testCase.name, async () \u003d\u003e {"},{"lineNumber":520,"author":{"gitId":"-"},"content":"    const customSiteConfig \u003d {"},{"lineNumber":521,"author":{"gitId":"-"},"content":"      baseUrl: \u0027\u0027,"},{"lineNumber":522,"author":{"gitId":"-"},"content":"      pages: testCase.pages,"},{"lineNumber":523,"author":{"gitId":"-"},"content":"      pagesExclude: [],"},{"lineNumber":524,"author":{"gitId":"-"},"content":"      ignore: ["},{"lineNumber":525,"author":{"gitId":"-"},"content":"        \u0027_site/*\u0027,"},{"lineNumber":526,"author":{"gitId":"-"},"content":"        \u0027*.json\u0027,"},{"lineNumber":527,"author":{"gitId":"-"},"content":"        \u0027*.md\u0027,"},{"lineNumber":528,"author":{"gitId":"-"},"content":"      ],"},{"lineNumber":529,"author":{"gitId":"-"},"content":"      deploy: {"},{"lineNumber":530,"author":{"gitId":"-"},"content":"        message: \u0027Site Update.\u0027,"},{"lineNumber":531,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":532,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":533,"author":{"gitId":"-"},"content":"    const json \u003d {"},{"lineNumber":534,"author":{"gitId":"-"},"content":"      ...PAGE_NJK,"},{"lineNumber":535,"author":{"gitId":"-"},"content":"      \u0027index.md\u0027: \u0027\u0027,"},{"lineNumber":536,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":537,"author":{"gitId":"-"},"content":"    fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":538,"author":{"gitId":"-"},"content":""},{"lineNumber":539,"author":{"gitId":"-"},"content":"    const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":540,"author":{"gitId":"-"},"content":"    site.siteConfig \u003d customSiteConfig;"},{"lineNumber":541,"author":{"gitId":"jonahtanjz"},"content":"    site.collectAddressablePages();"},{"lineNumber":542,"author":{"gitId":"-"},"content":"    expect(site.addressablePages)"},{"lineNumber":543,"author":{"gitId":"-"},"content":"      .toEqual(testCase.expected);"},{"lineNumber":544,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":545,"author":{"gitId":"-"},"content":"});"},{"lineNumber":546,"author":{"gitId":"-"},"content":""},{"lineNumber":547,"author":{"gitId":"-"},"content":"test(\u0027Site config throws error on duplicate page src\u0027, async () \u003d\u003e {"},{"lineNumber":548,"author":{"gitId":"-"},"content":"  const customSiteConfig \u003d {"},{"lineNumber":549,"author":{"gitId":"-"},"content":"    baseUrl: \u0027\u0027,"},{"lineNumber":550,"author":{"gitId":"-"},"content":"    pages: ["},{"lineNumber":551,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":552,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":553,"author":{"gitId":"-"},"content":"        layout: \u0027Layout\u0027,"},{"lineNumber":554,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":555,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":556,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":557,"author":{"gitId":"-"},"content":"        title: \u0027Title\u0027,"},{"lineNumber":558,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":559,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":560,"author":{"gitId":"-"},"content":"    ignore: ["},{"lineNumber":561,"author":{"gitId":"-"},"content":"      \u0027_site/*\u0027,"},{"lineNumber":562,"author":{"gitId":"-"},"content":"      \u0027*.json\u0027,"},{"lineNumber":563,"author":{"gitId":"-"},"content":"      \u0027*.md\u0027,"},{"lineNumber":564,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":565,"author":{"gitId":"-"},"content":"    deploy: {"},{"lineNumber":566,"author":{"gitId":"-"},"content":"      message: \u0027Site Update.\u0027,"},{"lineNumber":567,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":568,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":569,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":570,"author":{"gitId":"-"},"content":"    ...PAGE_NJK,"},{"lineNumber":571,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: \u0027\u0027,"},{"lineNumber":572,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":573,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":574,"author":{"gitId":"-"},"content":""},{"lineNumber":575,"author":{"gitId":"-"},"content":"  const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":576,"author":{"gitId":"-"},"content":"  site.siteConfig \u003d customSiteConfig;"},{"lineNumber":577,"author":{"gitId":"jonahtanjz"},"content":"  expect(() \u003d\u003e site.collectAddressablePages())"},{"lineNumber":578,"author":{"gitId":"-"},"content":"    .toThrow(new Error(\u0027Duplicate page entries found in site config: index.md\u0027));"},{"lineNumber":579,"author":{"gitId":"-"},"content":"});"},{"lineNumber":580,"author":{"gitId":"-"},"content":""},{"lineNumber":581,"author":{"gitId":"-"},"content":"const siteJsonPageExclusionTestCases \u003d ["},{"lineNumber":582,"author":{"gitId":"-"},"content":"  {"},{"lineNumber":583,"author":{"gitId":"-"},"content":"    name: \u0027Site.json excludes pages by glob exclude\u0027,"},{"lineNumber":584,"author":{"gitId":"-"},"content":"    pages: ["},{"lineNumber":585,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":586,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":587,"author":{"gitId":"-"},"content":"        globExclude: [\u0027exclude.md\u0027],"},{"lineNumber":588,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":589,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":590,"author":{"gitId":"-"},"content":"    expected: ["},{"lineNumber":591,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":592,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":593,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":594,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":595,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":596,"author":{"gitId":"-"},"content":"  {"},{"lineNumber":597,"author":{"gitId":"-"},"content":"    name: \u0027Site.json excludes pages by pages exclude\u0027,"},{"lineNumber":598,"author":{"gitId":"-"},"content":"    pages: ["},{"lineNumber":599,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":600,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":601,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":602,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":603,"author":{"gitId":"-"},"content":"    pagesExclude: [\u0027exclude.md\u0027],"},{"lineNumber":604,"author":{"gitId":"-"},"content":"    expected: ["},{"lineNumber":605,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":606,"author":{"gitId":"-"},"content":"        src: \u0027index.md\u0027,"},{"lineNumber":607,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":608,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":609,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":610,"author":{"gitId":"-"},"content":"  {"},{"lineNumber":611,"author":{"gitId":"-"},"content":"    name: \u0027Site.json excludes pages by combination of pages exclude and glob exclude\u0027,"},{"lineNumber":612,"author":{"gitId":"-"},"content":"    pages: ["},{"lineNumber":613,"author":{"gitId":"-"},"content":"      {"},{"lineNumber":614,"author":{"gitId":"-"},"content":"        glob: \u0027*.md\u0027,"},{"lineNumber":615,"author":{"gitId":"-"},"content":"        globExclude: [\u0027exclude.md\u0027],"},{"lineNumber":616,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":617,"author":{"gitId":"-"},"content":"    ],"},{"lineNumber":618,"author":{"gitId":"-"},"content":"    pagesExclude: [\u0027index.md\u0027],"},{"lineNumber":619,"author":{"gitId":"-"},"content":"    expected: [],"},{"lineNumber":620,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":621,"author":{"gitId":"-"},"content":"];"},{"lineNumber":622,"author":{"gitId":"-"},"content":""},{"lineNumber":623,"author":{"gitId":"-"},"content":"siteJsonPageExclusionTestCases.forEach((testCase) \u003d\u003e {"},{"lineNumber":624,"author":{"gitId":"-"},"content":"  test(testCase.name, async () \u003d\u003e {"},{"lineNumber":625,"author":{"gitId":"-"},"content":"    const customSiteConfig \u003d {"},{"lineNumber":626,"author":{"gitId":"-"},"content":"      baseUrl: \u0027\u0027,"},{"lineNumber":627,"author":{"gitId":"-"},"content":"      pages: testCase.pages,"},{"lineNumber":628,"author":{"gitId":"-"},"content":"      pagesExclude: testCase.pagesExclude || [],"},{"lineNumber":629,"author":{"gitId":"-"},"content":"      ignore: ["},{"lineNumber":630,"author":{"gitId":"-"},"content":"        \u0027_site/*\u0027,"},{"lineNumber":631,"author":{"gitId":"-"},"content":"        \u0027*.json\u0027,"},{"lineNumber":632,"author":{"gitId":"-"},"content":"        \u0027*.md\u0027,"},{"lineNumber":633,"author":{"gitId":"-"},"content":"      ],"},{"lineNumber":634,"author":{"gitId":"-"},"content":"      deploy: {"},{"lineNumber":635,"author":{"gitId":"-"},"content":"        message: \u0027Site Update.\u0027,"},{"lineNumber":636,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":637,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":638,"author":{"gitId":"-"},"content":"    const json \u003d {"},{"lineNumber":639,"author":{"gitId":"-"},"content":"      ...PAGE_NJK,"},{"lineNumber":640,"author":{"gitId":"-"},"content":"      \u0027index.md\u0027: \u0027\u0027,"},{"lineNumber":641,"author":{"gitId":"-"},"content":"      \u0027exclude.md\u0027: \u0027\u0027,"},{"lineNumber":642,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":643,"author":{"gitId":"-"},"content":"    fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":644,"author":{"gitId":"-"},"content":""},{"lineNumber":645,"author":{"gitId":"-"},"content":"    const site \u003d new Site(\u0027./\u0027, \u0027_site\u0027);"},{"lineNumber":646,"author":{"gitId":"-"},"content":"    site.siteConfig \u003d customSiteConfig;"},{"lineNumber":647,"author":{"gitId":"jonahtanjz"},"content":"    site.collectAddressablePages();"},{"lineNumber":648,"author":{"gitId":"-"},"content":"    expect(site.addressablePages)"},{"lineNumber":649,"author":{"gitId":"-"},"content":"      .toEqual(testCase.expected);"},{"lineNumber":650,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":651,"author":{"gitId":"-"},"content":"});"}],"authorContributionMap":{"raysonkoh":51,"jonahtanjz":3,"-":597}},{"path":"packages/core/test/unit/html/NodeProcessor.data.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"/* eslint-disable max-len */"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":4,"author":{"gitId":"-"},"content":" * Panel"},{"lineNumber":5,"author":{"gitId":"-"},"content":" */"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"module.exports.PROCESS_PANEL_ATTRIBUTES \u003d `"},{"lineNumber":8,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"# Lorem ipsum\" alt\u003d\"_emphasized alt_\"\u003e"},{"lineNumber":9,"author":{"gitId":"-"},"content":"  Header and alt attributes should be processed and inserted under panel as internal slots and deleted."},{"lineNumber":10,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":11,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":12,"author":{"gitId":"-"},"content":""},{"lineNumber":13,"author":{"gitId":"-"},"content":"module.exports.PROCESS_PANEL_ATTRIBUTES_EXPECTED \u003d `"},{"lineNumber":14,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cpanel\u003e\u003ctemplate #header\u003e\u003ch1\u003eLorem ipsum\u003c/h1\u003e"},{"lineNumber":15,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/template\u003e\u003ctemplate #_alt\u003e\u003cp\u003e\u003cem\u003eemphasized alt\u003c/em\u003e\u003c/p\u003e"},{"lineNumber":16,"author":{"gitId":"-"},"content":"\u003c/template\u003e"},{"lineNumber":17,"author":{"gitId":"-"},"content":"  Header and alt attributes should be processed and inserted under panel as internal slots and deleted."},{"lineNumber":18,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":19,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":20,"author":{"gitId":"-"},"content":""},{"lineNumber":21,"author":{"gitId":"-"},"content":"module.exports.PROCESS_PANEL_HEADER_NO_OVERRIDE \u003d `"},{"lineNumber":22,"author":{"gitId":"-"},"content":"\u003cpanel header\u003d\"# Lorem ipsum\" alt\u003d\"**strong alt**\"\u003e"},{"lineNumber":23,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"header\"\u003e"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    This existing header slot should be preserved in favour over header attribute."},{"lineNumber":25,"author":{"gitId":"-"},"content":"  \u003c/div\u003e"},{"lineNumber":26,"author":{"gitId":"-"},"content":"  Header attribute should not be inserted under panel since there is both an alt attribute and header slot,"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  but should be deleted."},{"lineNumber":28,"author":{"gitId":"-"},"content":"  Alt attribute should be inserted under panel as slot."},{"lineNumber":29,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":30,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":31,"author":{"gitId":"-"},"content":""},{"lineNumber":32,"author":{"gitId":"-"},"content":"module.exports.PROCESS_PANEL_HEADER_NO_OVERRIDE_EXPECTED \u003d `"},{"lineNumber":33,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cpanel\u003e\u003ctemplate #_alt\u003e\u003cp\u003e\u003cstrong\u003estrong alt\u003c/strong\u003e\u003c/p\u003e"},{"lineNumber":34,"author":{"gitId":"-"},"content":"\u003c/template\u003e"},{"lineNumber":35,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003ctemplate #header\u003e\u003cdiv\u003e"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    This existing header slot should be preserved in favour over header attribute."},{"lineNumber":37,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003c/div\u003e\u003c/template\u003e"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  Header attribute should not be inserted under panel since there is both an alt attribute and header slot,"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  but should be deleted."},{"lineNumber":40,"author":{"gitId":"-"},"content":"  Alt attribute should be inserted under panel as slot."},{"lineNumber":41,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":42,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":43,"author":{"gitId":"-"},"content":""},{"lineNumber":44,"author":{"gitId":"-"},"content":"// Post Process"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"module.exports.POST_PROCESS_PANEL_ID_ASSIGNED_USING_HEADER_SLOT \u003d `"},{"lineNumber":47,"author":{"gitId":"-"},"content":"\u003cpanel\u003e\u003ctemplate slot\u003d\"header\"\u003e\u003ch1 id\u003d\"slot-header\"\u003eSlot Header\u003c/h1\u003e\u003c/template\u003e"},{"lineNumber":48,"author":{"gitId":"-"},"content":"  Header and alt attributes should be processed and inserted under panel as internal slots and deleted."},{"lineNumber":49,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":50,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":51,"author":{"gitId":"-"},"content":""},{"lineNumber":52,"author":{"gitId":"-"},"content":"module.exports.POST_PROCESS_PANEL_ID_ASSIGNED_USING_HEADER_SLOT_EXPECTED \u003d `"},{"lineNumber":53,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cpanel id\u003d\"slot-header\"\u003e\u003ctemplate #header\u003e\u003ch1 id\u003d\"slot-header\"\u003eSlot Header\u003c/h1\u003e\u003c/template\u003e"},{"lineNumber":54,"author":{"gitId":"-"},"content":"  Header and alt attributes should be processed and inserted under panel as internal slots and deleted."},{"lineNumber":55,"author":{"gitId":"-"},"content":"\u003c/panel\u003e"},{"lineNumber":56,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":57,"author":{"gitId":"-"},"content":""},{"lineNumber":58,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":59,"author":{"gitId":"-"},"content":" * Questions, QOption and Quizzes"},{"lineNumber":60,"author":{"gitId":"-"},"content":" */"},{"lineNumber":61,"author":{"gitId":"-"},"content":""},{"lineNumber":62,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QUESTION_ATTRIBUTES \u003d `"},{"lineNumber":63,"author":{"gitId":"-"},"content":"\u003cquestion header\u003d\"**header**\" hint\u003d\"**hint**\" answer\u003d\"**answer**\"\u003e"},{"lineNumber":64,"author":{"gitId":"-"},"content":"\u003c/question\u003e"},{"lineNumber":65,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":66,"author":{"gitId":"-"},"content":""},{"lineNumber":67,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QUESTION_ATTRIBUTES_EXPECTED \u003d `"},{"lineNumber":68,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cquestion\u003e\u003ctemplate #answer\u003e\u003cp\u003e\u003cstrong\u003eanswer\u003c/strong\u003e\u003c/p\u003e"},{"lineNumber":69,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/template\u003e\u003ctemplate #hint\u003e\u003cp\u003e\u003cstrong\u003ehint\u003c/strong\u003e\u003c/p\u003e"},{"lineNumber":70,"author":{"gitId":"wxwxwxwx9"},"content":"\u003c/template\u003e\u003ctemplate #header\u003e\u003cp\u003e\u003cstrong\u003eheader\u003c/strong\u003e\u003c/p\u003e"},{"lineNumber":71,"author":{"gitId":"-"},"content":"\u003c/template\u003e"},{"lineNumber":72,"author":{"gitId":"-"},"content":"\u003c/question\u003e"},{"lineNumber":73,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":74,"author":{"gitId":"-"},"content":""},{"lineNumber":75,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QUESTION_ATTRIBUTES_NO_OVERRIDE \u003d `"},{"lineNumber":76,"author":{"gitId":"-"},"content":"\u003cquestion header\u003d\"**header**\" hint\u003d\"**hint**\" answer\u003d\"**answer**\"\u003e"},{"lineNumber":77,"author":{"gitId":"-"},"content":"\u003ctemplate slot\u003d\"header\"\u003e\u003c/template\u003e"},{"lineNumber":78,"author":{"gitId":"-"},"content":"\u003ctemplate slot\u003d\"hint\"\u003e\u003c/template\u003e"},{"lineNumber":79,"author":{"gitId":"-"},"content":"\u003ctemplate slot\u003d\"answer\"\u003e\u003c/template\u003e"},{"lineNumber":80,"author":{"gitId":"-"},"content":"\u003c/question\u003e"},{"lineNumber":81,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":82,"author":{"gitId":"-"},"content":""},{"lineNumber":83,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QUESTION_ATTRIBUTES_NO_OVERRIDE_EXPECTED \u003d `"},{"lineNumber":84,"author":{"gitId":"-"},"content":"\u003cquestion\u003e"},{"lineNumber":85,"author":{"gitId":"wxwxwxwx9"},"content":"\u003ctemplate #header\u003e\u003c/template\u003e"},{"lineNumber":86,"author":{"gitId":"wxwxwxwx9"},"content":"\u003ctemplate #hint\u003e\u003c/template\u003e"},{"lineNumber":87,"author":{"gitId":"wxwxwxwx9"},"content":"\u003ctemplate #answer\u003e\u003c/template\u003e"},{"lineNumber":88,"author":{"gitId":"-"},"content":"\u003c/question\u003e"},{"lineNumber":89,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":90,"author":{"gitId":"-"},"content":""},{"lineNumber":91,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QOPTION_ATTRIBUTES \u003d `"},{"lineNumber":92,"author":{"gitId":"-"},"content":"\u003cq-option reason\u003d\"**lorem ipsum**\"\u003e"},{"lineNumber":93,"author":{"gitId":"-"},"content":"\u003c/q-option\u003e"},{"lineNumber":94,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":95,"author":{"gitId":"-"},"content":""},{"lineNumber":96,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QOPTION_ATTRIBUTES_EXPECTED \u003d `"},{"lineNumber":97,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cq-option\u003e\u003ctemplate #reason\u003e\u003cp\u003e\u003cstrong\u003elorem ipsum\u003c/strong\u003e\u003c/p\u003e"},{"lineNumber":98,"author":{"gitId":"-"},"content":"\u003c/template\u003e"},{"lineNumber":99,"author":{"gitId":"-"},"content":"\u003c/q-option\u003e"},{"lineNumber":100,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":101,"author":{"gitId":"-"},"content":""},{"lineNumber":102,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QOPTION_ATTRIBUTES_NO_OVERRIDE \u003d `"},{"lineNumber":103,"author":{"gitId":"-"},"content":"\u003cq-option reason\u003d\"**lorem ipsum**\"\u003e"},{"lineNumber":104,"author":{"gitId":"-"},"content":"\u003ctemplate slot\u003d\"reason\"\u003e\u003c/template\u003e"},{"lineNumber":105,"author":{"gitId":"-"},"content":"\u003c/q-option\u003e"},{"lineNumber":106,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":107,"author":{"gitId":"-"},"content":""},{"lineNumber":108,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QOPTION_ATTRIBUTES_NO_OVERRIDE_EXPECTED \u003d `"},{"lineNumber":109,"author":{"gitId":"-"},"content":"\u003cq-option\u003e"},{"lineNumber":110,"author":{"gitId":"wxwxwxwx9"},"content":"\u003ctemplate #reason\u003e\u003c/template\u003e"},{"lineNumber":111,"author":{"gitId":"-"},"content":"\u003c/q-option\u003e"},{"lineNumber":112,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":113,"author":{"gitId":"-"},"content":""},{"lineNumber":114,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QUIZ_ATTRIBUTES \u003d `"},{"lineNumber":115,"author":{"gitId":"-"},"content":"\u003cquiz intro\u003d\"**lorem ipsum**\"\u003e"},{"lineNumber":116,"author":{"gitId":"-"},"content":"\u003c/quiz\u003e"},{"lineNumber":117,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":118,"author":{"gitId":"-"},"content":""},{"lineNumber":119,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QUIZ_ATTRIBUTES_EXPECTED \u003d `"},{"lineNumber":120,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cquiz\u003e\u003ctemplate #intro\u003e\u003cp\u003e\u003cstrong\u003elorem ipsum\u003c/strong\u003e\u003c/p\u003e"},{"lineNumber":121,"author":{"gitId":"-"},"content":"\u003c/template\u003e"},{"lineNumber":122,"author":{"gitId":"-"},"content":"\u003c/quiz\u003e"},{"lineNumber":123,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":124,"author":{"gitId":"-"},"content":""},{"lineNumber":125,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QUIZ_ATTRIBUTES_NO_OVERRIDE \u003d `"},{"lineNumber":126,"author":{"gitId":"-"},"content":"\u003cquiz intro\u003d\"**lorem ipsum**\"\u003e"},{"lineNumber":127,"author":{"gitId":"-"},"content":"\u003ctemplate slot\u003d\"intro\"\u003e\u003c/template\u003e"},{"lineNumber":128,"author":{"gitId":"-"},"content":"\u003c/quiz\u003e"},{"lineNumber":129,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":130,"author":{"gitId":"-"},"content":""},{"lineNumber":131,"author":{"gitId":"-"},"content":"module.exports.PROCESS_QUIZ_ATTRIBUTES_NO_OVERRIDE_EXPECTED \u003d `"},{"lineNumber":132,"author":{"gitId":"-"},"content":"\u003cquiz\u003e"},{"lineNumber":133,"author":{"gitId":"wxwxwxwx9"},"content":"\u003ctemplate #intro\u003e\u003c/template\u003e"},{"lineNumber":134,"author":{"gitId":"-"},"content":"\u003c/quiz\u003e"},{"lineNumber":135,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":136,"author":{"gitId":"-"},"content":""},{"lineNumber":137,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":138,"author":{"gitId":"-"},"content":" * Popovers"},{"lineNumber":139,"author":{"gitId":"-"},"content":" */"},{"lineNumber":140,"author":{"gitId":"-"},"content":""},{"lineNumber":141,"author":{"gitId":"-"},"content":"module.exports.PROCESS_POPOVER_ATTRIBUTES \u003d `"},{"lineNumber":142,"author":{"gitId":"-"},"content":"\u003cpopover content\u003d\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vel tellus elit.\" "},{"lineNumber":143,"author":{"gitId":"-"},"content":"         header\u003d\"**Lorem ipsum**\"\u003e"},{"lineNumber":144,"author":{"gitId":"-"},"content":"  Content and header attributes should be processed and inserted under panel as slots and deleted."},{"lineNumber":145,"author":{"gitId":"-"},"content":"\u003c/popover\u003e"},{"lineNumber":146,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":147,"author":{"gitId":"-"},"content":""},{"lineNumber":148,"author":{"gitId":"-"},"content":"module.exports.PROCESS_POPOVER_ATTRIBUTES_EXPECTED \u003d `"},{"lineNumber":149,"author":{"gitId":"-"},"content":"\u003cspan data-mb-component-type\u003d\"popover\" v-b-popover.hover.top.html\u003d\"popoverInnerGetters\" class\u003d\"trigger\"\u003e\u003cspan data-mb-slot-name\u003d\"header\"\u003e\u003cstrong\u003eLorem ipsum\u003c/strong\u003e\u003c/span\u003e\u003cspan data-mb-slot-name\u003d\"content\"\u003eLorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vel tellus elit.\u003c/span\u003e"},{"lineNumber":150,"author":{"gitId":"-"},"content":"  Content and header attributes should be processed and inserted under panel as slots and deleted."},{"lineNumber":151,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":152,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":153,"author":{"gitId":"-"},"content":""},{"lineNumber":154,"author":{"gitId":"-"},"content":"module.exports.PROCESS_POPOVER_ATTRIBUTES_NO_OVERRIDE \u003d `"},{"lineNumber":155,"author":{"gitId":"-"},"content":"\u003cpopover content\u003d\"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vel tellus elit.\" "},{"lineNumber":156,"author":{"gitId":"-"},"content":"         header\u003d\"_Lorem ipsum_\"\u003e"},{"lineNumber":157,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"header\"\u003eSome header slot content that should not be overwritten\u003c/div\u003e"},{"lineNumber":158,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"content\"\u003eSome content slot that should not be overwritten\u003c/div\u003e"},{"lineNumber":159,"author":{"gitId":"-"},"content":"  Content and header attributes should not be inserted under panel as slots, but should be deleted."},{"lineNumber":160,"author":{"gitId":"-"},"content":"\u003c/popover\u003e"},{"lineNumber":161,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":162,"author":{"gitId":"-"},"content":""},{"lineNumber":163,"author":{"gitId":"-"},"content":"module.exports.PROCESS_POPOVER_ATTRIBUTES_NO_OVERRIDE_EXPECTED \u003d `"},{"lineNumber":164,"author":{"gitId":"-"},"content":"\u003cspan data-mb-component-type\u003d\"popover\" v-b-popover.hover.top.html\u003d\"popoverInnerGetters\" class\u003d\"trigger\"\u003e"},{"lineNumber":165,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003cspan data-mb-slot-name\u003d\"header\"\u003e\u003cdiv\u003eSome header slot content that should not be overwritten\u003c/div\u003e\u003c/span\u003e"},{"lineNumber":166,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003cspan data-mb-slot-name\u003d\"content\"\u003e\u003cdiv\u003eSome content slot that should not be overwritten\u003c/div\u003e\u003c/span\u003e"},{"lineNumber":167,"author":{"gitId":"-"},"content":"  Content and header attributes should not be inserted under panel as slots, but should be deleted."},{"lineNumber":168,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":169,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":170,"author":{"gitId":"-"},"content":""},{"lineNumber":171,"author":{"gitId":"-"},"content":"// todo remove tests for these once \u0027title\u0027 attribute is fully deprecated for popovers"},{"lineNumber":172,"author":{"gitId":"-"},"content":""},{"lineNumber":173,"author":{"gitId":"-"},"content":"module.exports.PROCESS_POPOVER_TITLE \u003d `"},{"lineNumber":174,"author":{"gitId":"-"},"content":"\u003cpopover title\u003d\"**Lorem ipsum**\"\u003e"},{"lineNumber":175,"author":{"gitId":"-"},"content":"  Title attribute should be processed and inserted under popover as header slot and deleted."},{"lineNumber":176,"author":{"gitId":"-"},"content":"\u003c/popover\u003e"},{"lineNumber":177,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":178,"author":{"gitId":"-"},"content":""},{"lineNumber":179,"author":{"gitId":"-"},"content":"module.exports.PROCESS_POPOVER_TITLE_EXPECTED \u003d `"},{"lineNumber":180,"author":{"gitId":"-"},"content":"\u003cspan data-mb-component-type\u003d\"popover\" v-b-popover.hover.top.html\u003d\"popoverInnerGetters\" class\u003d\"trigger\"\u003e\u003cspan data-mb-slot-name\u003d\"header\"\u003e\u003cstrong\u003eLorem ipsum\u003c/strong\u003e\u003c/span\u003e"},{"lineNumber":181,"author":{"gitId":"-"},"content":"  Title attribute should be processed and inserted under popover as header slot and deleted."},{"lineNumber":182,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":183,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":184,"author":{"gitId":"-"},"content":""},{"lineNumber":185,"author":{"gitId":"-"},"content":"module.exports.PROCESS_POPOVER_TITLE_NO_OVERRIDE \u003d `"},{"lineNumber":186,"author":{"gitId":"-"},"content":"\u003cpopover title\u003d\"**Title header**\" header\u003d\"**Header header**\"\u003e"},{"lineNumber":187,"author":{"gitId":"-"},"content":"  Title attribute should not be inserted as slot as header attribute is present, and should be deleted."},{"lineNumber":188,"author":{"gitId":"-"},"content":"\u003c/popover\u003e"},{"lineNumber":189,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":190,"author":{"gitId":"-"},"content":""},{"lineNumber":191,"author":{"gitId":"-"},"content":"module.exports.PROCESS_POPOVER_TITLE_NO_OVERRIDE_EXPECTED \u003d `"},{"lineNumber":192,"author":{"gitId":"-"},"content":"\u003cspan data-mb-component-type\u003d\"popover\" v-b-popover.hover.top.html\u003d\"popoverInnerGetters\" class\u003d\"trigger\"\u003e\u003cspan data-mb-slot-name\u003d\"header\"\u003e\u003cstrong\u003eHeader header\u003c/strong\u003e\u003c/span\u003e"},{"lineNumber":193,"author":{"gitId":"-"},"content":"  Title attribute should not be inserted as slot as header attribute is present, and should be deleted."},{"lineNumber":194,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":195,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":196,"author":{"gitId":"-"},"content":""},{"lineNumber":197,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":198,"author":{"gitId":"-"},"content":" * Tooltips"},{"lineNumber":199,"author":{"gitId":"-"},"content":" */"},{"lineNumber":200,"author":{"gitId":"-"},"content":""},{"lineNumber":201,"author":{"gitId":"-"},"content":"module.exports.PROCESS_TOOLTIP_CONTENT \u003d `"},{"lineNumber":202,"author":{"gitId":"-"},"content":"\u003ctooltip content\u003d\"Lorem ipsum dolor sit amet\"\u003e"},{"lineNumber":203,"author":{"gitId":"-"},"content":"  \u003cbutton\u003eContent attribute should be inserted as _content internal slot\u003c/button\u003e"},{"lineNumber":204,"author":{"gitId":"-"},"content":"\u003c/tooltip\u003e"},{"lineNumber":205,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":206,"author":{"gitId":"-"},"content":""},{"lineNumber":207,"author":{"gitId":"-"},"content":"module.exports.PROCESS_TOOLTIP_CONTENT_EXPECTED \u003d `"},{"lineNumber":208,"author":{"gitId":"-"},"content":"\u003cspan data-mb-component-type\u003d\"tooltip\" v-b-tooltip.hover.top.html\u003d\"tooltipInnerContentGetter\" class\u003d\"trigger\"\u003e\u003cspan data-mb-slot-name\u003d\"_content\"\u003eLorem ipsum dolor sit amet\u003c/span\u003e"},{"lineNumber":209,"author":{"gitId":"-"},"content":"  \u003cbutton\u003eContent attribute should be inserted as _content internal slot\u003c/button\u003e"},{"lineNumber":210,"author":{"gitId":"-"},"content":"\u003c/span\u003e"},{"lineNumber":211,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":212,"author":{"gitId":"-"},"content":""},{"lineNumber":213,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":214,"author":{"gitId":"-"},"content":" * Modals"},{"lineNumber":215,"author":{"gitId":"-"},"content":" */"},{"lineNumber":216,"author":{"gitId":"-"},"content":""},{"lineNumber":217,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_HEADER \u003d `"},{"lineNumber":218,"author":{"gitId":"-"},"content":"\u003cmodal header\u003d\"_Lorem ipsum dolor sit amet_\"\u003e"},{"lineNumber":219,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as bootstrap-vue modal-title slot."},{"lineNumber":220,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":221,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":222,"author":{"gitId":"-"},"content":""},{"lineNumber":223,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_HEADER_EXPECTED \u003d `"},{"lineNumber":224,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cb-modal hide-footer size modal-class\u003d\"mb-zoom\"\u003e\u003ctemplate #modal-title\u003e\u003cem\u003eLorem ipsum dolor sit amet\u003c/em\u003e\u003c/template\u003e"},{"lineNumber":225,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as bootstrap-vue modal-title slot."},{"lineNumber":226,"author":{"gitId":"-"},"content":"\u003c/b-modal\u003e"},{"lineNumber":227,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":228,"author":{"gitId":"-"},"content":""},{"lineNumber":229,"author":{"gitId":"-"},"content":"// todo remove tests for these once \u0027title\u0027 attribute is fully deprecated for modals"},{"lineNumber":230,"author":{"gitId":"-"},"content":""},{"lineNumber":231,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_TITLE \u003d `"},{"lineNumber":232,"author":{"gitId":"-"},"content":"\u003cmodal title\u003d\"**Lorem ipsum dolor sit amet**\"\u003e"},{"lineNumber":233,"author":{"gitId":"-"},"content":"  Title attribute should be inserted as internal _header slot."},{"lineNumber":234,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":235,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":236,"author":{"gitId":"-"},"content":""},{"lineNumber":237,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_TITLE_EXPECTED \u003d `"},{"lineNumber":238,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cb-modal hide-footer size modal-class\u003d\"mb-zoom\"\u003e\u003ctemplate #modal-title\u003e\u003cstrong\u003eLorem ipsum dolor sit amet\u003c/strong\u003e\u003c/template\u003e"},{"lineNumber":239,"author":{"gitId":"-"},"content":"  Title attribute should be inserted as internal _header slot."},{"lineNumber":240,"author":{"gitId":"-"},"content":"\u003c/b-modal\u003e"},{"lineNumber":241,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":242,"author":{"gitId":"-"},"content":""},{"lineNumber":243,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_TITLE_NO_OVERRIDE \u003d `"},{"lineNumber":244,"author":{"gitId":"-"},"content":"\u003cmodal title\u003d\"**Title header**\" header\u003d\"**Header header**\"\u003e"},{"lineNumber":245,"author":{"gitId":"-"},"content":"  Title attribute should not have priority over newer header attribute, and should be deleted."},{"lineNumber":246,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":247,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":248,"author":{"gitId":"-"},"content":""},{"lineNumber":249,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_TITLE_NO_OVERRIDE_EXPECTED \u003d `"},{"lineNumber":250,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cb-modal hide-footer size modal-class\u003d\"mb-zoom\"\u003e\u003ctemplate #modal-title\u003e\u003cstrong\u003eHeader header\u003c/strong\u003e\u003c/template\u003e"},{"lineNumber":251,"author":{"gitId":"-"},"content":"  Title attribute should not have priority over newer header attribute, and should be deleted."},{"lineNumber":252,"author":{"gitId":"-"},"content":"\u003c/b-modal\u003e"},{"lineNumber":253,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":254,"author":{"gitId":"-"},"content":""},{"lineNumber":255,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_OK_TEXT \u003d `"},{"lineNumber":256,"author":{"gitId":"-"},"content":"\u003cmodal ok-text\u003d\"Custom OK\" title\u003d\"**Title header**\" header\u003d\"**Header header**\"\u003e"},{"lineNumber":257,"author":{"gitId":"-"},"content":"  ok-only attr should be set, hide-footer should not be set."},{"lineNumber":258,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":259,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":260,"author":{"gitId":"-"},"content":""},{"lineNumber":261,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_OK_TEXT_EXPECTED \u003d `"},{"lineNumber":262,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cb-modal ok-title\u003d\"Custom OK\" ok-only size modal-class\u003d\"mb-zoom\"\u003e\u003ctemplate #modal-title\u003e\u003cstrong\u003eHeader header\u003c/strong\u003e\u003c/template\u003e"},{"lineNumber":263,"author":{"gitId":"-"},"content":"  ok-only attr should be set, hide-footer should not be set."},{"lineNumber":264,"author":{"gitId":"-"},"content":"\u003c/b-modal\u003e"},{"lineNumber":265,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":266,"author":{"gitId":"-"},"content":""},{"lineNumber":267,"author":{"gitId":"-"},"content":"// todo remove these once modal-header modal-footer slot names are deprecated fully."},{"lineNumber":268,"author":{"gitId":"-"},"content":""},{"lineNumber":269,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_SLOTS_RENAMING \u003d `"},{"lineNumber":270,"author":{"gitId":"-"},"content":"\u003cmodal\u003e"},{"lineNumber":271,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"modal-header\"\u003eShould be renamed to header\u003c/div\u003e"},{"lineNumber":272,"author":{"gitId":"-"},"content":"  \u003cdiv slot\u003d\"modal-footer\"\u003eShould be renamed to footer\u003c/div\u003e"},{"lineNumber":273,"author":{"gitId":"-"},"content":"\u003c/modal\u003e"},{"lineNumber":274,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":275,"author":{"gitId":"-"},"content":""},{"lineNumber":276,"author":{"gitId":"-"},"content":"module.exports.PROCESS_MODAL_SLOTS_RENAMING_EXPECTED \u003d `"},{"lineNumber":277,"author":{"gitId":"-"},"content":"\u003cb-modal size modal-class\u003d\"mb-zoom\"\u003e"},{"lineNumber":278,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003ctemplate #modal-header\u003e\u003cdiv\u003eShould be renamed to header\u003c/div\u003e\u003c/template\u003e"},{"lineNumber":279,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003ctemplate #modal-footer\u003e\u003cdiv\u003eShould be renamed to footer\u003c/div\u003e\u003c/template\u003e"},{"lineNumber":280,"author":{"gitId":"-"},"content":"\u003c/b-modal\u003e"},{"lineNumber":281,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":282,"author":{"gitId":"-"},"content":""},{"lineNumber":283,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":284,"author":{"gitId":"-"},"content":" * Tab, tab-group"},{"lineNumber":285,"author":{"gitId":"-"},"content":" */"},{"lineNumber":286,"author":{"gitId":"-"},"content":""},{"lineNumber":287,"author":{"gitId":"-"},"content":"module.exports.PROCESS_TAB_HEADER \u003d `"},{"lineNumber":288,"author":{"gitId":"-"},"content":"\u003ctab header\u003d\"**Lorem ipsum dolor sit amet**\"\u003e"},{"lineNumber":289,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted."},{"lineNumber":290,"author":{"gitId":"-"},"content":"\u003c/tab\u003e"},{"lineNumber":291,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":292,"author":{"gitId":"-"},"content":""},{"lineNumber":293,"author":{"gitId":"-"},"content":"module.exports.PROCESS_TAB_HEADER_EXPECTED \u003d `"},{"lineNumber":294,"author":{"gitId":"wxwxwxwx9"},"content":"\u003ctab\u003e\u003ctemplate #_header\u003e\u003cstrong\u003eLorem ipsum dolor sit amet\u003c/strong\u003e\u003c/template\u003e"},{"lineNumber":295,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted."},{"lineNumber":296,"author":{"gitId":"-"},"content":"\u003c/tab\u003e"},{"lineNumber":297,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":298,"author":{"gitId":"-"},"content":""},{"lineNumber":299,"author":{"gitId":"-"},"content":"module.exports.PROCESS_TAB_GROUP_HEADER \u003d `"},{"lineNumber":300,"author":{"gitId":"-"},"content":"\u003ctab-group header\u003d\"**Lorem ipsum dolor sit amet**\"\u003e"},{"lineNumber":301,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted."},{"lineNumber":302,"author":{"gitId":"-"},"content":"\u003c/tab-group\u003e"},{"lineNumber":303,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":304,"author":{"gitId":"-"},"content":""},{"lineNumber":305,"author":{"gitId":"-"},"content":"module.exports.PROCESS_TAB_GROUP_HEADER_EXPECTED \u003d `"},{"lineNumber":306,"author":{"gitId":"wxwxwxwx9"},"content":"\u003ctab-group\u003e\u003ctemplate #_header\u003e\u003cstrong\u003eLorem ipsum dolor sit amet\u003c/strong\u003e\u003c/template\u003e"},{"lineNumber":307,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted."},{"lineNumber":308,"author":{"gitId":"-"},"content":"\u003c/tab-group\u003e"},{"lineNumber":309,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":310,"author":{"gitId":"-"},"content":""},{"lineNumber":311,"author":{"gitId":"-"},"content":"/*"},{"lineNumber":312,"author":{"gitId":"-"},"content":" * Boxes"},{"lineNumber":313,"author":{"gitId":"-"},"content":" */"},{"lineNumber":314,"author":{"gitId":"-"},"content":""},{"lineNumber":315,"author":{"gitId":"-"},"content":"module.exports.PROCESS_BOX_ICON \u003d `"},{"lineNumber":316,"author":{"gitId":"-"},"content":"\u003cbox icon\u003d\":rocket:\"\u003e"},{"lineNumber":317,"author":{"gitId":"-"},"content":"  Icon attribute should be inserted as internal icon slot and deleted."},{"lineNumber":318,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":319,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":320,"author":{"gitId":"-"},"content":""},{"lineNumber":321,"author":{"gitId":"-"},"content":"module.exports.PROCESS_BOX_ICON_EXPECTED \u003d `"},{"lineNumber":322,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cbox\u003e\u003ctemplate #icon\u003e🚀\u003c/template\u003e"},{"lineNumber":323,"author":{"gitId":"-"},"content":"  Icon attribute should be inserted as internal icon slot and deleted."},{"lineNumber":324,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":325,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":326,"author":{"gitId":"-"},"content":""},{"lineNumber":327,"author":{"gitId":"-"},"content":"module.exports.PROCESS_BOX_HEADER \u003d `"},{"lineNumber":328,"author":{"gitId":"-"},"content":"\u003cbox header\u003d\"#### Lorem ipsum dolor sit amet :rocket:\"\u003e"},{"lineNumber":329,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted."},{"lineNumber":330,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":331,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":332,"author":{"gitId":"-"},"content":""},{"lineNumber":333,"author":{"gitId":"-"},"content":"module.exports.PROCESS_BOX_HEADER_EXPECTED \u003d `"},{"lineNumber":334,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cbox\u003e\u003ctemplate #_header\u003e\u003ch4\u003eLorem ipsum dolor sit amet 🚀\u003c/h4\u003e"},{"lineNumber":335,"author":{"gitId":"-"},"content":"\u003c/template\u003e"},{"lineNumber":336,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted."},{"lineNumber":337,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":338,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":339,"author":{"gitId":"-"},"content":""},{"lineNumber":340,"author":{"gitId":"-"},"content":"// todo remove this test once \u0027heading\u0027 attribute is fully deprecated for boxes"},{"lineNumber":341,"author":{"gitId":"-"},"content":""},{"lineNumber":342,"author":{"gitId":"-"},"content":"module.exports.PROCESS_BOX_HEADING \u003d `"},{"lineNumber":343,"author":{"gitId":"-"},"content":"\u003cbox heading\u003d\"#### Lorem ipsum dolor sit amet :rocket:\"\u003e"},{"lineNumber":344,"author":{"gitId":"-"},"content":"  Heading attribute should be inserted as internal _header slot and deleted."},{"lineNumber":345,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":346,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":347,"author":{"gitId":"-"},"content":""},{"lineNumber":348,"author":{"gitId":"-"},"content":"module.exports.PROCESS_BOX_HEADING_EXPECTED \u003d `"},{"lineNumber":349,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cbox\u003e\u003ctemplate #_header\u003e\u003ch4\u003eLorem ipsum dolor sit amet 🚀\u003c/h4\u003e"},{"lineNumber":350,"author":{"gitId":"-"},"content":"\u003c/template\u003e"},{"lineNumber":351,"author":{"gitId":"-"},"content":"  Heading attribute should be inserted as internal _header slot and deleted."},{"lineNumber":352,"author":{"gitId":"-"},"content":"\u003c/box\u003e"},{"lineNumber":353,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":354,"author":{"gitId":"-"},"content":""},{"lineNumber":355,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":356,"author":{"gitId":"-"},"content":" * Dropdowns"},{"lineNumber":357,"author":{"gitId":"-"},"content":" */"},{"lineNumber":358,"author":{"gitId":"-"},"content":""},{"lineNumber":359,"author":{"gitId":"-"},"content":"module.exports.PROCESS_DROPDOWN_HEADER \u003d `"},{"lineNumber":360,"author":{"gitId":"-"},"content":"\u003cdropdown header\u003d\"**Lorem ipsum dolor sit amet**\"\u003e"},{"lineNumber":361,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted."},{"lineNumber":362,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":363,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":364,"author":{"gitId":"-"},"content":""},{"lineNumber":365,"author":{"gitId":"-"},"content":"module.exports.PROCESS_DROPDOWN_HEADER_EXPECTED \u003d `"},{"lineNumber":366,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cdropdown\u003e\u003ctemplate #_header\u003e\u003cstrong\u003eLorem ipsum dolor sit amet\u003c/strong\u003e\u003c/template\u003e"},{"lineNumber":367,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted."},{"lineNumber":368,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":369,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":370,"author":{"gitId":"-"},"content":""},{"lineNumber":371,"author":{"gitId":"-"},"content":"// TODO deprecate text attribute of dropdown"},{"lineNumber":372,"author":{"gitId":"-"},"content":"module.exports.PROCESS_DROPDOWN_TEXT_ATTR \u003d `"},{"lineNumber":373,"author":{"gitId":"-"},"content":"\u003cdropdown text\u003d\"**Lorem ipsum dolor sit amet**\"\u003e"},{"lineNumber":374,"author":{"gitId":"-"},"content":"  Text attribute should be inserted as internal _header slot and deleted."},{"lineNumber":375,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":376,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":377,"author":{"gitId":"-"},"content":""},{"lineNumber":378,"author":{"gitId":"-"},"content":"// TODO deprecate text attribute of dropdown"},{"lineNumber":379,"author":{"gitId":"-"},"content":"module.exports.PROCESS_DROPDOWN_TEXT_ATTR_EXPECTED \u003d `"},{"lineNumber":380,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cdropdown\u003e\u003ctemplate #_header\u003e\u003cstrong\u003eLorem ipsum dolor sit amet\u003c/strong\u003e\u003c/template\u003e"},{"lineNumber":381,"author":{"gitId":"-"},"content":"  Text attribute should be inserted as internal _header slot and deleted."},{"lineNumber":382,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":383,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":384,"author":{"gitId":"-"},"content":""},{"lineNumber":385,"author":{"gitId":"-"},"content":"// TODO deprecate text attribute of dropdown"},{"lineNumber":386,"author":{"gitId":"-"},"content":"module.exports.PROCESS_DROPDOWN_HEADER_SHADOWS_TEXT \u003d `"},{"lineNumber":387,"author":{"gitId":"-"},"content":"\u003cdropdown text\u003d\"Not expected text\" header\u003d\"**Lorem ipsum dolor sit amet**\"\u003e"},{"lineNumber":388,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted. Text attribute should be ignored."},{"lineNumber":389,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":390,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":391,"author":{"gitId":"-"},"content":""},{"lineNumber":392,"author":{"gitId":"-"},"content":"// TODO deprecate text attribute of dropdown"},{"lineNumber":393,"author":{"gitId":"-"},"content":"module.exports.PROCESS_DROPDOWN_HEADER_SHADOWS_TEXT_EXPECTED \u003d `"},{"lineNumber":394,"author":{"gitId":"wxwxwxwx9"},"content":"\u003cdropdown\u003e\u003ctemplate #_header\u003e\u003cstrong\u003eLorem ipsum dolor sit amet\u003c/strong\u003e\u003c/template\u003e"},{"lineNumber":395,"author":{"gitId":"-"},"content":"  Header attribute should be inserted as internal _header slot and deleted. Text attribute should be ignored."},{"lineNumber":396,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":397,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":398,"author":{"gitId":"-"},"content":""},{"lineNumber":399,"author":{"gitId":"-"},"content":"module.exports.PROCESS_DROPDOWN_HEADER_SLOT_TAKES_PRIORITY \u003d `"},{"lineNumber":400,"author":{"gitId":"-"},"content":"\u003cdropdown header\u003d\"**Lorem ipsum dolor sit amet**\" text\u003d\"shouldn\u0027t appear in result\"\u003e"},{"lineNumber":401,"author":{"gitId":"-"},"content":"  \u003cstrong slot\u003d\"header\"\u003eslot text\u003c/strong\u003e"},{"lineNumber":402,"author":{"gitId":"-"},"content":"  Header attribute should be ignored and deleted while header slot is reserved."},{"lineNumber":403,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":404,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":405,"author":{"gitId":"-"},"content":""},{"lineNumber":406,"author":{"gitId":"-"},"content":"module.exports.PROCESS_DROPDOWN_HEADER_SLOT_TAKES_PRIORITY_EXPECTED \u003d `"},{"lineNumber":407,"author":{"gitId":"-"},"content":"\u003cdropdown\u003e"},{"lineNumber":408,"author":{"gitId":"wxwxwxwx9"},"content":"  \u003ctemplate #header\u003e\u003cstrong\u003eslot text\u003c/strong\u003e\u003c/template\u003e"},{"lineNumber":409,"author":{"gitId":"-"},"content":"  Header attribute should be ignored and deleted while header slot is reserved."},{"lineNumber":410,"author":{"gitId":"-"},"content":"\u003c/dropdown\u003e"},{"lineNumber":411,"author":{"gitId":"-"},"content":"`;"},{"lineNumber":412,"author":{"gitId":"-"},"content":""},{"lineNumber":413,"author":{"gitId":"-"},"content":"/* eslint-enable max-len */"}],"authorContributionMap":{"wxwxwxwx9":33,"-":380}},{"path":"packages/core/test/unit/html/NodeProcessor.test.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const cheerio \u003d require(\u0027cheerio\u0027);"},{"lineNumber":3,"author":{"gitId":"-"},"content":"const htmlparser \u003d require(\u0027htmlparser2\u0027);"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const { getNewDefaultNodeProcessor } \u003d require(\u0027../utils/utils\u0027);"},{"lineNumber":5,"author":{"gitId":"-"},"content":"const testData \u003d require(\u0027./NodeProcessor.data\u0027);"},{"lineNumber":6,"author":{"gitId":"-"},"content":"const { Context } \u003d require(\u0027../../../src/html/Context\u0027);"},{"lineNumber":7,"author":{"gitId":"wxwxwxwx9"},"content":"const { NodeProcessor } \u003d require(\u0027../../../src/html/NodeProcessor\u0027);"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"/**"},{"lineNumber":10,"author":{"gitId":"-"},"content":" * Runs the processNode or postProcessNode method of NodeProcessor on the provided"},{"lineNumber":11,"author":{"gitId":"-"},"content":" * template, verifying it with the expected result."},{"lineNumber":12,"author":{"gitId":"-"},"content":" * @param template The html template, which should only have one root element"},{"lineNumber":13,"author":{"gitId":"-"},"content":" * @param expectedTemplate The expected result template"},{"lineNumber":14,"author":{"gitId":"-"},"content":" * @param postProcess Boolean of whether to run postProcessNode instead of processNode."},{"lineNumber":15,"author":{"gitId":"-"},"content":" *                  Defaults to false"},{"lineNumber":16,"author":{"gitId":"-"},"content":" */"},{"lineNumber":17,"author":{"gitId":"-"},"content":"const processAndVerifyTemplate \u003d (template, expectedTemplate, postProcess \u003d false) \u003d\u003e {"},{"lineNumber":18,"author":{"gitId":"-"},"content":"  const handler \u003d new htmlparser.DomHandler((error, dom) \u003d\u003e {"},{"lineNumber":19,"author":{"gitId":"-"},"content":"    expect(error).toBeFalsy();"},{"lineNumber":20,"author":{"gitId":"-"},"content":""},{"lineNumber":21,"author":{"gitId":"-"},"content":"    const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":22,"author":{"gitId":"-"},"content":""},{"lineNumber":23,"author":{"gitId":"-"},"content":"    if (postProcess) {"},{"lineNumber":24,"author":{"gitId":"wxwxwxwx9"},"content":"      /*"},{"lineNumber":25,"author":{"gitId":"wxwxwxwx9"},"content":"        Need to process node first (convert deprecated vue slot to updated shorthand syntax)"},{"lineNumber":26,"author":{"gitId":"wxwxwxwx9"},"content":"        before doing post-processing."},{"lineNumber":27,"author":{"gitId":"wxwxwxwx9"},"content":"      */"},{"lineNumber":28,"author":{"gitId":"wxwxwxwx9"},"content":"      dom.forEach(node \u003d\u003e nodeProcessor.processNode(node, new Context(path.resolve(\u0027\u0027))));"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      dom.forEach(node \u003d\u003e nodeProcessor.postProcessNode(node));"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    } else {"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      dom.forEach(node \u003d\u003e nodeProcessor.processNode(node, new Context(path.resolve(\u0027\u0027))));"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    const result \u003d cheerio.html(dom);"},{"lineNumber":34,"author":{"gitId":"-"},"content":""},{"lineNumber":35,"author":{"gitId":"-"},"content":"    expect(result).toEqual(expectedTemplate);"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":37,"author":{"gitId":"-"},"content":""},{"lineNumber":38,"author":{"gitId":"-"},"content":"  const htmlParser \u003d new htmlparser.Parser(handler);"},{"lineNumber":39,"author":{"gitId":"-"},"content":""},{"lineNumber":40,"author":{"gitId":"-"},"content":"  htmlParser.parseComplete(template);"},{"lineNumber":41,"author":{"gitId":"-"},"content":"};"},{"lineNumber":42,"author":{"gitId":"-"},"content":""},{"lineNumber":43,"author":{"gitId":"-"},"content":"test(\u0027processNode processes panel attributes and inserts into dom as slots correctly\u0027, () \u003d\u003e {"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_PANEL_ATTRIBUTES,"},{"lineNumber":45,"author":{"gitId":"-"},"content":"                           testData.PROCESS_PANEL_ATTRIBUTES_EXPECTED);"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_PANEL_HEADER_NO_OVERRIDE,"},{"lineNumber":47,"author":{"gitId":"-"},"content":"                           testData.PROCESS_PANEL_HEADER_NO_OVERRIDE_EXPECTED);"},{"lineNumber":48,"author":{"gitId":"-"},"content":"});"},{"lineNumber":49,"author":{"gitId":"-"},"content":""},{"lineNumber":50,"author":{"gitId":"-"},"content":"test(\u0027processNode processes question attributes and inserts into dom as slots correctly\u0027, () \u003d\u003e {"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_QUESTION_ATTRIBUTES,"},{"lineNumber":52,"author":{"gitId":"-"},"content":"                           testData.PROCESS_QUESTION_ATTRIBUTES_EXPECTED);"},{"lineNumber":53,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_QUESTION_ATTRIBUTES_NO_OVERRIDE,"},{"lineNumber":54,"author":{"gitId":"-"},"content":"                           testData.PROCESS_QUESTION_ATTRIBUTES_NO_OVERRIDE_EXPECTED);"},{"lineNumber":55,"author":{"gitId":"-"},"content":"});"},{"lineNumber":56,"author":{"gitId":"-"},"content":""},{"lineNumber":57,"author":{"gitId":"-"},"content":"test(\u0027processNode processes q-option attributes and inserts into dom as slots correctly\u0027, () \u003d\u003e {"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_QOPTION_ATTRIBUTES,"},{"lineNumber":59,"author":{"gitId":"-"},"content":"                           testData.PROCESS_QOPTION_ATTRIBUTES_EXPECTED);"},{"lineNumber":60,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_QOPTION_ATTRIBUTES_NO_OVERRIDE,"},{"lineNumber":61,"author":{"gitId":"-"},"content":"                           testData.PROCESS_QOPTION_ATTRIBUTES_NO_OVERRIDE_EXPECTED);"},{"lineNumber":62,"author":{"gitId":"-"},"content":"});"},{"lineNumber":63,"author":{"gitId":"-"},"content":""},{"lineNumber":64,"author":{"gitId":"-"},"content":"test(\u0027processNode processes quiz attributes and inserts into dom as slots correctly\u0027, () \u003d\u003e {"},{"lineNumber":65,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_QUIZ_ATTRIBUTES_EXPECTED,"},{"lineNumber":66,"author":{"gitId":"-"},"content":"                           testData.PROCESS_QUIZ_ATTRIBUTES_EXPECTED);"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_QUIZ_ATTRIBUTES_NO_OVERRIDE,"},{"lineNumber":68,"author":{"gitId":"-"},"content":"                           testData.PROCESS_QUIZ_ATTRIBUTES_NO_OVERRIDE_EXPECTED);"},{"lineNumber":69,"author":{"gitId":"-"},"content":"});"},{"lineNumber":70,"author":{"gitId":"-"},"content":""},{"lineNumber":71,"author":{"gitId":"-"},"content":"test(\u0027processNode processes popover attributes and inserts into dom as slots correctly\u0027, () \u003d\u003e {"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_POPOVER_ATTRIBUTES,"},{"lineNumber":73,"author":{"gitId":"-"},"content":"                           testData.PROCESS_POPOVER_ATTRIBUTES_EXPECTED);"},{"lineNumber":74,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_POPOVER_ATTRIBUTES_NO_OVERRIDE,"},{"lineNumber":75,"author":{"gitId":"-"},"content":"                           testData.PROCESS_POPOVER_ATTRIBUTES_NO_OVERRIDE_EXPECTED);"},{"lineNumber":76,"author":{"gitId":"-"},"content":""},{"lineNumber":77,"author":{"gitId":"-"},"content":"  // todo remove these once \u0027title\u0027 for popover is fully deprecated"},{"lineNumber":78,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_POPOVER_TITLE,"},{"lineNumber":79,"author":{"gitId":"-"},"content":"                           testData.PROCESS_POPOVER_TITLE_EXPECTED);"},{"lineNumber":80,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_POPOVER_TITLE_NO_OVERRIDE,"},{"lineNumber":81,"author":{"gitId":"-"},"content":"                           testData.PROCESS_POPOVER_TITLE_NO_OVERRIDE_EXPECTED);"},{"lineNumber":82,"author":{"gitId":"-"},"content":"});"},{"lineNumber":83,"author":{"gitId":"-"},"content":""},{"lineNumber":84,"author":{"gitId":"-"},"content":"test(\u0027processNode processes tooltip attributes and inserts into dom as slots correctly\u0027, () \u003d\u003e {"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_TOOLTIP_CONTENT,"},{"lineNumber":86,"author":{"gitId":"-"},"content":"                           testData.PROCESS_TOOLTIP_CONTENT_EXPECTED);"},{"lineNumber":87,"author":{"gitId":"-"},"content":"});"},{"lineNumber":88,"author":{"gitId":"-"},"content":""},{"lineNumber":89,"author":{"gitId":"-"},"content":"test(\u0027processNode processes modal attributes and inserts into dom as slots correctly\u0027, () \u003d\u003e {"},{"lineNumber":90,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_MODAL_HEADER,"},{"lineNumber":91,"author":{"gitId":"-"},"content":"                           testData.PROCESS_MODAL_HEADER_EXPECTED);"},{"lineNumber":92,"author":{"gitId":"-"},"content":""},{"lineNumber":93,"author":{"gitId":"-"},"content":"  // todo remove these once \u0027title\u0027 for modals is fully deprecated"},{"lineNumber":94,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_MODAL_TITLE,"},{"lineNumber":95,"author":{"gitId":"-"},"content":"                           testData.PROCESS_MODAL_TITLE_EXPECTED);"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_MODAL_TITLE_NO_OVERRIDE,"},{"lineNumber":97,"author":{"gitId":"-"},"content":"                           testData.PROCESS_MODAL_TITLE_NO_OVERRIDE_EXPECTED);"},{"lineNumber":98,"author":{"gitId":"-"},"content":""},{"lineNumber":99,"author":{"gitId":"-"},"content":"  // todo remove these once \u0027modal-header\u0027 / \u0027modal-footer\u0027 for modal is fully deprecated"},{"lineNumber":100,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_MODAL_SLOTS_RENAMING,"},{"lineNumber":101,"author":{"gitId":"-"},"content":"                           testData.PROCESS_MODAL_SLOTS_RENAMING_EXPECTED);"},{"lineNumber":102,"author":{"gitId":"-"},"content":""},{"lineNumber":103,"author":{"gitId":"-"},"content":"  // when the ok-text attr is set, footer shouldn\u0027t be disabled and ok-only attr should be added"},{"lineNumber":104,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_MODAL_OK_TEXT,"},{"lineNumber":105,"author":{"gitId":"-"},"content":"                           testData.PROCESS_MODAL_OK_TEXT_EXPECTED);"},{"lineNumber":106,"author":{"gitId":"-"},"content":"});"},{"lineNumber":107,"author":{"gitId":"-"},"content":""},{"lineNumber":108,"author":{"gitId":"-"},"content":"test(\u0027processNode processes tab \u0026 tab-group attributes and inserts into dom as slots correctly\u0027, () \u003d\u003e {"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_TAB_HEADER,"},{"lineNumber":110,"author":{"gitId":"-"},"content":"                           testData.PROCESS_TAB_HEADER_EXPECTED);"},{"lineNumber":111,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_TAB_GROUP_HEADER,"},{"lineNumber":112,"author":{"gitId":"-"},"content":"                           testData.PROCESS_TAB_GROUP_HEADER_EXPECTED);"},{"lineNumber":113,"author":{"gitId":"-"},"content":"});"},{"lineNumber":114,"author":{"gitId":"-"},"content":""},{"lineNumber":115,"author":{"gitId":"-"},"content":"test(\u0027processNode processes box attributes and inserts into dom as slots correctly\u0027, () \u003d\u003e {"},{"lineNumber":116,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_BOX_ICON,"},{"lineNumber":117,"author":{"gitId":"-"},"content":"                           testData.PROCESS_BOX_ICON_EXPECTED);"},{"lineNumber":118,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_BOX_HEADER,"},{"lineNumber":119,"author":{"gitId":"-"},"content":"                           testData.PROCESS_BOX_HEADER_EXPECTED);"},{"lineNumber":120,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_BOX_HEADING,"},{"lineNumber":121,"author":{"gitId":"-"},"content":"                           testData.PROCESS_BOX_HEADING_EXPECTED);"},{"lineNumber":122,"author":{"gitId":"-"},"content":"});"},{"lineNumber":123,"author":{"gitId":"-"},"content":""},{"lineNumber":124,"author":{"gitId":"-"},"content":"test(\u0027postProcessNode assigns the correct header id to panels\u0027, () \u003d\u003e {"},{"lineNumber":125,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.POST_PROCESS_PANEL_ID_ASSIGNED_USING_HEADER_SLOT,"},{"lineNumber":126,"author":{"gitId":"-"},"content":"                           testData.POST_PROCESS_PANEL_ID_ASSIGNED_USING_HEADER_SLOT_EXPECTED,"},{"lineNumber":127,"author":{"gitId":"-"},"content":"                           true);"},{"lineNumber":128,"author":{"gitId":"-"},"content":"});"},{"lineNumber":129,"author":{"gitId":"-"},"content":""},{"lineNumber":130,"author":{"gitId":"-"},"content":"test(\u0027processNode processes dropdown header attribute and inserts into DOM as _header slot correctly\u0027, () \u003d\u003e {"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_DROPDOWN_HEADER,"},{"lineNumber":132,"author":{"gitId":"-"},"content":"                           testData.PROCESS_DROPDOWN_HEADER_EXPECTED);"},{"lineNumber":133,"author":{"gitId":"-"},"content":"});"},{"lineNumber":134,"author":{"gitId":"-"},"content":""},{"lineNumber":135,"author":{"gitId":"-"},"content":"test(\u0027processNode processes dropdown text attribute and inserts into DOM as _header slot correctly\u0027, () \u003d\u003e {"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_DROPDOWN_TEXT_ATTR,"},{"lineNumber":137,"author":{"gitId":"-"},"content":"                           testData.PROCESS_DROPDOWN_TEXT_ATTR_EXPECTED);"},{"lineNumber":138,"author":{"gitId":"-"},"content":"});"},{"lineNumber":139,"author":{"gitId":"-"},"content":""},{"lineNumber":140,"author":{"gitId":"-"},"content":"test(\u0027processNode processes dropdown with header taking priority over text attribute\u0027, () \u003d\u003e {"},{"lineNumber":141,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_DROPDOWN_HEADER_SHADOWS_TEXT,"},{"lineNumber":142,"author":{"gitId":"-"},"content":"                           testData.PROCESS_DROPDOWN_HEADER_SHADOWS_TEXT_EXPECTED);"},{"lineNumber":143,"author":{"gitId":"-"},"content":"});"},{"lineNumber":144,"author":{"gitId":"-"},"content":""},{"lineNumber":145,"author":{"gitId":"-"},"content":"test(\u0027processNode processes dropdown with header slot taking priority over header attribute\u0027, () \u003d\u003e {"},{"lineNumber":146,"author":{"gitId":"-"},"content":"  processAndVerifyTemplate(testData.PROCESS_DROPDOWN_HEADER_SLOT_TAKES_PRIORITY,"},{"lineNumber":147,"author":{"gitId":"-"},"content":"                           testData.PROCESS_DROPDOWN_HEADER_SLOT_TAKES_PRIORITY_EXPECTED);"},{"lineNumber":148,"author":{"gitId":"-"},"content":"});"},{"lineNumber":149,"author":{"gitId":"-"},"content":""},{"lineNumber":150,"author":{"gitId":"-"},"content":"test(\u0027renderFile converts markdown headers to \u003ch1\u003e with an id\u0027, async () \u003d\u003e {"},{"lineNumber":151,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":152,"author":{"gitId":"-"},"content":"  const indexPath \u003d \u0027index.md\u0027;"},{"lineNumber":153,"author":{"gitId":"-"},"content":""},{"lineNumber":154,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, \u0027# Index\u0027);"},{"lineNumber":155,"author":{"gitId":"-"},"content":""},{"lineNumber":156,"author":{"gitId":"-"},"content":"  const expected \u003d [\u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027].join(\u0027\\n\u0027);"},{"lineNumber":157,"author":{"gitId":"-"},"content":""},{"lineNumber":158,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":159,"author":{"gitId":"-"},"content":"});"},{"lineNumber":160,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":161,"author":{"gitId":"wxwxwxwx9"},"content":"test(\u0027deprecated vue slot syntax should be converted to updated Vue slot shorthand syntax\u0027, async () \u003d\u003e {"},{"lineNumber":162,"author":{"gitId":"wxwxwxwx9"},"content":"  // slot\u003d\"test\" converted to #test"},{"lineNumber":163,"author":{"gitId":"wxwxwxwx9"},"content":"  const test \u003d \u0027\u003cpanel\u003e\u003cdiv slot\u003d\"header\"\u003etest\u003c/div\u003e\u003cp slot\u003d\"test\"\u003etest2\u003c/p\u003e\u003c/panel\u003e\u0027;"},{"lineNumber":164,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":165,"author":{"gitId":"wxwxwxwx9"},"content":"  const testNode \u003d cheerio.parseHTML(test)[0];"},{"lineNumber":166,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":167,"author":{"gitId":"wxwxwxwx9"},"content":"  NodeProcessor.transformOldSlotSyntax(testNode);"},{"lineNumber":168,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":169,"author":{"gitId":"wxwxwxwx9"},"content":"  const expected \u003d \u0027\u003cpanel\u003e\u003cdiv #header\u003etest\u003c/div\u003e\u003cp #test\u003etest2\u003c/p\u003e\u003c/panel\u003e\u0027;"},{"lineNumber":170,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":171,"author":{"gitId":"wxwxwxwx9"},"content":"  expect(cheerio.html(testNode)).toEqual(expected);"},{"lineNumber":172,"author":{"gitId":"wxwxwxwx9"},"content":"});"},{"lineNumber":173,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":174,"author":{"gitId":"wxwxwxwx9"},"content":"test(\u0027slot nodes which have tag names other than \"template\" are shifted one level deeper \u0027, async () \u003d\u003e {"},{"lineNumber":175,"author":{"gitId":"wxwxwxwx9"},"content":"  const test \u003d \u0027\u003cpanel\u003e\u003cdiv #header\u003etest\u003c/div\u003e\u003c/panel\u003e\u0027;"},{"lineNumber":176,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":177,"author":{"gitId":"wxwxwxwx9"},"content":"  const testNode \u003d cheerio.parseHTML(test)[0];"},{"lineNumber":178,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":179,"author":{"gitId":"wxwxwxwx9"},"content":"  NodeProcessor.shiftSlotNodeDeeper(testNode);"},{"lineNumber":180,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":181,"author":{"gitId":"wxwxwxwx9"},"content":"  const expected \u003d \u0027\u003cpanel\u003e\u003ctemplate #header\u003e\u003cdiv\u003etest\u003c/div\u003e\u003c/template\u003e\u003c/panel\u003e\u0027;"},{"lineNumber":182,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":183,"author":{"gitId":"wxwxwxwx9"},"content":"  expect(cheerio.html(testNode)).toEqual(expected);"},{"lineNumber":184,"author":{"gitId":"wxwxwxwx9"},"content":"});"}],"authorContributionMap":{"wxwxwxwx9":31,"-":153}},{"path":"packages/core/test/unit/html/includePanelProcessor.test.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const fs \u003d require(\u0027fs\u0027);"},{"lineNumber":3,"author":{"gitId":"-"},"content":"const { getNewDefaultNodeProcessor } \u003d require(\u0027../utils/utils\u0027);"},{"lineNumber":4,"author":{"gitId":"-"},"content":""},{"lineNumber":5,"author":{"gitId":"-"},"content":"jest.mock(\u0027fs\u0027);"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"afterEach(() \u003d\u003e fs.vol.reset());"},{"lineNumber":8,"author":{"gitId":"-"},"content":""},{"lineNumber":9,"author":{"gitId":"-"},"content":"test(\u0027includeFile replaces \u003cinclude\u003e with \u003cdiv\u003e\u0027, async () \u003d\u003e {"},{"lineNumber":10,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":11,"author":{"gitId":"-"},"content":""},{"lineNumber":12,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":13,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":14,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"include.md\" /\u003e\u0027,"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":16,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":17,"author":{"gitId":"-"},"content":""},{"lineNumber":18,"author":{"gitId":"-"},"content":"  const include \u003d [\u0027# Include\u0027].join(\u0027\\n\u0027);"},{"lineNumber":19,"author":{"gitId":"-"},"content":""},{"lineNumber":20,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    \u0027include.md\u0027: include,"},{"lineNumber":22,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":23,"author":{"gitId":"-"},"content":""},{"lineNumber":24,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":25,"author":{"gitId":"-"},"content":""},{"lineNumber":26,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":27,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":28,"author":{"gitId":"-"},"content":""},{"lineNumber":29,"author":{"gitId":"-"},"content":"  const expected \u003d ["},{"lineNumber":30,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":31,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cdiv\u003e\u003ch1 id\u003d\"include\"\u003e\u003cspan id\u003d\"include\" class\u003d\"anchor\"\u003e\u003c/span\u003eInclude\u003c/h1\u003e\u003c/div\u003e\u0027,"},{"lineNumber":32,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":33,"author":{"gitId":"-"},"content":""},{"lineNumber":34,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":35,"author":{"gitId":"-"},"content":"});"},{"lineNumber":36,"author":{"gitId":"-"},"content":""},{"lineNumber":37,"author":{"gitId":"-"},"content":"test(\u0027includeFile replaces \u003cinclude src\u003d\"exist.md\" optional\u003e with \u003cdiv\u003e\u0027, async () \u003d\u003e {"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":39,"author":{"gitId":"-"},"content":""},{"lineNumber":40,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":41,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":42,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"exist.md\" optional/\u003e\u0027,"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":45,"author":{"gitId":"-"},"content":""},{"lineNumber":46,"author":{"gitId":"-"},"content":"  const exist \u003d [\u0027# Exist\u0027].join(\u0027\\n\u0027);"},{"lineNumber":47,"author":{"gitId":"-"},"content":""},{"lineNumber":48,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":49,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":50,"author":{"gitId":"-"},"content":"    \u0027exist.md\u0027: exist,"},{"lineNumber":51,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":52,"author":{"gitId":"-"},"content":""},{"lineNumber":53,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":54,"author":{"gitId":"-"},"content":""},{"lineNumber":55,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":57,"author":{"gitId":"-"},"content":""},{"lineNumber":58,"author":{"gitId":"-"},"content":"  const expected \u003d ["},{"lineNumber":59,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":60,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cdiv\u003e\u003ch1 id\u003d\"exist\"\u003e\u003cspan id\u003d\"exist\" class\u003d\"anchor\"\u003e\u003c/span\u003eExist\u003c/h1\u003e\u003c/div\u003e\u0027,"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":62,"author":{"gitId":"-"},"content":""},{"lineNumber":63,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":64,"author":{"gitId":"-"},"content":"});"},{"lineNumber":65,"author":{"gitId":"-"},"content":""},{"lineNumber":66,"author":{"gitId":"-"},"content":"test(\u0027includeFile replaces \u003cinclude src\u003d\"doesNotExist.md\" optional\u003e with empty \u003cdiv\u003e\u0027, async () \u003d\u003e {"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":68,"author":{"gitId":"-"},"content":""},{"lineNumber":69,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":70,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"doesNotExist.md\" optional/\u003e\u0027,"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":74,"author":{"gitId":"-"},"content":""},{"lineNumber":75,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":76,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":77,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":78,"author":{"gitId":"-"},"content":""},{"lineNumber":79,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":80,"author":{"gitId":"-"},"content":""},{"lineNumber":81,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":82,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":83,"author":{"gitId":"-"},"content":""},{"lineNumber":84,"author":{"gitId":"-"},"content":"  const expected \u003d ["},{"lineNumber":85,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":86,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cinclude src\u003d\"/doesNotExist.md\" optional\u003e\u003c/include\u003e\u0027,"},{"lineNumber":87,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":88,"author":{"gitId":"-"},"content":""},{"lineNumber":89,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":90,"author":{"gitId":"-"},"content":"});"},{"lineNumber":91,"author":{"gitId":"-"},"content":""},{"lineNumber":92,"author":{"gitId":"-"},"content":"test(\u0027includeFile replaces \u003cinclude src\u003d\"include.md#exists\"\u003e with \u003cdiv\u003e\u0027, async () \u003d\u003e {"},{"lineNumber":93,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":94,"author":{"gitId":"-"},"content":""},{"lineNumber":95,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":96,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":97,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"include.md#exists\"/\u003e\u0027,"},{"lineNumber":98,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":100,"author":{"gitId":"-"},"content":""},{"lineNumber":101,"author":{"gitId":"-"},"content":"  const include \u003d ["},{"lineNumber":102,"author":{"gitId":"-"},"content":"    \u0027# Include\u0027,"},{"lineNumber":103,"author":{"gitId":"-"},"content":"    \u0027\u003cseg id\u003d\"exists\"\u003eexisting segment\u003c/seg\u003e\u0027,"},{"lineNumber":104,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":105,"author":{"gitId":"-"},"content":""},{"lineNumber":106,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    \u0027include.md\u0027: include,"},{"lineNumber":109,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":110,"author":{"gitId":"-"},"content":""},{"lineNumber":111,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":112,"author":{"gitId":"-"},"content":""},{"lineNumber":113,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":115,"author":{"gitId":"-"},"content":""},{"lineNumber":116,"author":{"gitId":"-"},"content":"  const expected \u003d ["},{"lineNumber":117,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":118,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cdiv\u003eexisting segment\u003c/div\u003e\u0027,"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":120,"author":{"gitId":"-"},"content":""},{"lineNumber":121,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":122,"author":{"gitId":"-"},"content":"});"},{"lineNumber":123,"author":{"gitId":"-"},"content":""},{"lineNumber":124,"author":{"gitId":"-"},"content":"test(\u0027includeFile replaces \u003cinclude src\u003d\"include.md#exists\" inline\u003e with inline content\u0027, async () \u003d\u003e {"},{"lineNumber":125,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":126,"author":{"gitId":"-"},"content":""},{"lineNumber":127,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":128,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":129,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"include.md#exists\" inline/\u003e\u0027,"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":131,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":132,"author":{"gitId":"-"},"content":""},{"lineNumber":133,"author":{"gitId":"-"},"content":"  const include \u003d ["},{"lineNumber":134,"author":{"gitId":"-"},"content":"    \u0027# Include\u0027,"},{"lineNumber":135,"author":{"gitId":"-"},"content":"    \u0027\u003cseg id\u003d\"exists\"\u003eexisting segment\u003c/seg\u003e\u0027,"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":137,"author":{"gitId":"-"},"content":""},{"lineNumber":138,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":139,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":140,"author":{"gitId":"-"},"content":"    \u0027include.md\u0027: include,"},{"lineNumber":141,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":142,"author":{"gitId":"-"},"content":""},{"lineNumber":143,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":144,"author":{"gitId":"-"},"content":""},{"lineNumber":145,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":146,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":147,"author":{"gitId":"-"},"content":""},{"lineNumber":148,"author":{"gitId":"-"},"content":"  const expected \u003d ["},{"lineNumber":149,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":150,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cspan\u003eexisting segment\u003c/span\u003e\u0027,"},{"lineNumber":151,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":152,"author":{"gitId":"-"},"content":""},{"lineNumber":153,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":154,"author":{"gitId":"-"},"content":"});"},{"lineNumber":155,"author":{"gitId":"-"},"content":""},{"lineNumber":156,"author":{"gitId":"-"},"content":"test(\u0027includeFile replaces \u003cinclude src\u003d\"include.md#exists\" trim\u003e with trimmed content\u0027, async () \u003d\u003e {"},{"lineNumber":157,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":158,"author":{"gitId":"-"},"content":""},{"lineNumber":159,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":160,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":161,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"include.md#exists\" trim/\u003e\u0027,"},{"lineNumber":162,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":163,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":164,"author":{"gitId":"-"},"content":""},{"lineNumber":165,"author":{"gitId":"-"},"content":"  const include \u003d ["},{"lineNumber":166,"author":{"gitId":"-"},"content":"    \u0027# Include\u0027,"},{"lineNumber":167,"author":{"gitId":"-"},"content":"    \u0027\u003cseg id\u003d\"exists\"\u003e\\t\\texisting segment\\t\\t\u003c/seg\u003e\u0027,"},{"lineNumber":168,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":169,"author":{"gitId":"-"},"content":""},{"lineNumber":170,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":171,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":172,"author":{"gitId":"-"},"content":"    \u0027include.md\u0027: include,"},{"lineNumber":173,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":174,"author":{"gitId":"-"},"content":""},{"lineNumber":175,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":176,"author":{"gitId":"-"},"content":""},{"lineNumber":177,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":178,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":179,"author":{"gitId":"-"},"content":""},{"lineNumber":180,"author":{"gitId":"-"},"content":"  const expected \u003d ["},{"lineNumber":181,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":182,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cdiv\u003eexisting segment\u003c/div\u003e\u0027,"},{"lineNumber":183,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":184,"author":{"gitId":"-"},"content":""},{"lineNumber":185,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":186,"author":{"gitId":"-"},"content":"});"},{"lineNumber":187,"author":{"gitId":"-"},"content":""},{"lineNumber":188,"author":{"gitId":"-"},"content":"test(\u0027includeFile replaces \u003cinclude src\u003d\"include.md#doesNotExist\"\u003e with error \u003cdiv\u003e\u0027, async () \u003d\u003e {"},{"lineNumber":189,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":190,"author":{"gitId":"-"},"content":"  const includePath \u003d path.resolve(\u0027include.md\u0027);"},{"lineNumber":191,"author":{"gitId":"-"},"content":""},{"lineNumber":192,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":193,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":194,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"include.md#doesNotExist\"/\u003e\u0027,"},{"lineNumber":195,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":196,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":197,"author":{"gitId":"-"},"content":""},{"lineNumber":198,"author":{"gitId":"-"},"content":"  const include \u003d [\u0027# Include\u0027].join(\u0027\\n\u0027);"},{"lineNumber":199,"author":{"gitId":"-"},"content":""},{"lineNumber":200,"author":{"gitId":"ryoarmanda"},"content":"  const expectedErrorMessage \u003d `No such segment \u0027#doesNotExist\u0027 in file: ${includePath}`"},{"lineNumber":201,"author":{"gitId":"-"},"content":"    + `\\nMissing reference in ${indexPath}`;"},{"lineNumber":202,"author":{"gitId":"-"},"content":""},{"lineNumber":203,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":204,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":205,"author":{"gitId":"-"},"content":"    \u0027include.md\u0027: include,"},{"lineNumber":206,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":207,"author":{"gitId":"-"},"content":""},{"lineNumber":208,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":209,"author":{"gitId":"-"},"content":""},{"lineNumber":210,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":211,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":212,"author":{"gitId":"-"},"content":""},{"lineNumber":213,"author":{"gitId":"-"},"content":"  const expected \u003d ["},{"lineNumber":214,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":215,"author":{"gitId":"ryoarmanda"},"content":"    `\u003cdiv style\u003d\"color: red\"\u003e\u003cdiv style\u003d\"color: red\"\u003e${expectedErrorMessage}\u003c/div\u003e\u003c/div\u003e`,"},{"lineNumber":216,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":217,"author":{"gitId":"-"},"content":""},{"lineNumber":218,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":219,"author":{"gitId":"-"},"content":"});"},{"lineNumber":220,"author":{"gitId":"-"},"content":""},{"lineNumber":221,"author":{"gitId":"-"},"content":"test(\u0027includeFile replaces \u003cinclude src\u003d\"include.md#exists\" optional\u003e with \u003cdiv\u003e\u0027, async () \u003d\u003e {"},{"lineNumber":222,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":223,"author":{"gitId":"-"},"content":""},{"lineNumber":224,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":225,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":226,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"include.md#exists\" optional/\u003e\u0027,"},{"lineNumber":227,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":228,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":229,"author":{"gitId":"-"},"content":""},{"lineNumber":230,"author":{"gitId":"-"},"content":"  const include \u003d ["},{"lineNumber":231,"author":{"gitId":"-"},"content":"    \u0027# Include\u0027,"},{"lineNumber":232,"author":{"gitId":"-"},"content":"    \u0027\u003cseg id\u003d\"exists\"\u003eexisting segment\u003c/seg\u003e\u0027,"},{"lineNumber":233,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":234,"author":{"gitId":"-"},"content":""},{"lineNumber":235,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":236,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":237,"author":{"gitId":"-"},"content":"    \u0027include.md\u0027: include,"},{"lineNumber":238,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":239,"author":{"gitId":"-"},"content":""},{"lineNumber":240,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":241,"author":{"gitId":"-"},"content":""},{"lineNumber":242,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":243,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":244,"author":{"gitId":"-"},"content":""},{"lineNumber":245,"author":{"gitId":"-"},"content":"  const expected \u003d ["},{"lineNumber":246,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":247,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cdiv\u003eexisting segment\u003c/div\u003e\u0027,"},{"lineNumber":248,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":249,"author":{"gitId":"-"},"content":""},{"lineNumber":250,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":251,"author":{"gitId":"-"},"content":"});"},{"lineNumber":252,"author":{"gitId":"-"},"content":""},{"lineNumber":253,"author":{"gitId":"-"},"content":"test(\u0027includeFile replaces \u003cinclude src\u003d\"include.md#doesNotExist\" optional\u003e with empty \u003cdiv\u003e\u0027, async () \u003d\u003e {"},{"lineNumber":254,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":255,"author":{"gitId":"-"},"content":""},{"lineNumber":256,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":257,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":258,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"include.md#doesNotExist\" optional/\u003e\u0027,"},{"lineNumber":259,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":260,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":261,"author":{"gitId":"-"},"content":""},{"lineNumber":262,"author":{"gitId":"-"},"content":"  const include \u003d [\u0027# Include\u0027].join(\u0027\\n\u0027);"},{"lineNumber":263,"author":{"gitId":"-"},"content":""},{"lineNumber":264,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":265,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":266,"author":{"gitId":"-"},"content":"    \u0027include.md\u0027: include,"},{"lineNumber":267,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":268,"author":{"gitId":"-"},"content":""},{"lineNumber":269,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":270,"author":{"gitId":"-"},"content":""},{"lineNumber":271,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":272,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":273,"author":{"gitId":"-"},"content":""},{"lineNumber":274,"author":{"gitId":"-"},"content":"  const expected \u003d ["},{"lineNumber":275,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":276,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cdiv\u003e\u003c/div\u003e\u0027,"},{"lineNumber":277,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":278,"author":{"gitId":"-"},"content":""},{"lineNumber":279,"author":{"gitId":"-"},"content":"  expect(result).toEqual(expected);"},{"lineNumber":280,"author":{"gitId":"-"},"content":"});"},{"lineNumber":281,"author":{"gitId":"-"},"content":""},{"lineNumber":282,"author":{"gitId":"-"},"content":"test(\u0027includeFile detects cyclic references for static cyclic includes\u0027, async () \u003d\u003e {"},{"lineNumber":283,"author":{"gitId":"-"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":284,"author":{"gitId":"-"},"content":"  const includePath \u003d path.resolve(\u0027include.md\u0027);"},{"lineNumber":285,"author":{"gitId":"-"},"content":""},{"lineNumber":286,"author":{"gitId":"-"},"content":"  const index \u003d ["},{"lineNumber":287,"author":{"gitId":"-"},"content":"    \u0027# Index\u0027,"},{"lineNumber":288,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"include.md\" /\u003e\u0027,"},{"lineNumber":289,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":290,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":291,"author":{"gitId":"-"},"content":""},{"lineNumber":292,"author":{"gitId":"-"},"content":"  const include \u003d ["},{"lineNumber":293,"author":{"gitId":"-"},"content":"    \u0027# Include\u0027,"},{"lineNumber":294,"author":{"gitId":"-"},"content":"    \u0027\u003cinclude src\u003d\"index.md\" /\u003e\u0027,"},{"lineNumber":295,"author":{"gitId":"-"},"content":"    \u0027\u0027,"},{"lineNumber":296,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":297,"author":{"gitId":"-"},"content":""},{"lineNumber":298,"author":{"gitId":"-"},"content":"  const json \u003d {"},{"lineNumber":299,"author":{"gitId":"-"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":300,"author":{"gitId":"-"},"content":"    \u0027include.md\u0027: include,"},{"lineNumber":301,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":302,"author":{"gitId":"-"},"content":""},{"lineNumber":303,"author":{"gitId":"-"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":304,"author":{"gitId":"-"},"content":""},{"lineNumber":305,"author":{"gitId":"-"},"content":"  const expectedErrorMessage \u003d ["},{"lineNumber":306,"author":{"gitId":"-"},"content":"    \u0027Cyclic reference detected.\u0027,"},{"lineNumber":307,"author":{"gitId":"-"},"content":"    \u0027Last 5 files processed:\u0027,"},{"lineNumber":308,"author":{"gitId":"-"},"content":"    `\\t${indexPath}`,"},{"lineNumber":309,"author":{"gitId":"-"},"content":"    `\\t${includePath}`,"},{"lineNumber":310,"author":{"gitId":"-"},"content":"    `\\t${indexPath}`,"},{"lineNumber":311,"author":{"gitId":"-"},"content":"    `\\t${includePath}`,"},{"lineNumber":312,"author":{"gitId":"-"},"content":"    `\\t${indexPath}`,"},{"lineNumber":313,"author":{"gitId":"-"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":314,"author":{"gitId":"-"},"content":""},{"lineNumber":315,"author":{"gitId":"-"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":316,"author":{"gitId":"-"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":317,"author":{"gitId":"-"},"content":""},{"lineNumber":318,"author":{"gitId":"-"},"content":"  const expected \u003d `\u003cdiv style\u003d\"color: red\"\u003e${expectedErrorMessage}\u003c/div\u003e`;"},{"lineNumber":319,"author":{"gitId":"-"},"content":""},{"lineNumber":320,"author":{"gitId":"-"},"content":"  expect(result).toContain(expected);"},{"lineNumber":321,"author":{"gitId":"-"},"content":"});"},{"lineNumber":322,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":323,"author":{"gitId":"ryoarmanda"},"content":"test(\u0027process include should preserve included frontmatter data\u0027, async () \u003d\u003e {"},{"lineNumber":324,"author":{"gitId":"ryoarmanda"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":325,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":326,"author":{"gitId":"ryoarmanda"},"content":"  const index \u003d ["},{"lineNumber":327,"author":{"gitId":"ryoarmanda"},"content":"    \u0027# Index\u0027,"},{"lineNumber":328,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cinclude src\u003d\"exist.md\" /\u003e\u0027,"},{"lineNumber":329,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u0027,"},{"lineNumber":330,"author":{"gitId":"ryoarmanda"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":331,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":332,"author":{"gitId":"ryoarmanda"},"content":"  const exist \u003d ["},{"lineNumber":333,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cfrontmatter\u003e\u0027,"},{"lineNumber":334,"author":{"gitId":"ryoarmanda"},"content":"    \u0027  title: This should be present\u0027,"},{"lineNumber":335,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003c/frontmatter\u003e\u0027,"},{"lineNumber":336,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u0027,"},{"lineNumber":337,"author":{"gitId":"ryoarmanda"},"content":"    \u0027# Exist\u0027,"},{"lineNumber":338,"author":{"gitId":"ryoarmanda"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":339,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":340,"author":{"gitId":"ryoarmanda"},"content":"  const json \u003d {"},{"lineNumber":341,"author":{"gitId":"ryoarmanda"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":342,"author":{"gitId":"ryoarmanda"},"content":"    \u0027exist.md\u0027: exist,"},{"lineNumber":343,"author":{"gitId":"ryoarmanda"},"content":"  };"},{"lineNumber":344,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":345,"author":{"gitId":"ryoarmanda"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":346,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":347,"author":{"gitId":"ryoarmanda"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":348,"author":{"gitId":"ryoarmanda"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":349,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":350,"author":{"gitId":"ryoarmanda"},"content":"  const expectedHtml \u003d ["},{"lineNumber":351,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":352,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cdiv\u003e\u0027,"},{"lineNumber":353,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"exist\"\u003e\u003cspan id\u003d\"exist\" class\u003d\"anchor\"\u003e\u003c/span\u003eExist\u003c/h1\u003e\u003c/div\u003e\u0027,"},{"lineNumber":354,"author":{"gitId":"ryoarmanda"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":355,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":356,"author":{"gitId":"ryoarmanda"},"content":"  const expectedFrontmatter \u003d {"},{"lineNumber":357,"author":{"gitId":"ryoarmanda"},"content":"    title: \u0027This should be present\u0027,"},{"lineNumber":358,"author":{"gitId":"ryoarmanda"},"content":"  };"},{"lineNumber":359,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":360,"author":{"gitId":"ryoarmanda"},"content":"  expect(result).toEqual(expectedHtml);"},{"lineNumber":361,"author":{"gitId":"ryoarmanda"},"content":"  expect(nodeProcessor.frontMatter).toEqual(expectedFrontmatter);"},{"lineNumber":362,"author":{"gitId":"ryoarmanda"},"content":"});"},{"lineNumber":363,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":364,"author":{"gitId":"ryoarmanda"},"content":"test(\u0027process include with omitFrontmatter should discard included frontmatter data\u0027, async () \u003d\u003e {"},{"lineNumber":365,"author":{"gitId":"ryoarmanda"},"content":"  const indexPath \u003d path.resolve(\u0027index.md\u0027);"},{"lineNumber":366,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":367,"author":{"gitId":"ryoarmanda"},"content":"  const index \u003d ["},{"lineNumber":368,"author":{"gitId":"ryoarmanda"},"content":"    \u0027# Index\u0027,"},{"lineNumber":369,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cinclude src\u003d\"exist.md\" omitFrontmatter/\u003e\u0027,"},{"lineNumber":370,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u0027,"},{"lineNumber":371,"author":{"gitId":"ryoarmanda"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":372,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":373,"author":{"gitId":"ryoarmanda"},"content":"  const exist \u003d ["},{"lineNumber":374,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cfrontmatter\u003e\u0027,"},{"lineNumber":375,"author":{"gitId":"ryoarmanda"},"content":"    \u0027  title: This should not be present\u0027,"},{"lineNumber":376,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003c/frontmatter\u003e\u0027,"},{"lineNumber":377,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u0027,"},{"lineNumber":378,"author":{"gitId":"ryoarmanda"},"content":"    \u0027# Exist\u0027,"},{"lineNumber":379,"author":{"gitId":"ryoarmanda"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":380,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":381,"author":{"gitId":"ryoarmanda"},"content":"  const json \u003d {"},{"lineNumber":382,"author":{"gitId":"ryoarmanda"},"content":"    \u0027index.md\u0027: index,"},{"lineNumber":383,"author":{"gitId":"ryoarmanda"},"content":"    \u0027exist.md\u0027: exist,"},{"lineNumber":384,"author":{"gitId":"ryoarmanda"},"content":"  };"},{"lineNumber":385,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":386,"author":{"gitId":"ryoarmanda"},"content":"  fs.vol.fromJSON(json, \u0027\u0027);"},{"lineNumber":387,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":388,"author":{"gitId":"ryoarmanda"},"content":"  const nodeProcessor \u003d getNewDefaultNodeProcessor();"},{"lineNumber":389,"author":{"gitId":"ryoarmanda"},"content":"  const result \u003d await nodeProcessor.process(indexPath, index);"},{"lineNumber":390,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":391,"author":{"gitId":"ryoarmanda"},"content":"  const expectedHtml \u003d ["},{"lineNumber":392,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"index\"\u003e\u003cspan id\u003d\"index\" class\u003d\"anchor\"\u003e\u003c/span\u003eIndex\u003c/h1\u003e\u0027,"},{"lineNumber":393,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003cdiv\u003e\u0027,"},{"lineNumber":394,"author":{"gitId":"ryoarmanda"},"content":"    \u0027\u003ch1 id\u003d\"exist\"\u003e\u003cspan id\u003d\"exist\" class\u003d\"anchor\"\u003e\u003c/span\u003eExist\u003c/h1\u003e\u003c/div\u003e\u0027,"},{"lineNumber":395,"author":{"gitId":"ryoarmanda"},"content":"  ].join(\u0027\\n\u0027);"},{"lineNumber":396,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":397,"author":{"gitId":"ryoarmanda"},"content":"  const expectedFrontMatter \u003d {};"},{"lineNumber":398,"author":{"gitId":"ryoarmanda"},"content":""},{"lineNumber":399,"author":{"gitId":"ryoarmanda"},"content":"  expect(result).toEqual(expectedHtml);"},{"lineNumber":400,"author":{"gitId":"ryoarmanda"},"content":"  expect(nodeProcessor.frontMatter).toEqual(expectedFrontMatter);"},{"lineNumber":401,"author":{"gitId":"ryoarmanda"},"content":"});"}],"authorContributionMap":{"-":302,"ryoarmanda":99}},{"path":"packages/core/test/unit/lib/nunjucks-extensions/set-external.test.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"raysonkoh"},"content":"const nunjucks \u003d require(\u0027nunjucks\u0027);"},{"lineNumber":2,"author":{"gitId":"raysonkoh"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":3,"author":{"gitId":"raysonkoh"},"content":"const { SetExternalExtension } \u003d require(\u0027../../../../src/lib/nunjucks-extensions/set-external\u0027);"},{"lineNumber":4,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":5,"author":{"gitId":"raysonkoh"},"content":"test(\u0027does not render the header row when noHeader is not set\u0027, () \u003d\u003e {"},{"lineNumber":6,"author":{"gitId":"raysonkoh"},"content":"  const nj \u003d nunjucks.configure();"},{"lineNumber":7,"author":{"gitId":"raysonkoh"},"content":"  const setExternalExtension \u003d new SetExternalExtension(path.resolve(__dirname, \u0027../../../../\u0027), nj);"},{"lineNumber":8,"author":{"gitId":"raysonkoh"},"content":"  nj.addExtension(\u0027SetExternalExtension\u0027, setExternalExtension);"},{"lineNumber":9,"author":{"gitId":"raysonkoh"},"content":"  const withHeaderCsvPath \u003d \u0027test/unit/lib/nunjucks-extensions/data-with-header.csv\u0027;"},{"lineNumber":10,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":11,"author":{"gitId":"raysonkoh"},"content":"  // eslint-disable-next-line max-len"},{"lineNumber":12,"author":{"gitId":"raysonkoh"},"content":"  const template \u003d `{% ext x \u003d \"${withHeaderCsvPath}\"%}{% for item in x %}\u003cdiv\u003e{{ item.name }}{{ item.score }}\u003c/div\u003e{% endfor %}`;"},{"lineNumber":13,"author":{"gitId":"raysonkoh"},"content":"  const actual \u003d nj.renderString(template);"},{"lineNumber":14,"author":{"gitId":"raysonkoh"},"content":"  const expected \u003d \u0027\u003cdiv\u003eAlice1\u003c/div\u003e\u003cdiv\u003eBob2\u003c/div\u003e\u0027;"},{"lineNumber":15,"author":{"gitId":"raysonkoh"},"content":"  expect(actual).toEqual(expected);"},{"lineNumber":16,"author":{"gitId":"raysonkoh"},"content":"});"},{"lineNumber":17,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":18,"author":{"gitId":"raysonkoh"},"content":"test(\u0027renders the header row when noHeader is set\u0027, () \u003d\u003e {"},{"lineNumber":19,"author":{"gitId":"raysonkoh"},"content":"  const nj \u003d nunjucks.configure();"},{"lineNumber":20,"author":{"gitId":"raysonkoh"},"content":"  const setExternalExtension \u003d new SetExternalExtension(path.resolve(__dirname, \u0027../../../../\u0027), nj);"},{"lineNumber":21,"author":{"gitId":"raysonkoh"},"content":"  nj.addExtension(\u0027SetExternalExtension\u0027, setExternalExtension);"},{"lineNumber":22,"author":{"gitId":"raysonkoh"},"content":"  const noHeaderCsvPath \u003d \u0027test/unit/lib/nunjucks-extensions/data-with-no-header.csv\u0027;"},{"lineNumber":23,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":24,"author":{"gitId":"raysonkoh"},"content":"  // eslint-disable-next-line max-len"},{"lineNumber":25,"author":{"gitId":"raysonkoh"},"content":"  const template \u003d `{% ext x \u003d \"${noHeaderCsvPath}\", noHeader %}{% for item in x %}\u003cdiv\u003e{{ item[0] }}{{ item[1] }}\u003c/div\u003e{% endfor %}`;"},{"lineNumber":26,"author":{"gitId":"raysonkoh"},"content":"  const actual \u003d nj.renderString(template);"},{"lineNumber":27,"author":{"gitId":"raysonkoh"},"content":"  const expected \u003d \u0027\u003cdiv\u003e1Alice\u003c/div\u003e\u003cdiv\u003e2Bob\u003c/div\u003e\u003cdiv\u003e3Charlie\u003c/div\u003e\u0027;"},{"lineNumber":28,"author":{"gitId":"raysonkoh"},"content":"  expect(actual).toEqual(expected);"},{"lineNumber":29,"author":{"gitId":"raysonkoh"},"content":"});"},{"lineNumber":30,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":31,"author":{"gitId":"raysonkoh"},"content":"test(\u0027can index by [rowNum][colNum] when noHeader is set\u0027, () \u003d\u003e {"},{"lineNumber":32,"author":{"gitId":"raysonkoh"},"content":"  const nj \u003d nunjucks.configure();"},{"lineNumber":33,"author":{"gitId":"raysonkoh"},"content":"  const setExternalExtension \u003d new SetExternalExtension(path.resolve(__dirname, \u0027../../../../\u0027), nj);"},{"lineNumber":34,"author":{"gitId":"raysonkoh"},"content":"  nj.addExtension(\u0027SetExternalExtension\u0027, setExternalExtension);"},{"lineNumber":35,"author":{"gitId":"raysonkoh"},"content":"  const noHeaderCsvPath \u003d \u0027test/unit/lib/nunjucks-extensions/data-with-no-header-indexing.csv\u0027;"},{"lineNumber":36,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":37,"author":{"gitId":"raysonkoh"},"content":"  // eslint-disable-next-line max-len"},{"lineNumber":38,"author":{"gitId":"raysonkoh"},"content":"  const template \u003d `{% ext x \u003d \"${noHeaderCsvPath}\", noHeader %}\u003cdiv\u003e{{ x[0][0] }}{{ x[0][1] }}{{ x[0][2] }}{{ x[1][0] }}{{ x[1][1] }}{{ x[2][0] }}\u003c/div\u003e`;"},{"lineNumber":39,"author":{"gitId":"raysonkoh"},"content":"  const actual \u003d nj.renderString(template);"},{"lineNumber":40,"author":{"gitId":"raysonkoh"},"content":"  const expected \u003d \u0027\u003cdiv\u003e123456\u003c/div\u003e\u0027;"},{"lineNumber":41,"author":{"gitId":"raysonkoh"},"content":"  expect(actual).toEqual(expected);"},{"lineNumber":42,"author":{"gitId":"raysonkoh"},"content":"});"}],"authorContributionMap":{"raysonkoh":42}},{"path":"packages/core/test/unit/utils/utils.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const path \u003d require(\u0027path\u0027);"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"const { PageSources } \u003d require(\u0027../../../src/Page/PageSources\u0027);"},{"lineNumber":4,"author":{"gitId":"-"},"content":"const { NodeProcessor } \u003d require(\u0027../../../src/html/NodeProcessor\u0027);"},{"lineNumber":5,"author":{"gitId":"-"},"content":"const { PluginManager } \u003d require(\u0027../../../src/plugins/PluginManager\u0027);"},{"lineNumber":6,"author":{"gitId":"-"},"content":"const VariableProcessor \u003d require(\u0027../../../src/variables/VariableProcessor\u0027);"},{"lineNumber":7,"author":{"gitId":"-"},"content":""},{"lineNumber":8,"author":{"gitId":"-"},"content":"jest.mock(\u0027fs\u0027);"},{"lineNumber":9,"author":{"gitId":"-"},"content":"jest.mock(\u0027../../../src/plugins/PluginManager\u0027);"},{"lineNumber":10,"author":{"gitId":"-"},"content":""},{"lineNumber":11,"author":{"gitId":"-"},"content":"const ROOT_PATH \u003d path.resolve(\u0027\u0027);"},{"lineNumber":12,"author":{"gitId":"-"},"content":"const OUTPUT_PATH \u003d path.resolve(\u0027_site\u0027);"},{"lineNumber":13,"author":{"gitId":"-"},"content":"function getNewDefaultVariableProcessor() {"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  const DEFAULT_VARIABLE_PROCESSOR \u003d new VariableProcessor(ROOT_PATH, new Set([ROOT_PATH]));"},{"lineNumber":15,"author":{"gitId":"-"},"content":"  DEFAULT_VARIABLE_PROCESSOR.addUserDefinedVariable(ROOT_PATH, \u0027baseUrl\u0027, \u0027{{baseUrl}}\u0027);"},{"lineNumber":16,"author":{"gitId":"-"},"content":""},{"lineNumber":17,"author":{"gitId":"-"},"content":"  return DEFAULT_VARIABLE_PROCESSOR;"},{"lineNumber":18,"author":{"gitId":"-"},"content":"}"},{"lineNumber":19,"author":{"gitId":"-"},"content":""},{"lineNumber":20,"author":{"gitId":"-"},"content":"function getNewPluginManager(plugins, pluginsContext) {"},{"lineNumber":21,"author":{"gitId":"-"},"content":"  const fileConfig \u003d {"},{"lineNumber":22,"author":{"gitId":"-"},"content":"    baseUrlMap: new Set([ROOT_PATH]),"},{"lineNumber":23,"author":{"gitId":"-"},"content":"    baseUrl: \u0027\u0027,"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    rootPath: ROOT_PATH,"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    outputPath: OUTPUT_PATH,"},{"lineNumber":26,"author":{"gitId":"-"},"content":"    headerIdMap: {},"},{"lineNumber":27,"author":{"gitId":"-"},"content":"    ignore: [],"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    addressablePagesSource: [],"},{"lineNumber":29,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":30,"author":{"gitId":"-"},"content":""},{"lineNumber":31,"author":{"gitId":"-"},"content":"  return new PluginManager(fileConfig, plugins, pluginsContext);"},{"lineNumber":32,"author":{"gitId":"-"},"content":"}"},{"lineNumber":33,"author":{"gitId":"-"},"content":""},{"lineNumber":34,"author":{"gitId":"-"},"content":"function getNewNodeProcessor(pluginManager) {"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  const fileConfig \u003d {"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    baseUrlMap: new Set([ROOT_PATH]),"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    baseUrl: \u0027\u0027,"},{"lineNumber":38,"author":{"gitId":"-"},"content":"    rootPath: ROOT_PATH,"},{"lineNumber":39,"author":{"gitId":"-"},"content":"    headerIdMap: {},"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    ignore: [],"},{"lineNumber":41,"author":{"gitId":"-"},"content":"    addressablePagesSource: [],"},{"lineNumber":42,"author":{"gitId":"ryoarmanda"},"content":"    intrasiteLinkValidation: { enabled: false },"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  };"},{"lineNumber":44,"author":{"gitId":"-"},"content":""},{"lineNumber":45,"author":{"gitId":"-"},"content":"  return new NodeProcessor(fileConfig, new PageSources(),"},{"lineNumber":46,"author":{"gitId":"-"},"content":"                           getNewDefaultVariableProcessor(), pluginManager);"},{"lineNumber":47,"author":{"gitId":"-"},"content":"}"},{"lineNumber":48,"author":{"gitId":"-"},"content":""},{"lineNumber":49,"author":{"gitId":"-"},"content":"function getNewDefaultNodeProcessor() {"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  return getNewNodeProcessor(getNewPluginManager([], {}));"},{"lineNumber":51,"author":{"gitId":"-"},"content":"}"},{"lineNumber":52,"author":{"gitId":"-"},"content":""},{"lineNumber":53,"author":{"gitId":"-"},"content":"module.exports \u003d {"},{"lineNumber":54,"author":{"gitId":"-"},"content":"  getNewNodeProcessor,"},{"lineNumber":55,"author":{"gitId":"-"},"content":"  getNewDefaultNodeProcessor,"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  getNewPluginManager,"},{"lineNumber":57,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"-":56,"ryoarmanda":1}},{"path":"packages/vue-components/src/__tests__/Dropdown.spec.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"jonahtanjz"},"content":"import { mount } from \u0027@vue/test-utils\u0027;"},{"lineNumber":2,"author":{"gitId":"jonahtanjz"},"content":"import Dropdown from \u0027../Dropdown.vue\u0027;"},{"lineNumber":3,"author":{"gitId":"jonahtanjz"},"content":"import Submenu from \u0027../Submenu.vue\u0027;"},{"lineNumber":4,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":5,"author":{"gitId":"jonahtanjz"},"content":"const DEFAULT_STUBS \u003d {"},{"lineNumber":6,"author":{"gitId":"jonahtanjz"},"content":"  \u0027dropdown\u0027: Dropdown,"},{"lineNumber":7,"author":{"gitId":"jonahtanjz"},"content":"  \u0027submenu\u0027: Submenu,"},{"lineNumber":8,"author":{"gitId":"jonahtanjz"},"content":"};"},{"lineNumber":9,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":10,"author":{"gitId":"jonahtanjz"},"content":"const DROPDOWN \u003d `"},{"lineNumber":11,"author":{"gitId":"jonahtanjz"},"content":"\u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"dropdown-item\"\u003eDropdown Item 1\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":12,"author":{"gitId":"jonahtanjz"},"content":"\u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"dropdown-item\"\u003eDropdown Item 2\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":13,"author":{"gitId":"jonahtanjz"},"content":"\u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"dropdown-item\"\u003eDropdown Item 3\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":14,"author":{"gitId":"jonahtanjz"},"content":"`;"},{"lineNumber":15,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":16,"author":{"gitId":"jonahtanjz"},"content":"const FIRST_LEVEL_NESTED_DROPDOWN \u003d `"},{"lineNumber":17,"author":{"gitId":"jonahtanjz"},"content":"${DROPDOWN}"},{"lineNumber":18,"author":{"gitId":"jonahtanjz"},"content":"\u003cdropdown haeder\u003d\"Submenu Level 1\"\u003e"},{"lineNumber":19,"author":{"gitId":"jonahtanjz"},"content":"  \u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"dropdown-item\"\u003eNested Dropdown Item 1\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":20,"author":{"gitId":"jonahtanjz"},"content":"  \u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"dropdown-item\"\u003eNested Dropdown Item 2\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":21,"author":{"gitId":"jonahtanjz"},"content":"\u003c/dropdown\u003e"},{"lineNumber":22,"author":{"gitId":"jonahtanjz"},"content":"`;"},{"lineNumber":23,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":24,"author":{"gitId":"jonahtanjz"},"content":"const SECOND_LEVEL_NESTED_DROPDOWN \u003d `"},{"lineNumber":25,"author":{"gitId":"jonahtanjz"},"content":"\u003cdropdown haeder\u003d\"Submenu Level 1\"\u003e"},{"lineNumber":26,"author":{"gitId":"jonahtanjz"},"content":"  \u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"dropdown-item\"\u003eNested Dropdown Item 1\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":27,"author":{"gitId":"jonahtanjz"},"content":"  \u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"dropdown-item\"\u003eNested Dropdown Item 2\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":28,"author":{"gitId":"jonahtanjz"},"content":"  \u003cdropdown haeder\u003d\"Submenu Level 2\"\u003e"},{"lineNumber":29,"author":{"gitId":"jonahtanjz"},"content":"    \u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"dropdown-item\"\u003eNested Submenu Item\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":30,"author":{"gitId":"jonahtanjz"},"content":"  \u003c/dropdown\u003e"},{"lineNumber":31,"author":{"gitId":"jonahtanjz"},"content":"\u003c/dropdown\u003e"},{"lineNumber":32,"author":{"gitId":"jonahtanjz"},"content":"`;"},{"lineNumber":33,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":34,"author":{"gitId":"jonahtanjz"},"content":"describe(\u0027Dropdown with submenu\u0027, () \u003d\u003e {"},{"lineNumber":35,"author":{"gitId":"jonahtanjz"},"content":"  test(\u0027dropdown\u0027, async () \u003d\u003e {"},{"lineNumber":36,"author":{"gitId":"jonahtanjz"},"content":"    const wrapper \u003d mount(Dropdown, {"},{"lineNumber":37,"author":{"gitId":"jonahtanjz"},"content":"      slots: {"},{"lineNumber":38,"author":{"gitId":"jonahtanjz"},"content":"        header: \u0027Test Dropdown\u0027,"},{"lineNumber":39,"author":{"gitId":"jonahtanjz"},"content":"        default: DROPDOWN,"},{"lineNumber":40,"author":{"gitId":"jonahtanjz"},"content":"      },"},{"lineNumber":41,"author":{"gitId":"jonahtanjz"},"content":"      stubs: DEFAULT_STUBS,"},{"lineNumber":42,"author":{"gitId":"jonahtanjz"},"content":"    });"},{"lineNumber":43,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":44,"author":{"gitId":"jonahtanjz"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":45,"author":{"gitId":"jonahtanjz"},"content":"  });"},{"lineNumber":46,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":47,"author":{"gitId":"jonahtanjz"},"content":"  test(\u0027dropdown with one level of submenu\u0027, async () \u003d\u003e {"},{"lineNumber":48,"author":{"gitId":"jonahtanjz"},"content":"    const wrapper \u003d mount(Dropdown, {"},{"lineNumber":49,"author":{"gitId":"jonahtanjz"},"content":"      slots: {"},{"lineNumber":50,"author":{"gitId":"jonahtanjz"},"content":"        header: \u0027Test Dropdown\u0027,"},{"lineNumber":51,"author":{"gitId":"jonahtanjz"},"content":"        default: FIRST_LEVEL_NESTED_DROPDOWN,"},{"lineNumber":52,"author":{"gitId":"jonahtanjz"},"content":"      },"},{"lineNumber":53,"author":{"gitId":"jonahtanjz"},"content":"      stubs: DEFAULT_STUBS,"},{"lineNumber":54,"author":{"gitId":"jonahtanjz"},"content":"    });"},{"lineNumber":55,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":56,"author":{"gitId":"jonahtanjz"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":57,"author":{"gitId":"jonahtanjz"},"content":"  });"},{"lineNumber":58,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":59,"author":{"gitId":"jonahtanjz"},"content":"  test(\u0027dropdown with two levels of submenu\u0027, async () \u003d\u003e {"},{"lineNumber":60,"author":{"gitId":"jonahtanjz"},"content":"    const wrapper \u003d mount(Dropdown, {"},{"lineNumber":61,"author":{"gitId":"jonahtanjz"},"content":"      slots: {"},{"lineNumber":62,"author":{"gitId":"jonahtanjz"},"content":"        header: \u0027Test Dropdown\u0027,"},{"lineNumber":63,"author":{"gitId":"jonahtanjz"},"content":"        default: SECOND_LEVEL_NESTED_DROPDOWN,"},{"lineNumber":64,"author":{"gitId":"jonahtanjz"},"content":"      },"},{"lineNumber":65,"author":{"gitId":"jonahtanjz"},"content":"      stubs: DEFAULT_STUBS,"},{"lineNumber":66,"author":{"gitId":"jonahtanjz"},"content":"    });"},{"lineNumber":67,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":68,"author":{"gitId":"jonahtanjz"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":69,"author":{"gitId":"jonahtanjz"},"content":"  });"},{"lineNumber":70,"author":{"gitId":"jonahtanjz"},"content":"});"}],"authorContributionMap":{"jonahtanjz":70}},{"path":"packages/vue-components/src/__tests__/Navbar.spec.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"jonahtanjz"},"content":"import { mount } from \u0027@vue/test-utils\u0027;"},{"lineNumber":2,"author":{"gitId":"jonahtanjz"},"content":"import Navbar from \u0027../Navbar.vue\u0027;"},{"lineNumber":3,"author":{"gitId":"jonahtanjz"},"content":"import PageNavButton from \u0027../PageNavButton.vue\u0027;"},{"lineNumber":4,"author":{"gitId":"jonahtanjz"},"content":"import SiteNavButton from \u0027../SiteNavButton.vue\u0027;"},{"lineNumber":5,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":6,"author":{"gitId":"jonahtanjz"},"content":"const DEFAULT_STUBS \u003d {"},{"lineNumber":7,"author":{"gitId":"jonahtanjz"},"content":"  \u0027page-nav-button\u0027: PageNavButton,"},{"lineNumber":8,"author":{"gitId":"jonahtanjz"},"content":"  \u0027site-nav-button\u0027: SiteNavButton,"},{"lineNumber":9,"author":{"gitId":"jonahtanjz"},"content":"};"},{"lineNumber":10,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":11,"author":{"gitId":"jonahtanjz"},"content":"const NAVBAR_CONTENT \u003d `"},{"lineNumber":12,"author":{"gitId":"jonahtanjz"},"content":"\u003ca slot\u003d\"brand\" href\u003d\"#\" title\u003d\"Home\" class\u003d\"navbar-brand\"\u003eYour Logo\u003c/a\u003e"},{"lineNumber":13,"author":{"gitId":"jonahtanjz"},"content":"  \u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"nav-link\"\u003eTopic 1\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":14,"author":{"gitId":"jonahtanjz"},"content":"  \u003cli\u003e\u003ca href\u003d\"#\" class\u003d\"nav-link\"\u003eTopic 2\u003c/a\u003e\u003c/li\u003e"},{"lineNumber":15,"author":{"gitId":"jonahtanjz"},"content":"\u003c/a\u003e"},{"lineNumber":16,"author":{"gitId":"jonahtanjz"},"content":"`;"},{"lineNumber":17,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":18,"author":{"gitId":"jonahtanjz"},"content":"const OMIT_PAGE_AND_SITE_NAV_BUTTONS \u003d \u0027\u003cdiv\u003e\u003c/div\u003e\u0027;"},{"lineNumber":19,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":20,"author":{"gitId":"jonahtanjz"},"content":"const SITE_NAV_BUTTON \u003d `"},{"lineNumber":21,"author":{"gitId":"jonahtanjz"},"content":"\u003cdiv class\u003d\"nav-menu-container\"\u003e"},{"lineNumber":22,"author":{"gitId":"jonahtanjz"},"content":"  \u003csite-nav-button /\u003e"},{"lineNumber":23,"author":{"gitId":"jonahtanjz"},"content":"\u003c/div\u003e"},{"lineNumber":24,"author":{"gitId":"jonahtanjz"},"content":"`;"},{"lineNumber":25,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":26,"author":{"gitId":"jonahtanjz"},"content":"const PAGE_NAV_BUTTON \u003d `"},{"lineNumber":27,"author":{"gitId":"jonahtanjz"},"content":"\u003cdiv class\u003d\"nav-menu-container\"\u003e"},{"lineNumber":28,"author":{"gitId":"jonahtanjz"},"content":"  \u003cpage-nav-button /\u003e"},{"lineNumber":29,"author":{"gitId":"jonahtanjz"},"content":"\u003c/div\u003e"},{"lineNumber":30,"author":{"gitId":"jonahtanjz"},"content":"`;"},{"lineNumber":31,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":32,"author":{"gitId":"jonahtanjz"},"content":"const SITE_AND_PAGE_NAV_BUTTONS \u003d `"},{"lineNumber":33,"author":{"gitId":"jonahtanjz"},"content":"\u003cdiv class\u003d\"nav-menu-container\"\u003e"},{"lineNumber":34,"author":{"gitId":"jonahtanjz"},"content":"  \u003csite-nav-button /\u003e"},{"lineNumber":35,"author":{"gitId":"jonahtanjz"},"content":"  \u003cpage-nav-button /\u003e"},{"lineNumber":36,"author":{"gitId":"jonahtanjz"},"content":"\u003c/div\u003e"},{"lineNumber":37,"author":{"gitId":"jonahtanjz"},"content":"`;"},{"lineNumber":38,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":39,"author":{"gitId":"jonahtanjz"},"content":"describe(\u0027Navbar and secondary navbar\u0027, () \u003d\u003e {"},{"lineNumber":40,"author":{"gitId":"jonahtanjz"},"content":"  test(\u0027navbar without site and page nav buttons\u0027, async () \u003d\u003e {"},{"lineNumber":41,"author":{"gitId":"jonahtanjz"},"content":"    const wrapper \u003d mount(Navbar, {"},{"lineNumber":42,"author":{"gitId":"jonahtanjz"},"content":"      slots: {"},{"lineNumber":43,"author":{"gitId":"jonahtanjz"},"content":"        default: NAVBAR_CONTENT,"},{"lineNumber":44,"author":{"gitId":"jonahtanjz"},"content":"        \u0027lower-navbar\u0027: OMIT_PAGE_AND_SITE_NAV_BUTTONS,"},{"lineNumber":45,"author":{"gitId":"jonahtanjz"},"content":"      },"},{"lineNumber":46,"author":{"gitId":"jonahtanjz"},"content":"      stubs: DEFAULT_STUBS,"},{"lineNumber":47,"author":{"gitId":"jonahtanjz"},"content":"    });"},{"lineNumber":48,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":49,"author":{"gitId":"jonahtanjz"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":50,"author":{"gitId":"jonahtanjz"},"content":"  });"},{"lineNumber":51,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":52,"author":{"gitId":"jonahtanjz"},"content":"  test(\u0027navbar with site nav button\u0027, async () \u003d\u003e {"},{"lineNumber":53,"author":{"gitId":"jonahtanjz"},"content":"    const wrapper \u003d mount(Navbar, {"},{"lineNumber":54,"author":{"gitId":"jonahtanjz"},"content":"      slots: {"},{"lineNumber":55,"author":{"gitId":"jonahtanjz"},"content":"        default: NAVBAR_CONTENT,"},{"lineNumber":56,"author":{"gitId":"jonahtanjz"},"content":"        \u0027lower-navbar\u0027: SITE_NAV_BUTTON,"},{"lineNumber":57,"author":{"gitId":"jonahtanjz"},"content":"      },"},{"lineNumber":58,"author":{"gitId":"jonahtanjz"},"content":"      stubs: DEFAULT_STUBS,"},{"lineNumber":59,"author":{"gitId":"jonahtanjz"},"content":"    });"},{"lineNumber":60,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":61,"author":{"gitId":"jonahtanjz"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":62,"author":{"gitId":"jonahtanjz"},"content":"  });"},{"lineNumber":63,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":64,"author":{"gitId":"jonahtanjz"},"content":"  test(\u0027navbar with page nav button\u0027, async () \u003d\u003e {"},{"lineNumber":65,"author":{"gitId":"jonahtanjz"},"content":"    const wrapper \u003d mount(Navbar, {"},{"lineNumber":66,"author":{"gitId":"jonahtanjz"},"content":"      slots: {"},{"lineNumber":67,"author":{"gitId":"jonahtanjz"},"content":"        default: NAVBAR_CONTENT,"},{"lineNumber":68,"author":{"gitId":"jonahtanjz"},"content":"        \u0027lower-navbar\u0027: PAGE_NAV_BUTTON,"},{"lineNumber":69,"author":{"gitId":"jonahtanjz"},"content":"      },"},{"lineNumber":70,"author":{"gitId":"jonahtanjz"},"content":"      stubs: DEFAULT_STUBS,"},{"lineNumber":71,"author":{"gitId":"jonahtanjz"},"content":"    });"},{"lineNumber":72,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":73,"author":{"gitId":"jonahtanjz"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":74,"author":{"gitId":"jonahtanjz"},"content":"  });"},{"lineNumber":75,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":76,"author":{"gitId":"jonahtanjz"},"content":"  test(\u0027navbar with site and page nav buttons\u0027, async () \u003d\u003e {"},{"lineNumber":77,"author":{"gitId":"jonahtanjz"},"content":"    const wrapper \u003d mount(Navbar, {"},{"lineNumber":78,"author":{"gitId":"jonahtanjz"},"content":"      slots: {"},{"lineNumber":79,"author":{"gitId":"jonahtanjz"},"content":"        default: NAVBAR_CONTENT,"},{"lineNumber":80,"author":{"gitId":"jonahtanjz"},"content":"        \u0027lower-navbar\u0027: SITE_AND_PAGE_NAV_BUTTONS,"},{"lineNumber":81,"author":{"gitId":"jonahtanjz"},"content":"      },"},{"lineNumber":82,"author":{"gitId":"jonahtanjz"},"content":"      stubs: DEFAULT_STUBS,"},{"lineNumber":83,"author":{"gitId":"jonahtanjz"},"content":"    });"},{"lineNumber":84,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":85,"author":{"gitId":"jonahtanjz"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":86,"author":{"gitId":"jonahtanjz"},"content":"  });"},{"lineNumber":87,"author":{"gitId":"jonahtanjz"},"content":"});"}],"authorContributionMap":{"jonahtanjz":87}},{"path":"packages/vue-components/src/__tests__/Panels.spec.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"raysonkoh"},"content":"import { mount } from \u0027@vue/test-utils\u0027;"},{"lineNumber":2,"author":{"gitId":"raysonkoh"},"content":"import NestedPanel from \u0027../panels/NestedPanel.vue\u0027;"},{"lineNumber":3,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":4,"author":{"gitId":"raysonkoh"},"content":"describe(\u0027NestedPanels\u0027, () \u003d\u003e {"},{"lineNumber":5,"author":{"gitId":"wxwxwxwx9"},"content":"  test(\u0027should show header when collapsed with expandHeaderless as false\u0027, async () \u003d\u003e {"},{"lineNumber":6,"author":{"gitId":"raysonkoh"},"content":"    const wrapper \u003d mount(NestedPanel, {"},{"lineNumber":7,"author":{"gitId":"raysonkoh"},"content":"      propsData: {"},{"lineNumber":8,"author":{"gitId":"raysonkoh"},"content":"        expandHeaderless: false,"},{"lineNumber":9,"author":{"gitId":"raysonkoh"},"content":"      },"},{"lineNumber":10,"author":{"gitId":"raysonkoh"},"content":"      slots: {"},{"lineNumber":11,"author":{"gitId":"raysonkoh"},"content":"        header: \u0027test header\u0027,"},{"lineNumber":12,"author":{"gitId":"raysonkoh"},"content":"      },"},{"lineNumber":13,"author":{"gitId":"raysonkoh"},"content":"    });"},{"lineNumber":14,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":15,"author":{"gitId":"raysonkoh"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":16,"author":{"gitId":"raysonkoh"},"content":"  });"},{"lineNumber":17,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":18,"author":{"gitId":"raysonkoh"},"content":"  test(\u0027should show header after expand with expandHeaderless as false\u0027, async () \u003d\u003e {"},{"lineNumber":19,"author":{"gitId":"raysonkoh"},"content":"    const wrapper \u003d mount(NestedPanel, {"},{"lineNumber":20,"author":{"gitId":"raysonkoh"},"content":"      propsData: {"},{"lineNumber":21,"author":{"gitId":"raysonkoh"},"content":"        expandHeaderless: false,"},{"lineNumber":22,"author":{"gitId":"raysonkoh"},"content":"      },"},{"lineNumber":23,"author":{"gitId":"raysonkoh"},"content":"      slots: {"},{"lineNumber":24,"author":{"gitId":"raysonkoh"},"content":"        header: \u0027test header\u0027,"},{"lineNumber":25,"author":{"gitId":"raysonkoh"},"content":"      },"},{"lineNumber":26,"author":{"gitId":"raysonkoh"},"content":"    });"},{"lineNumber":27,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":28,"author":{"gitId":"raysonkoh"},"content":"    // click on header"},{"lineNumber":29,"author":{"gitId":"raysonkoh"},"content":"    await wrapper.find(\u0027div.card-header\u0027).trigger(\u0027click\u0027);"},{"lineNumber":30,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":31,"author":{"gitId":"raysonkoh"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":32,"author":{"gitId":"raysonkoh"},"content":"  });"},{"lineNumber":33,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":34,"author":{"gitId":"wxwxwxwx9"},"content":"  test(\u0027should show header when collapsed with expandHeaderless as true\u0027, async () \u003d\u003e {"},{"lineNumber":35,"author":{"gitId":"raysonkoh"},"content":"    const wrapper \u003d mount(NestedPanel, {"},{"lineNumber":36,"author":{"gitId":"raysonkoh"},"content":"      propsData: {"},{"lineNumber":37,"author":{"gitId":"raysonkoh"},"content":"        expandHeaderless: true,"},{"lineNumber":38,"author":{"gitId":"raysonkoh"},"content":"      },"},{"lineNumber":39,"author":{"gitId":"raysonkoh"},"content":"      slots: {"},{"lineNumber":40,"author":{"gitId":"raysonkoh"},"content":"        header: \u0027test header\u0027,"},{"lineNumber":41,"author":{"gitId":"raysonkoh"},"content":"      },"},{"lineNumber":42,"author":{"gitId":"raysonkoh"},"content":"    });"},{"lineNumber":43,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":44,"author":{"gitId":"raysonkoh"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":45,"author":{"gitId":"raysonkoh"},"content":"  });"},{"lineNumber":46,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":47,"author":{"gitId":"raysonkoh"},"content":"  test(\u0027should not show header after expand with expandHeaderless as true\u0027, async () \u003d\u003e {"},{"lineNumber":48,"author":{"gitId":"raysonkoh"},"content":"    const wrapper \u003d mount(NestedPanel, {"},{"lineNumber":49,"author":{"gitId":"raysonkoh"},"content":"      propsData: {"},{"lineNumber":50,"author":{"gitId":"raysonkoh"},"content":"        expandHeaderless: true,"},{"lineNumber":51,"author":{"gitId":"raysonkoh"},"content":"      },"},{"lineNumber":52,"author":{"gitId":"raysonkoh"},"content":"      slots: {"},{"lineNumber":53,"author":{"gitId":"raysonkoh"},"content":"        header: \u0027test header\u0027,"},{"lineNumber":54,"author":{"gitId":"raysonkoh"},"content":"      },"},{"lineNumber":55,"author":{"gitId":"raysonkoh"},"content":"    });"},{"lineNumber":56,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":57,"author":{"gitId":"raysonkoh"},"content":"    // click on header"},{"lineNumber":58,"author":{"gitId":"raysonkoh"},"content":"    await wrapper.find(\u0027div.card-header\u0027).trigger(\u0027click\u0027);"},{"lineNumber":59,"author":{"gitId":"raysonkoh"},"content":""},{"lineNumber":60,"author":{"gitId":"raysonkoh"},"content":"    expect(wrapper.element).toMatchSnapshot();"},{"lineNumber":61,"author":{"gitId":"raysonkoh"},"content":"  });"},{"lineNumber":62,"author":{"gitId":"raysonkoh"},"content":"});"}],"authorContributionMap":{"raysonkoh":60,"wxwxwxwx9":2}},{"path":"packages/vue-components/src/index.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"// Components and directives from bootstrap-vue"},{"lineNumber":2,"author":{"gitId":"-"},"content":"/* eslint-disable import/no-extraneous-dependencies */"},{"lineNumber":3,"author":{"gitId":"-"},"content":"import {"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  ModalPlugin,"},{"lineNumber":5,"author":{"gitId":"-"},"content":"  PopoverPlugin,"},{"lineNumber":6,"author":{"gitId":"-"},"content":"  TooltipPlugin,"},{"lineNumber":7,"author":{"gitId":"-"},"content":"} from \u0027bootstrap-vue\u0027;"},{"lineNumber":8,"author":{"gitId":"-"},"content":"/* eslint-enable import/no-extraneous-dependencies */"},{"lineNumber":9,"author":{"gitId":"-"},"content":""},{"lineNumber":10,"author":{"gitId":"-"},"content":"// Custom / modified components and components from yuche/vue-strap"},{"lineNumber":11,"author":{"gitId":"-"},"content":"import closeable from \u0027./directives/Closeable\u0027;"},{"lineNumber":12,"author":{"gitId":"-"},"content":"import dropdown from \u0027./Dropdown.vue\u0027;"},{"lineNumber":13,"author":{"gitId":"-"},"content":"import navbar from \u0027./Navbar.vue\u0027;"},{"lineNumber":14,"author":{"gitId":"-"},"content":"import panel from \u0027./Panel.vue\u0027;"},{"lineNumber":15,"author":{"gitId":"-"},"content":"import pic from \u0027./Pic.vue\u0027;"},{"lineNumber":16,"author":{"gitId":"-"},"content":"import quiz from \u0027./questions/Quiz.vue\u0027;"},{"lineNumber":17,"author":{"gitId":"-"},"content":"import question from \u0027./questions/Question.vue\u0027;"},{"lineNumber":18,"author":{"gitId":"-"},"content":"import qOption from \u0027./questions/QOption.vue\u0027;"},{"lineNumber":19,"author":{"gitId":"-"},"content":"import retriever from \u0027./Retriever.vue\u0027;"},{"lineNumber":20,"author":{"gitId":"-"},"content":"import searchbar from \u0027./Searchbar.vue\u0027;"},{"lineNumber":21,"author":{"gitId":"-"},"content":"import tab from \u0027./Tab.vue\u0027;"},{"lineNumber":22,"author":{"gitId":"-"},"content":"import tabGroup from \u0027./TabGroup.vue\u0027;"},{"lineNumber":23,"author":{"gitId":"-"},"content":"import tabset from \u0027./Tabset.vue\u0027;"},{"lineNumber":24,"author":{"gitId":"-"},"content":"import thumbnail from \u0027./Thumbnail.vue\u0027;"},{"lineNumber":25,"author":{"gitId":"-"},"content":"import tipBox from \u0027./TipBox.vue\u0027;"},{"lineNumber":26,"author":{"gitId":"-"},"content":"import trigger from \u0027./Trigger.vue\u0027;"},{"lineNumber":27,"author":{"gitId":"-"},"content":"import siteNav from \u0027./SiteNav.vue\u0027;"},{"lineNumber":28,"author":{"gitId":"jonahtanjz"},"content":"import submenu from \u0027./Submenu.vue\u0027;"},{"lineNumber":29,"author":{"gitId":"jonahtanjz"},"content":"import siteNavButton from \u0027./SiteNavButton.vue\u0027;"},{"lineNumber":30,"author":{"gitId":"jonahtanjz"},"content":"import pageNavButton from \u0027./PageNavButton.vue\u0027;"},{"lineNumber":31,"author":{"gitId":"jonahtanjz"},"content":"import overlay from \u0027./Overlay.vue\u0027;"},{"lineNumber":32,"author":{"gitId":"-"},"content":""},{"lineNumber":33,"author":{"gitId":"-"},"content":"const components \u003d {"},{"lineNumber":34,"author":{"gitId":"-"},"content":"  box: tipBox,"},{"lineNumber":35,"author":{"gitId":"-"},"content":"  dropdown,"},{"lineNumber":36,"author":{"gitId":"-"},"content":"  navbar,"},{"lineNumber":37,"author":{"gitId":"-"},"content":"  panel,"},{"lineNumber":38,"author":{"gitId":"-"},"content":"  pic,"},{"lineNumber":39,"author":{"gitId":"-"},"content":"  quiz,"},{"lineNumber":40,"author":{"gitId":"-"},"content":"  question,"},{"lineNumber":41,"author":{"gitId":"-"},"content":"  qOption,"},{"lineNumber":42,"author":{"gitId":"-"},"content":"  retriever,"},{"lineNumber":43,"author":{"gitId":"-"},"content":"  searchbar,"},{"lineNumber":44,"author":{"gitId":"-"},"content":"  tab,"},{"lineNumber":45,"author":{"gitId":"-"},"content":"  tabGroup,"},{"lineNumber":46,"author":{"gitId":"-"},"content":"  tabs: tabset,"},{"lineNumber":47,"author":{"gitId":"-"},"content":"  thumbnail,"},{"lineNumber":48,"author":{"gitId":"-"},"content":"  tipBox,"},{"lineNumber":49,"author":{"gitId":"-"},"content":"  trigger,"},{"lineNumber":50,"author":{"gitId":"-"},"content":"  siteNav,"},{"lineNumber":51,"author":{"gitId":"jonahtanjz"},"content":"  submenu,"},{"lineNumber":52,"author":{"gitId":"jonahtanjz"},"content":"  siteNavButton,"},{"lineNumber":53,"author":{"gitId":"jonahtanjz"},"content":"  pageNavButton,"},{"lineNumber":54,"author":{"gitId":"jonahtanjz"},"content":"  overlay,"},{"lineNumber":55,"author":{"gitId":"-"},"content":"};"},{"lineNumber":56,"author":{"gitId":"-"},"content":""},{"lineNumber":57,"author":{"gitId":"-"},"content":"const directives \u003d {"},{"lineNumber":58,"author":{"gitId":"-"},"content":"  closeable,"},{"lineNumber":59,"author":{"gitId":"-"},"content":"};"},{"lineNumber":60,"author":{"gitId":"-"},"content":""},{"lineNumber":61,"author":{"gitId":"-"},"content":"function install(Vue) {"},{"lineNumber":62,"author":{"gitId":"-"},"content":"  Object.keys(directives).forEach((key) \u003d\u003e {"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    Vue.directive(key, directives[key]);"},{"lineNumber":64,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":65,"author":{"gitId":"-"},"content":"  Object.keys(components).forEach((key) \u003d\u003e {"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    Vue.component(key, components[key]);"},{"lineNumber":67,"author":{"gitId":"-"},"content":"  });"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  Vue.use(ModalPlugin);"},{"lineNumber":69,"author":{"gitId":"-"},"content":"  Vue.use(PopoverPlugin);"},{"lineNumber":70,"author":{"gitId":"-"},"content":"  Vue.use(TooltipPlugin);"},{"lineNumber":71,"author":{"gitId":"-"},"content":"}"},{"lineNumber":72,"author":{"gitId":"-"},"content":""},{"lineNumber":73,"author":{"gitId":"-"},"content":"const MarkBindVue \u003d { install };"},{"lineNumber":74,"author":{"gitId":"-"},"content":""},{"lineNumber":75,"author":{"gitId":"-"},"content":"export default MarkBindVue;"}],"authorContributionMap":{"jonahtanjz":8,"-":67}},{"path":"packages/vue-components/src/panels/PanelBase.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"import { getFragmentByHash, toBoolean } from \u0027../utils/utils\u0027;"},{"lineNumber":2,"author":{"gitId":"-"},"content":""},{"lineNumber":3,"author":{"gitId":"-"},"content":"export default {"},{"lineNumber":4,"author":{"gitId":"-"},"content":"  props: {"},{"lineNumber":5,"author":{"gitId":"-"},"content":"    type: {"},{"lineNumber":6,"author":{"gitId":"-"},"content":"      type: String,"},{"lineNumber":7,"author":{"gitId":"-"},"content":"      default: null,"},{"lineNumber":8,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":9,"author":{"gitId":"-"},"content":"    expandable: {"},{"lineNumber":10,"author":{"gitId":"-"},"content":"      type: Boolean,"},{"lineNumber":11,"author":{"gitId":"-"},"content":"      default: true,"},{"lineNumber":12,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":13,"author":{"gitId":"-"},"content":"    isOpen: {"},{"lineNumber":14,"author":{"gitId":"-"},"content":"      type: Boolean,"},{"lineNumber":15,"author":{"gitId":"-"},"content":"      default: null,"},{"lineNumber":16,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":17,"author":{"gitId":"-"},"content":"    expanded: {"},{"lineNumber":18,"author":{"gitId":"-"},"content":"      type: Boolean,"},{"lineNumber":19,"author":{"gitId":"-"},"content":"      default: null,"},{"lineNumber":20,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    minimized: {"},{"lineNumber":22,"author":{"gitId":"-"},"content":"      type: Boolean,"},{"lineNumber":23,"author":{"gitId":"-"},"content":"      default: false,"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    noSwitch: {"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      type: Boolean,"},{"lineNumber":27,"author":{"gitId":"-"},"content":"      default: false,"},{"lineNumber":28,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":29,"author":{"gitId":"-"},"content":"    noClose: {"},{"lineNumber":30,"author":{"gitId":"-"},"content":"      type: Boolean,"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      default: false,"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":33,"author":{"gitId":"-"},"content":"    popupUrl: {"},{"lineNumber":34,"author":{"gitId":"-"},"content":"      type: String,"},{"lineNumber":35,"author":{"gitId":"-"},"content":"      default: null,"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    src: {"},{"lineNumber":38,"author":{"gitId":"-"},"content":"      type: String,"},{"lineNumber":39,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":40,"author":{"gitId":"-"},"content":"    bottomSwitch: {"},{"lineNumber":41,"author":{"gitId":"-"},"content":"      type: Boolean,"},{"lineNumber":42,"author":{"gitId":"-"},"content":"      default: true,"},{"lineNumber":43,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":44,"author":{"gitId":"-"},"content":"    preload: {"},{"lineNumber":45,"author":{"gitId":"-"},"content":"      type: Boolean,"},{"lineNumber":46,"author":{"gitId":"-"},"content":"      default: false,"},{"lineNumber":47,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":48,"author":{"gitId":"-"},"content":"    addClass: {"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      type: String,"},{"lineNumber":50,"author":{"gitId":"-"},"content":"      default: \u0027\u0027,"},{"lineNumber":51,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":52,"author":{"gitId":"raysonkoh"},"content":"    expandHeaderless: {"},{"lineNumber":53,"author":{"gitId":"raysonkoh"},"content":"      type: Boolean,"},{"lineNumber":54,"author":{"gitId":"raysonkoh"},"content":"      default: false,"},{"lineNumber":55,"author":{"gitId":"raysonkoh"},"content":"    },"},{"lineNumber":56,"author":{"gitId":"wxwxwxwx9"},"content":"    peek: {"},{"lineNumber":57,"author":{"gitId":"wxwxwxwx9"},"content":"      type: Boolean,"},{"lineNumber":58,"author":{"gitId":"wxwxwxwx9"},"content":"      default: false,"},{"lineNumber":59,"author":{"gitId":"wxwxwxwx9"},"content":"    },"},{"lineNumber":60,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":61,"author":{"gitId":"-"},"content":"  computed: {"},{"lineNumber":62,"author":{"gitId":"-"},"content":"    // Vue 2.0 coerce migration"},{"lineNumber":63,"author":{"gitId":"-"},"content":"    expandableBool() {"},{"lineNumber":64,"author":{"gitId":"-"},"content":"      return toBoolean(this.expandable);"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    isOpenBool() {"},{"lineNumber":67,"author":{"gitId":"-"},"content":"      return toBoolean(this.isOpen);"},{"lineNumber":68,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":69,"author":{"gitId":"-"},"content":"    expandedBool() {"},{"lineNumber":70,"author":{"gitId":"-"},"content":"      return toBoolean(this.expanded);"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":72,"author":{"gitId":"-"},"content":"    minimizedBool() {"},{"lineNumber":73,"author":{"gitId":"-"},"content":"      return toBoolean(this.minimized);"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":75,"author":{"gitId":"-"},"content":"    noSwitchBool() {"},{"lineNumber":76,"author":{"gitId":"-"},"content":"      return toBoolean(this.noSwitch);"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    noCloseBool() {"},{"lineNumber":79,"author":{"gitId":"-"},"content":"      return toBoolean(this.noClose);"},{"lineNumber":80,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":81,"author":{"gitId":"-"},"content":"    bottomSwitchBool() {"},{"lineNumber":82,"author":{"gitId":"-"},"content":"      return toBoolean(this.bottomSwitch);"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":84,"author":{"gitId":"-"},"content":"    preloadBool() {"},{"lineNumber":85,"author":{"gitId":"-"},"content":"      return toBoolean(this.preload);"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":87,"author":{"gitId":"-"},"content":"    // Vue 2.0 coerce migration end"},{"lineNumber":88,"author":{"gitId":"-"},"content":"    hasHeaderBool() {"},{"lineNumber":89,"author":{"gitId":"-"},"content":"      return this.$slots.header;"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":91,"author":{"gitId":"-"},"content":"    isExpandableCard() {"},{"lineNumber":92,"author":{"gitId":"-"},"content":"      return this.expandableBool;"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    hasSrc() {"},{"lineNumber":95,"author":{"gitId":"-"},"content":"      return this.src \u0026\u0026 this.src.length \u003e 0;"},{"lineNumber":96,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":97,"author":{"gitId":"raysonkoh"},"content":"    shouldShowHeader() {"},{"lineNumber":98,"author":{"gitId":"raysonkoh"},"content":"      return (!this.localExpanded) || (!this.expandHeaderless);"},{"lineNumber":99,"author":{"gitId":"raysonkoh"},"content":"    },"},{"lineNumber":100,"author":{"gitId":"wxwxwxwx9"},"content":"    shouldShowPeek() {"},{"lineNumber":101,"author":{"gitId":"wxwxwxwx9"},"content":"      return this.peek \u0026\u0026 !this.localExpanded;"},{"lineNumber":102,"author":{"gitId":"wxwxwxwx9"},"content":"    },"},{"lineNumber":103,"author":{"gitId":"wxwxwxwx9"},"content":"    collapsedPanelHeight() {"},{"lineNumber":104,"author":{"gitId":"wxwxwxwx9"},"content":"      return this.peek ? 125 : 0;"},{"lineNumber":105,"author":{"gitId":"wxwxwxwx9"},"content":"    },"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":107,"author":{"gitId":"-"},"content":"  data() {"},{"lineNumber":108,"author":{"gitId":"-"},"content":"    return {"},{"lineNumber":109,"author":{"gitId":"-"},"content":"      localExpanded: false,"},{"lineNumber":110,"author":{"gitId":"-"},"content":"      localMinimized: false,"},{"lineNumber":111,"author":{"gitId":"-"},"content":"      wasRetrieverLoaded: false,"},{"lineNumber":112,"author":{"gitId":"wxwxwxwx9"},"content":"      isRetrieverLoadDone: !this.src, // Load is done by default if there is no src"},{"lineNumber":113,"author":{"gitId":"-"},"content":"    };"},{"lineNumber":114,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":115,"author":{"gitId":"-"},"content":"  methods: {"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    toggle() {"},{"lineNumber":117,"author":{"gitId":"wxwxwxwx9"},"content":"      if (!this.wasRetrieverLoaded) {"},{"lineNumber":118,"author":{"gitId":"wxwxwxwx9"},"content":"        this.open();"},{"lineNumber":119,"author":{"gitId":"wxwxwxwx9"},"content":"        return;"},{"lineNumber":120,"author":{"gitId":"wxwxwxwx9"},"content":"      }"},{"lineNumber":121,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":122,"author":{"gitId":"wxwxwxwx9"},"content":"      if (this.localExpanded) {"},{"lineNumber":123,"author":{"gitId":"-"},"content":"        /*"},{"lineNumber":124,"author":{"gitId":"wxwxwxwx9"},"content":"          Collapse panel."},{"lineNumber":125,"author":{"gitId":"wxwxwxwx9"},"content":"          Panel\u0027s maxHeight is \u0027none\u0027 at the moment, as event listener set it to \u0027none\u0027 after expansion."},{"lineNumber":126,"author":{"gitId":"wxwxwxwx9"},"content":"          Thus, we need to reset the maxHeight to its current height for collapse transition to work."},{"lineNumber":127,"author":{"gitId":"-"},"content":"        */"},{"lineNumber":128,"author":{"gitId":"wxwxwxwx9"},"content":"        this.$refs.panel.style.maxHeight \u003d `${this.$refs.panel.scrollHeight}px`;"},{"lineNumber":129,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":130,"author":{"gitId":"wxwxwxwx9"},"content":"        requestAnimationFrame(() \u003d\u003e {"},{"lineNumber":131,"author":{"gitId":"wxwxwxwx9"},"content":"          // To enable behaviour of auto window scrolling during panel collapse"},{"lineNumber":132,"author":{"gitId":"wxwxwxwx9"},"content":"          if (this.$el.getBoundingClientRect().top \u003c 0) {"},{"lineNumber":133,"author":{"gitId":"wxwxwxwx9"},"content":"            jQuery(\u0027html\u0027).animate({"},{"lineNumber":134,"author":{"gitId":"wxwxwxwx9"},"content":"              scrollTop: window.scrollY + this.$el.getBoundingClientRect().top - 3,"},{"lineNumber":135,"author":{"gitId":"wxwxwxwx9"},"content":"            }, 500, \u0027swing\u0027);"},{"lineNumber":136,"author":{"gitId":"wxwxwxwx9"},"content":"          }"},{"lineNumber":137,"author":{"gitId":"wxwxwxwx9"},"content":"          this.$refs.panel.style.maxHeight \u003d `${this.collapsedPanelHeight}px`;"},{"lineNumber":138,"author":{"gitId":"-"},"content":"        });"},{"lineNumber":139,"author":{"gitId":"-"},"content":"      } else {"},{"lineNumber":140,"author":{"gitId":"wxwxwxwx9"},"content":"        // Expand panel"},{"lineNumber":141,"author":{"gitId":"wxwxwxwx9"},"content":"        this.$refs.panel.style.maxHeight \u003d `${this.$refs.panel.scrollHeight}px`;"},{"lineNumber":142,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":143,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":144,"author":{"gitId":"wxwxwxwx9"},"content":"      this.localExpanded \u003d !this.localExpanded;"},{"lineNumber":145,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":146,"author":{"gitId":"-"},"content":"    close() {"},{"lineNumber":147,"author":{"gitId":"-"},"content":"      this.localMinimized \u003d true;"},{"lineNumber":148,"author":{"gitId":"wxwxwxwx9"},"content":"      this.localExpanded \u003d false;"},{"lineNumber":149,"author":{"gitId":"wxwxwxwx9"},"content":"      /*"},{"lineNumber":150,"author":{"gitId":"wxwxwxwx9"},"content":"        We do not need transition for closing panels (changing to minimized)."},{"lineNumber":151,"author":{"gitId":"wxwxwxwx9"},"content":"        Thus, we do not use nextTick here."},{"lineNumber":152,"author":{"gitId":"wxwxwxwx9"},"content":"      */"},{"lineNumber":153,"author":{"gitId":"wxwxwxwx9"},"content":"      this.$refs.panel.style.maxHeight \u003d `${this.collapsedPanelHeight}px`;"},{"lineNumber":154,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":155,"author":{"gitId":"-"},"content":"    open() {"},{"lineNumber":156,"author":{"gitId":"wxwxwxwx9"},"content":"      if (this.localExpanded) {"},{"lineNumber":157,"author":{"gitId":"wxwxwxwx9"},"content":"        /*"},{"lineNumber":158,"author":{"gitId":"wxwxwxwx9"},"content":"          In the case where panel is minimized but expanded (where retriever is already loaded),"},{"lineNumber":159,"author":{"gitId":"wxwxwxwx9"},"content":"          it\u0027s maxHeight is already none and we should not set it scrollHeight again."},{"lineNumber":160,"author":{"gitId":"wxwxwxwx9"},"content":"        */"},{"lineNumber":161,"author":{"gitId":"wxwxwxwx9"},"content":"        this.localMinimized \u003d false;"},{"lineNumber":162,"author":{"gitId":"wxwxwxwx9"},"content":"        return;"},{"lineNumber":163,"author":{"gitId":"wxwxwxwx9"},"content":"      }"},{"lineNumber":164,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":165,"author":{"gitId":"wxwxwxwx9"},"content":"      this.localMinimized \u003d false;"},{"lineNumber":166,"author":{"gitId":"wxwxwxwx9"},"content":"      this.localExpanded \u003d true;"},{"lineNumber":167,"author":{"gitId":"-"},"content":"      this.wasRetrieverLoaded \u003d true;"},{"lineNumber":168,"author":{"gitId":"wxwxwxwx9"},"content":"      /*"},{"lineNumber":169,"author":{"gitId":"wxwxwxwx9"},"content":"        After setting minimized to false / wasRetrieverLoaded to true,"},{"lineNumber":170,"author":{"gitId":"wxwxwxwx9"},"content":"        we have to wait for DOM update (nextTick) before setting maxHeight for transition."},{"lineNumber":171,"author":{"gitId":"wxwxwxwx9"},"content":"      */"},{"lineNumber":172,"author":{"gitId":"-"},"content":"      this.$nextTick(() \u003d\u003e {"},{"lineNumber":173,"author":{"gitId":"wxwxwxwx9"},"content":"        this.$refs.panel.style.maxHeight \u003d `${this.$refs.panel.scrollHeight}px`;"},{"lineNumber":174,"author":{"gitId":"-"},"content":"      });"},{"lineNumber":175,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":176,"author":{"gitId":"-"},"content":"    openPopup() {"},{"lineNumber":177,"author":{"gitId":"-"},"content":"      window.open(this.popupUrl);"},{"lineNumber":178,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":179,"author":{"gitId":"wxwxwxwx9"},"content":"    retrieverUpdateMaxHeight() {"},{"lineNumber":180,"author":{"gitId":"wxwxwxwx9"},"content":"      // src has finished loaded -- we set this flag to true so our event listener can set maxHeight to none"},{"lineNumber":181,"author":{"gitId":"wxwxwxwx9"},"content":"      this.isRetrieverLoadDone \u003d true;"},{"lineNumber":182,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":183,"author":{"gitId":"wxwxwxwx9"},"content":"      if (!this.localExpanded) {"},{"lineNumber":184,"author":{"gitId":"-"},"content":"        return;"},{"lineNumber":185,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":186,"author":{"gitId":"-"},"content":""},{"lineNumber":187,"author":{"gitId":"wxwxwxwx9"},"content":"      // Don\u0027t play the transition for this case as the loading should feel \u0027instant\u0027."},{"lineNumber":188,"author":{"gitId":"-"},"content":"      if (this.expandedBool) {"},{"lineNumber":189,"author":{"gitId":"-"},"content":"        this.$refs.panel.style.maxHeight \u003d \u0027none\u0027;"},{"lineNumber":190,"author":{"gitId":"-"},"content":"        return;"},{"lineNumber":191,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":192,"author":{"gitId":"-"},"content":""},{"lineNumber":193,"author":{"gitId":"wxwxwxwx9"},"content":"      // For expansion transition to \u0027continue\u0027 after src is loaded."},{"lineNumber":194,"author":{"gitId":"-"},"content":"      this.$refs.panel.style.maxHeight \u003d `${this.$refs.panel.scrollHeight}px`;"},{"lineNumber":195,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":196,"author":{"gitId":"wxwxwxwx9"},"content":"    initPanel() {"},{"lineNumber":197,"author":{"gitId":"wxwxwxwx9"},"content":"      this.$refs.panel.addEventListener(\u0027transitionend\u0027, (event) \u003d\u003e {"},{"lineNumber":198,"author":{"gitId":"-"},"content":"        /*"},{"lineNumber":199,"author":{"gitId":"wxwxwxwx9"},"content":"          If the panel\u0027s content grows, its maxHeight should accomodate it accordingly (e.g. nested panels)."},{"lineNumber":200,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":201,"author":{"gitId":"wxwxwxwx9"},"content":"          However, if the panel has a \u0027src\u0027 attribute and it has not finished loading,"},{"lineNumber":202,"author":{"gitId":"wxwxwxwx9"},"content":"          then this is delegated later to the retriever src-loaded event handler,"},{"lineNumber":203,"author":{"gitId":"wxwxwxwx9"},"content":"          allowing a second maxHeight transition once it is loaded."},{"lineNumber":204,"author":{"gitId":"-"},"content":"        */"},{"lineNumber":205,"author":{"gitId":"wxwxwxwx9"},"content":"        if (this.localExpanded \u0026\u0026 this.isRetrieverLoadDone \u0026\u0026 event.target \u003d\u003d\u003d this.$refs.panel) {"},{"lineNumber":206,"author":{"gitId":"-"},"content":"          this.$refs.panel.style.maxHeight \u003d \u0027none\u0027;"},{"lineNumber":207,"author":{"gitId":"wxwxwxwx9"},"content":"        }"},{"lineNumber":208,"author":{"gitId":"wxwxwxwx9"},"content":"      });"},{"lineNumber":209,"author":{"gitId":"-"},"content":""},{"lineNumber":210,"author":{"gitId":"wxwxwxwx9"},"content":"      // Set the initial height of panel."},{"lineNumber":211,"author":{"gitId":"wxwxwxwx9"},"content":"      if (this.localExpanded) {"},{"lineNumber":212,"author":{"gitId":"wxwxwxwx9"},"content":"        /*"},{"lineNumber":213,"author":{"gitId":"wxwxwxwx9"},"content":"          User has indicated expanded option for the panel."},{"lineNumber":214,"author":{"gitId":"wxwxwxwx9"},"content":"          We have to set the maxHeight to none immediately since there won\u0027t be any transitions"},{"lineNumber":215,"author":{"gitId":"wxwxwxwx9"},"content":"          to trigger the event listener to set maxHeight to none."},{"lineNumber":216,"author":{"gitId":"wxwxwxwx9"},"content":"        */"},{"lineNumber":217,"author":{"gitId":"wxwxwxwx9"},"content":"        this.$refs.panel.style.maxHeight \u003d \u0027none\u0027;"},{"lineNumber":218,"author":{"gitId":"wxwxwxwx9"},"content":"      } else {"},{"lineNumber":219,"author":{"gitId":"wxwxwxwx9"},"content":"        this.$refs.panel.style.maxHeight \u003d `${this.collapsedPanelHeight}px`;"},{"lineNumber":220,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":221,"author":{"gitId":"-"},"content":"    },"},{"lineNumber":222,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":223,"author":{"gitId":"-"},"content":"  created() {"},{"lineNumber":224,"author":{"gitId":"-"},"content":"    if (this.src) {"},{"lineNumber":225,"author":{"gitId":"-"},"content":"      const hash \u003d getFragmentByHash(this.src);"},{"lineNumber":226,"author":{"gitId":"-"},"content":"      if (hash) {"},{"lineNumber":227,"author":{"gitId":"-"},"content":"        this.fragment \u003d hash;"},{"lineNumber":228,"author":{"gitId":"-"},"content":"        // eslint-disable-next-line prefer-destructuring"},{"lineNumber":229,"author":{"gitId":"-"},"content":"        this.src \u003d this.src.split(\u0027#\u0027)[0];"},{"lineNumber":230,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":231,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":232,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":233,"author":{"gitId":"-"},"content":"    // Edge case where user might want non-expandable card that isn\u0027t expanded by default"},{"lineNumber":234,"author":{"gitId":"-"},"content":"    const notExpandableNoExpand \u003d !this.expandableBool \u0026\u0026 this.expanded !\u003d\u003d \u0027false\u0027;"},{"lineNumber":235,"author":{"gitId":"-"},"content":""},{"lineNumber":236,"author":{"gitId":"-"},"content":"    // Set local data to computed prop value"},{"lineNumber":237,"author":{"gitId":"-"},"content":""},{"lineNumber":238,"author":{"gitId":"-"},"content":"    // Ensure this expr ordering is maintained"},{"lineNumber":239,"author":{"gitId":"-"},"content":"    this.localExpanded \u003d notExpandableNoExpand || this.expandedBool;"},{"lineNumber":240,"author":{"gitId":"wxwxwxwx9"},"content":"    if (this.localExpanded \u003d\u003d\u003d null) {"},{"lineNumber":241,"author":{"gitId":"wxwxwxwx9"},"content":"      this.localExpanded \u003d false;"},{"lineNumber":242,"author":{"gitId":"wxwxwxwx9"},"content":"    }"},{"lineNumber":243,"author":{"gitId":"wxwxwxwx9"},"content":""},{"lineNumber":244,"author":{"gitId":"wxwxwxwx9"},"content":"    this.wasRetrieverLoaded \u003d this.localExpanded || this.peek;"},{"lineNumber":245,"author":{"gitId":"-"},"content":"    this.localMinimized \u003d this.minimizedBool;"},{"lineNumber":246,"author":{"gitId":"-"},"content":"  },"},{"lineNumber":247,"author":{"gitId":"wxwxwxwx9"},"content":"  mounted() {"},{"lineNumber":248,"author":{"gitId":"wxwxwxwx9"},"content":"    this.initPanel();"},{"lineNumber":249,"author":{"gitId":"wxwxwxwx9"},"content":"  },"},{"lineNumber":250,"author":{"gitId":"-"},"content":"};"}],"authorContributionMap":{"raysonkoh":7,"wxwxwxwx9":92,"-":151}},{"path":"packages/vue-components/src/utils/NodeList.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"-"},"content":"const ArrayProto \u003d Array.prototype"},{"lineNumber":2,"author":{"gitId":"-"},"content":"const nodeError \u003d new Error(\u0027Passed arguments must be of Node\u0027)"},{"lineNumber":3,"author":{"gitId":"-"},"content":"let blurEvent"},{"lineNumber":4,"author":{"gitId":"-"},"content":"let blurList \u003d []"},{"lineNumber":5,"author":{"gitId":"-"},"content":"let Events \u003d []"},{"lineNumber":6,"author":{"gitId":"-"},"content":""},{"lineNumber":7,"author":{"gitId":"-"},"content":"function isNode (val) { return val instanceof window.Node }"},{"lineNumber":8,"author":{"gitId":"-"},"content":"function isNodeList (val) { return val instanceof window.NodeList || val instanceof NodeList || val instanceof window.HTMLCollection || val instanceof Array }"},{"lineNumber":9,"author":{"gitId":"-"},"content":""},{"lineNumber":10,"author":{"gitId":"-"},"content":"function splitWords (val) { val \u003d val.trim(); return val.length ? val.replace(/\\s+/, \u0027 \u0027).split(\u0027 \u0027) : [] }"},{"lineNumber":11,"author":{"gitId":"-"},"content":"function joinWords (val) { return val.length ? val.join(\u0027 \u0027) : \u0027\u0027 }"},{"lineNumber":12,"author":{"gitId":"-"},"content":""},{"lineNumber":13,"author":{"gitId":"-"},"content":"class NodeList {"},{"lineNumber":14,"author":{"gitId":"-"},"content":"  constructor (args) {"},{"lineNumber":15,"author":{"gitId":"-"},"content":"    var nodes \u003d args"},{"lineNumber":16,"author":{"gitId":"-"},"content":"    if (args[0] \u003d\u003d\u003d window) {"},{"lineNumber":17,"author":{"gitId":"-"},"content":"      nodes \u003d [window]"},{"lineNumber":18,"author":{"gitId":"-"},"content":"    } else if (typeof args[0] \u003d\u003d\u003d \u0027string\u0027) {"},{"lineNumber":19,"author":{"gitId":"-"},"content":"      nodes \u003d (args[1] || document).querySelectorAll(args[0])"},{"lineNumber":20,"author":{"gitId":"-"},"content":"      if (args[1]) { this.owner \u003d args[1] }"},{"lineNumber":21,"author":{"gitId":"-"},"content":"    } else if (0 in args \u0026\u0026 !isNode(args[0]) \u0026\u0026 args[0] \u0026\u0026 \u0027length\u0027 in args[0]) {"},{"lineNumber":22,"author":{"gitId":"-"},"content":"      nodes \u003d args[0]"},{"lineNumber":23,"author":{"gitId":"-"},"content":"      if (args[1]) { this.owner \u003d args[1] }"},{"lineNumber":24,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":25,"author":{"gitId":"-"},"content":"    if (nodes) {"},{"lineNumber":26,"author":{"gitId":"-"},"content":"      for (let i in nodes) {"},{"lineNumber":27,"author":{"gitId":"-"},"content":"        this[i] \u003d nodes[i]"},{"lineNumber":28,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":29,"author":{"gitId":"-"},"content":"      this.length \u003d nodes.length"},{"lineNumber":30,"author":{"gitId":"-"},"content":"    } else {"},{"lineNumber":31,"author":{"gitId":"-"},"content":"      this.length \u003d 0"},{"lineNumber":32,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":33,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":34,"author":{"gitId":"-"},"content":""},{"lineNumber":35,"author":{"gitId":"-"},"content":"  concat (...args) {"},{"lineNumber":36,"author":{"gitId":"-"},"content":"    let nodes \u003d ArrayProto.slice.call(this)"},{"lineNumber":37,"author":{"gitId":"-"},"content":"    function flatten (arr) {"},{"lineNumber":38,"author":{"gitId":"-"},"content":"      ArrayProto.forEach.call(arr, el \u003d\u003e {"},{"lineNumber":39,"author":{"gitId":"-"},"content":"        if (isNode(el)) {"},{"lineNumber":40,"author":{"gitId":"-"},"content":"          if (!~nodes.indexOf(el)) nodes.push(el)"},{"lineNumber":41,"author":{"gitId":"-"},"content":"        } else if (isNodeList(el)) {"},{"lineNumber":42,"author":{"gitId":"-"},"content":"          flatten(el)"},{"lineNumber":43,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":44,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":45,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":46,"author":{"gitId":"-"},"content":"    ArrayProto.forEach.call(args, arg \u003d\u003e {"},{"lineNumber":47,"author":{"gitId":"-"},"content":"      if (isNode(arg)) {"},{"lineNumber":48,"author":{"gitId":"-"},"content":"        if (!~nodes.indexOf(arg)) nodes.push(arg)"},{"lineNumber":49,"author":{"gitId":"-"},"content":"      } else if (isNodeList(arg)) {"},{"lineNumber":50,"author":{"gitId":"-"},"content":"        flatten(arg)"},{"lineNumber":51,"author":{"gitId":"-"},"content":"      } else {"},{"lineNumber":52,"author":{"gitId":"-"},"content":"        throw Error(\u0027Concat arguments must be of a Node, NodeList, HTMLCollection, or Array of (Node, NodeList, HTMLCollection, Array)\u0027)"},{"lineNumber":53,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":54,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":55,"author":{"gitId":"-"},"content":"    return NodeListJS(nodes, this)"},{"lineNumber":56,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":57,"author":{"gitId":"-"},"content":"  delete () {"},{"lineNumber":58,"author":{"gitId":"-"},"content":"    var notRemoved \u003d flatten(this).filter(el \u003d\u003e {"},{"lineNumber":59,"author":{"gitId":"-"},"content":"      if (el.remove) {"},{"lineNumber":60,"author":{"gitId":"-"},"content":"        el.remove()"},{"lineNumber":61,"author":{"gitId":"-"},"content":"      } else if (el.parentNode) {"},{"lineNumber":62,"author":{"gitId":"-"},"content":"        el.parentNode.removeChild(el)"},{"lineNumber":63,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":64,"author":{"gitId":"-"},"content":"      return document.body.contains(el)"},{"lineNumber":65,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":66,"author":{"gitId":"-"},"content":"    if (notRemoved.length) console.warn(\u0027NodeList: Some nodes could not be deleted.\u0027)"},{"lineNumber":67,"author":{"gitId":"-"},"content":"    return notRemoved"},{"lineNumber":68,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":69,"author":{"gitId":"-"},"content":"  each (...args) {"},{"lineNumber":70,"author":{"gitId":"-"},"content":"    ArrayProto.forEach.apply(this, args)"},{"lineNumber":71,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":72,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":73,"author":{"gitId":"-"},"content":"  filter (...args) {"},{"lineNumber":74,"author":{"gitId":"-"},"content":"    return NodeListJS(ArrayProto.filter.apply(this, args), this)"},{"lineNumber":75,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":76,"author":{"gitId":"-"},"content":"  find (element) {"},{"lineNumber":77,"author":{"gitId":"-"},"content":"    let nodes \u003d []"},{"lineNumber":78,"author":{"gitId":"-"},"content":"    flatten(this).forEach(node \u003d\u003e { ArrayProto.push.apply(nodes, node.querySelectorAll(element)) })"},{"lineNumber":79,"author":{"gitId":"-"},"content":"    return flatten(nodes, this.owner)"},{"lineNumber":80,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":81,"author":{"gitId":"-"},"content":"  findChildren (element) {"},{"lineNumber":82,"author":{"gitId":"-"},"content":"    if (element) return this.find(element).filter(el \u003d\u003e this.includes(el.parentElement))"},{"lineNumber":83,"author":{"gitId":"-"},"content":"    return flatten(this.map(el \u003d\u003e el.children))"},{"lineNumber":84,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":85,"author":{"gitId":"-"},"content":"  forEach (...args) {"},{"lineNumber":86,"author":{"gitId":"-"},"content":"    ArrayProto.forEach.apply(this, args)"},{"lineNumber":87,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":88,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":89,"author":{"gitId":"-"},"content":"  includes (element, index) {"},{"lineNumber":90,"author":{"gitId":"-"},"content":"    return ~this.indexOf(element, index)"},{"lineNumber":91,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":92,"author":{"gitId":"-"},"content":"  map (...args) {"},{"lineNumber":93,"author":{"gitId":"-"},"content":"    var mapped \u003d ArrayProto.map.apply(this, args)"},{"lineNumber":94,"author":{"gitId":"-"},"content":"    return mapped.some(el \u003d\u003e (isNode(el) || isNodeList(el))) ? flatten(mapped, this) : mapped"},{"lineNumber":95,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":96,"author":{"gitId":"-"},"content":"  parent () {"},{"lineNumber":97,"author":{"gitId":"-"},"content":"    return flatten(this.map(el \u003d\u003e el.parentNode), this)"},{"lineNumber":98,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":99,"author":{"gitId":"-"},"content":"  pop (amount) {"},{"lineNumber":100,"author":{"gitId":"-"},"content":"    if (typeof amount !\u003d\u003d \u0027number\u0027) { amount \u003d 1 }"},{"lineNumber":101,"author":{"gitId":"-"},"content":"    let nodes \u003d []"},{"lineNumber":102,"author":{"gitId":"-"},"content":"    let pop \u003d ArrayProto.pop.bind(this)"},{"lineNumber":103,"author":{"gitId":"-"},"content":"    while (amount--) nodes.push(pop())"},{"lineNumber":104,"author":{"gitId":"-"},"content":"    return NodeListJS(nodes, this)"},{"lineNumber":105,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":106,"author":{"gitId":"-"},"content":"  push (...args) {"},{"lineNumber":107,"author":{"gitId":"-"},"content":"    ArrayProto.forEach.call(args, arg \u003d\u003e {"},{"lineNumber":108,"author":{"gitId":"-"},"content":"      if (!isNode(arg)) throw nodeError"},{"lineNumber":109,"author":{"gitId":"-"},"content":"      if (!~this.indexOf(arg)) ArrayProto.push.call(this, arg)"},{"lineNumber":110,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":111,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":112,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":113,"author":{"gitId":"-"},"content":"  shift (amount) {"},{"lineNumber":114,"author":{"gitId":"-"},"content":"    if (typeof amount !\u003d\u003d \u0027number\u0027) { amount \u003d 1 }"},{"lineNumber":115,"author":{"gitId":"-"},"content":"    let nodes \u003d []"},{"lineNumber":116,"author":{"gitId":"-"},"content":"    while (amount--) nodes.push(ArrayProto.shift.call(this))"},{"lineNumber":117,"author":{"gitId":"-"},"content":"    return nodes.length \u003d\u003d 1 ? nodes[0] : NodeListJS(nodes, this)"},{"lineNumber":118,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":119,"author":{"gitId":"-"},"content":"  slice (...args) {"},{"lineNumber":120,"author":{"gitId":"-"},"content":"    return NodeListJS(ArrayProto.slice.apply(this, args), this)"},{"lineNumber":121,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":122,"author":{"gitId":"-"},"content":"  splice (...args) {"},{"lineNumber":123,"author":{"gitId":"-"},"content":"    for (let i \u003d 2, l \u003d args.length; i \u003c l; i++) {"},{"lineNumber":124,"author":{"gitId":"-"},"content":"      if (!isNode(args[i])) throw nodeError"},{"lineNumber":125,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":126,"author":{"gitId":"-"},"content":"    ArrayProto.splice.apply(this, args)"},{"lineNumber":127,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":128,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":129,"author":{"gitId":"-"},"content":"  unshift (...args) {"},{"lineNumber":130,"author":{"gitId":"-"},"content":"    let unshift \u003d ArrayProto.unshift.bind(this)"},{"lineNumber":131,"author":{"gitId":"-"},"content":"    ArrayProto.forEach.call(args, arg \u003d\u003e {"},{"lineNumber":132,"author":{"gitId":"-"},"content":"      if (!isNode(arg)) throw nodeError"},{"lineNumber":133,"author":{"gitId":"-"},"content":"      if (!~this.indexOf(arg)) unshift(arg)"},{"lineNumber":134,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":135,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":136,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":137,"author":{"gitId":"-"},"content":""},{"lineNumber":138,"author":{"gitId":"-"},"content":"  addClass (classes) {"},{"lineNumber":139,"author":{"gitId":"-"},"content":"    return this.toggleClass(classes, true)"},{"lineNumber":140,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":141,"author":{"gitId":"-"},"content":"  removeClass (classes) {"},{"lineNumber":142,"author":{"gitId":"-"},"content":"    return this.toggleClass(classes, false)"},{"lineNumber":143,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":144,"author":{"gitId":"-"},"content":"  toggleClass (classes, value) {"},{"lineNumber":145,"author":{"gitId":"-"},"content":"    var method \u003d (value \u003d\u003d\u003d undefined || value \u003d\u003d\u003d null) ? \u0027toggle\u0027 : value ? \u0027add\u0027 : \u0027remove\u0027"},{"lineNumber":146,"author":{"gitId":"-"},"content":"    if (typeof classes \u003d\u003d\u003d \u0027string\u0027) {"},{"lineNumber":147,"author":{"gitId":"-"},"content":"      classes \u003d splitWords(classes)"},{"lineNumber":148,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":149,"author":{"gitId":"-"},"content":"    this.each(el \u003d\u003e {"},{"lineNumber":150,"author":{"gitId":"-"},"content":"      var list \u003d splitWords(el.className)"},{"lineNumber":151,"author":{"gitId":"-"},"content":"      classes.forEach(c \u003d\u003e {"},{"lineNumber":152,"author":{"gitId":"-"},"content":"        var hasClass \u003d ~list.indexOf(c)"},{"lineNumber":153,"author":{"gitId":"-"},"content":"        if (!hasClass \u0026\u0026 method !\u003d\u003d \u0027remove\u0027) list.push(c)"},{"lineNumber":154,"author":{"gitId":"-"},"content":"        if (hasClass \u0026\u0026 method !\u003d\u003d \u0027add\u0027) { list \u003d list.filter(el \u003d\u003e (el !\u003d\u003d c)) }"},{"lineNumber":155,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":156,"author":{"gitId":"-"},"content":"      list \u003d joinWords(list)"},{"lineNumber":157,"author":{"gitId":"-"},"content":"      if (!list) el.removeAttribute(\u0027class\u0027)"},{"lineNumber":158,"author":{"gitId":"-"},"content":"      else el.className \u003d list"},{"lineNumber":159,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":160,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":161,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":162,"author":{"gitId":"-"},"content":""},{"lineNumber":163,"author":{"gitId":"-"},"content":"  get (prop) {"},{"lineNumber":164,"author":{"gitId":"-"},"content":"    let arr \u003d []"},{"lineNumber":165,"author":{"gitId":"-"},"content":"    this.each(el \u003d\u003e {"},{"lineNumber":166,"author":{"gitId":"-"},"content":"      if (el !\u003d\u003d null) { el \u003d el[prop] }"},{"lineNumber":167,"author":{"gitId":"-"},"content":"      arr.push(el)"},{"lineNumber":168,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":169,"author":{"gitId":"-"},"content":"    return flatten(arr, this)"},{"lineNumber":170,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":171,"author":{"gitId":"-"},"content":"  set (prop, value) {"},{"lineNumber":172,"author":{"gitId":"-"},"content":"    if (prop.constructor \u003d\u003d\u003d Object) {"},{"lineNumber":173,"author":{"gitId":"-"},"content":"      this.each(el \u003d\u003e {"},{"lineNumber":174,"author":{"gitId":"-"},"content":"        if (el) {"},{"lineNumber":175,"author":{"gitId":"-"},"content":"          for (let key in prop) {"},{"lineNumber":176,"author":{"gitId":"-"},"content":"            if (key in el) { el[key] \u003d prop[key] }"},{"lineNumber":177,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":178,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":179,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":180,"author":{"gitId":"-"},"content":"    } else {"},{"lineNumber":181,"author":{"gitId":"-"},"content":"      this.each(el \u003d\u003e {"},{"lineNumber":182,"author":{"gitId":"-"},"content":"        if (prop in el) { el[prop] \u003d value }"},{"lineNumber":183,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":184,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":185,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":186,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":187,"author":{"gitId":"-"},"content":"  call (...args) {"},{"lineNumber":188,"author":{"gitId":"-"},"content":"    const method \u003d ArrayProto.shift.call(args)"},{"lineNumber":189,"author":{"gitId":"-"},"content":"    let arr \u003d []"},{"lineNumber":190,"author":{"gitId":"-"},"content":"    let returnThis \u003d true"},{"lineNumber":191,"author":{"gitId":"-"},"content":"    this.each(el \u003d\u003e {"},{"lineNumber":192,"author":{"gitId":"-"},"content":"      if (el \u0026\u0026 el[method] instanceof Function) {"},{"lineNumber":193,"author":{"gitId":"-"},"content":"        el \u003d el[method].apply(el, args)"},{"lineNumber":194,"author":{"gitId":"-"},"content":"        arr.push(el)"},{"lineNumber":195,"author":{"gitId":"-"},"content":"        if (returnThis \u0026\u0026 el !\u003d\u003d undefined) {"},{"lineNumber":196,"author":{"gitId":"-"},"content":"          returnThis \u003d false"},{"lineNumber":197,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":198,"author":{"gitId":"-"},"content":"      } else {"},{"lineNumber":199,"author":{"gitId":"-"},"content":"        arr.push(undefined)"},{"lineNumber":200,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":201,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":202,"author":{"gitId":"-"},"content":"    return returnThis ? this : flatten(arr, this)"},{"lineNumber":203,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":204,"author":{"gitId":"-"},"content":"  item (index) {"},{"lineNumber":205,"author":{"gitId":"-"},"content":"    return NodeListJS([this[index]], this)"},{"lineNumber":206,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":207,"author":{"gitId":"-"},"content":"  get asArray () {"},{"lineNumber":208,"author":{"gitId":"-"},"content":"    return ArrayProto.slice.call(this)"},{"lineNumber":209,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":210,"author":{"gitId":"-"},"content":""},{"lineNumber":211,"author":{"gitId":"-"},"content":"  // event handlers"},{"lineNumber":212,"author":{"gitId":"-"},"content":"  on (events, selector, callback) {"},{"lineNumber":213,"author":{"gitId":"-"},"content":"    if (typeof events \u003d\u003d\u003d \u0027string\u0027) { events \u003d splitWords(events) }"},{"lineNumber":214,"author":{"gitId":"-"},"content":"    if (!this || !this.length) return this"},{"lineNumber":215,"author":{"gitId":"-"},"content":"    if (callback \u003d\u003d\u003d undefined) {"},{"lineNumber":216,"author":{"gitId":"-"},"content":"      callback \u003d selector"},{"lineNumber":217,"author":{"gitId":"-"},"content":"      selector \u003d null"},{"lineNumber":218,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":219,"author":{"gitId":"-"},"content":"    if (!callback) return this"},{"lineNumber":220,"author":{"gitId":"-"},"content":"    const fn \u003d callback"},{"lineNumber":221,"author":{"gitId":"-"},"content":"    callback \u003d selector ? function (e) {"},{"lineNumber":222,"author":{"gitId":"-"},"content":"      let els \u003d NodeListJS(selector, this)"},{"lineNumber":223,"author":{"gitId":"-"},"content":"      if (!els.length) { return }"},{"lineNumber":224,"author":{"gitId":"-"},"content":"      els.some(el \u003d\u003e {"},{"lineNumber":225,"author":{"gitId":"-"},"content":"        let target \u003d el.contains(e.target)"},{"lineNumber":226,"author":{"gitId":"-"},"content":"        if (target) fn.call(el, e, el)"},{"lineNumber":227,"author":{"gitId":"-"},"content":"        return target"},{"lineNumber":228,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":229,"author":{"gitId":"-"},"content":"    } : function (e) {"},{"lineNumber":230,"author":{"gitId":"-"},"content":"      fn.apply(this, [e, this])"},{"lineNumber":231,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":232,"author":{"gitId":"-"},"content":"    this.each(el \u003d\u003e {"},{"lineNumber":233,"author":{"gitId":"-"},"content":"      events.forEach(event \u003d\u003e {"},{"lineNumber":234,"author":{"gitId":"-"},"content":"        if (el \u003d\u003d\u003d window || isNode(el)) {"},{"lineNumber":235,"author":{"gitId":"-"},"content":"          el.addEventListener(event, callback, false)"},{"lineNumber":236,"author":{"gitId":"-"},"content":"          Events.push({"},{"lineNumber":237,"author":{"gitId":"-"},"content":"            el: el,"},{"lineNumber":238,"author":{"gitId":"-"},"content":"            event: event,"},{"lineNumber":239,"author":{"gitId":"-"},"content":"            callback: callback"},{"lineNumber":240,"author":{"gitId":"-"},"content":"          })"},{"lineNumber":241,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":242,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":243,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":244,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":245,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":246,"author":{"gitId":"-"},"content":"  off (events, callback) {"},{"lineNumber":247,"author":{"gitId":"-"},"content":"    if (events instanceof Function) {"},{"lineNumber":248,"author":{"gitId":"-"},"content":"      callback \u003d events"},{"lineNumber":249,"author":{"gitId":"-"},"content":"      events \u003d null"},{"lineNumber":250,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":251,"author":{"gitId":"-"},"content":"    events \u003d events instanceof Array ? events : typeof events \u003d\u003d\u003d \u0027string\u0027 ? splitWords(events) : null"},{"lineNumber":252,"author":{"gitId":"-"},"content":"    this.each(el \u003d\u003e {"},{"lineNumber":253,"author":{"gitId":"-"},"content":"      Events \u003d Events.filter(e \u003d\u003e {"},{"lineNumber":254,"author":{"gitId":"-"},"content":"        if(e \u0026\u0026 e.el \u003d\u003d\u003d el \u0026\u0026 (!callback || callback \u003d\u003d\u003d e.callback) \u0026\u0026 (!events || ~events.indexOf(e.event))) {"},{"lineNumber":255,"author":{"gitId":"-"},"content":"          e.el.removeEventListener(e.event, e.callback)"},{"lineNumber":256,"author":{"gitId":"-"},"content":"          return false"},{"lineNumber":257,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":258,"author":{"gitId":"-"},"content":"        return true"},{"lineNumber":259,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":260,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":261,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":262,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":263,"author":{"gitId":"-"},"content":"  onBlur (callback, enableTriggerByTouchStart \u003d true) {"},{"lineNumber":264,"author":{"gitId":"-"},"content":"    if (!this || !this.length) return this"},{"lineNumber":265,"author":{"gitId":"-"},"content":"    if (!callback) return this"},{"lineNumber":266,"author":{"gitId":"-"},"content":"    this.each(el \u003d\u003e { blurList.push({el, callback}) })"},{"lineNumber":267,"author":{"gitId":"-"},"content":"    if (!blurEvent) {"},{"lineNumber":268,"author":{"gitId":"-"},"content":"      blurEvent \u003d e \u003d\u003e {"},{"lineNumber":269,"author":{"gitId":"-"},"content":"        blurList.forEach(item \u003d\u003e {"},{"lineNumber":270,"author":{"gitId":"jonahtanjz"},"content":"          if (!item.el) return"},{"lineNumber":271,"author":{"gitId":"-"},"content":"          let target \u003d item.el.contains(e.target) || item.el \u003d\u003d\u003d e.target"},{"lineNumber":272,"author":{"gitId":"-"},"content":"          if (!target) item.callback.call(item.el, e, item.el)"},{"lineNumber":273,"author":{"gitId":"-"},"content":"        })"},{"lineNumber":274,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":275,"author":{"gitId":"-"},"content":"      document.addEventListener(\u0027click\u0027, blurEvent, false)"},{"lineNumber":276,"author":{"gitId":"-"},"content":"      if (enableTriggerByTouchStart) document.addEventListener(\u0027touchstart\u0027, blurEvent, false)"},{"lineNumber":277,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":278,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":279,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":280,"author":{"gitId":"-"},"content":"  offBlur (callback) {"},{"lineNumber":281,"author":{"gitId":"-"},"content":"    this.each(el \u003d\u003e {"},{"lineNumber":282,"author":{"gitId":"-"},"content":"      blurList \u003d blurList.filter(blur \u003d\u003e {"},{"lineNumber":283,"author":{"gitId":"-"},"content":"        if (blur \u0026\u0026 blur.el \u003d\u003d\u003d el \u0026\u0026 (!callback || blur.callback \u003d\u003d\u003d callback)) {"},{"lineNumber":284,"author":{"gitId":"-"},"content":"          return false"},{"lineNumber":285,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":286,"author":{"gitId":"-"},"content":"        return el"},{"lineNumber":287,"author":{"gitId":"-"},"content":"      })"},{"lineNumber":288,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":289,"author":{"gitId":"-"},"content":"    return this"},{"lineNumber":290,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":291,"author":{"gitId":"-"},"content":"}"},{"lineNumber":292,"author":{"gitId":"-"},"content":""},{"lineNumber":293,"author":{"gitId":"-"},"content":"let NL \u003d NodeList.prototype"},{"lineNumber":294,"author":{"gitId":"-"},"content":""},{"lineNumber":295,"author":{"gitId":"-"},"content":"function flatten (arr, owner) {"},{"lineNumber":296,"author":{"gitId":"-"},"content":"  let list \u003d []"},{"lineNumber":297,"author":{"gitId":"-"},"content":"  ArrayProto.forEach.call(arr, el \u003d\u003e {"},{"lineNumber":298,"author":{"gitId":"-"},"content":"    if (isNode(el)) {"},{"lineNumber":299,"author":{"gitId":"-"},"content":"      if (!~list.indexOf(el)) list.push(el)"},{"lineNumber":300,"author":{"gitId":"-"},"content":"    } else if (isNodeList(el)) {"},{"lineNumber":301,"author":{"gitId":"-"},"content":"      for (let id in el) list.push(el[id])"},{"lineNumber":302,"author":{"gitId":"-"},"content":"    } else if (el !\u003d\u003d null) {"},{"lineNumber":303,"author":{"gitId":"-"},"content":"      arr.get \u003d NL.get"},{"lineNumber":304,"author":{"gitId":"-"},"content":"      arr.set \u003d NL.set"},{"lineNumber":305,"author":{"gitId":"-"},"content":"      arr.call \u003d NL.call"},{"lineNumber":306,"author":{"gitId":"-"},"content":"      arr.owner \u003d owner"},{"lineNumber":307,"author":{"gitId":"-"},"content":"      return arr"},{"lineNumber":308,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":309,"author":{"gitId":"-"},"content":"  })"},{"lineNumber":310,"author":{"gitId":"-"},"content":"  return NodeListJS(list, owner)"},{"lineNumber":311,"author":{"gitId":"-"},"content":"}"},{"lineNumber":312,"author":{"gitId":"-"},"content":""},{"lineNumber":313,"author":{"gitId":"-"},"content":"Object.getOwnPropertyNames(ArrayProto).forEach(key \u003d\u003e {"},{"lineNumber":314,"author":{"gitId":"-"},"content":"  if (key !\u003d\u003d \u0027join\u0027 \u0026\u0026 key !\u003d\u003d \u0027copyWithin\u0027 \u0026\u0026 key !\u003d\u003d \u0027fill\u0027 \u0026\u0026 NL[key] \u003d\u003d\u003d undefined) {"},{"lineNumber":315,"author":{"gitId":"-"},"content":"    NL[key] \u003d ArrayProto[key]"},{"lineNumber":316,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":317,"author":{"gitId":"-"},"content":"})"},{"lineNumber":318,"author":{"gitId":"-"},"content":"if (window.Symbol \u0026\u0026 Symbol.iterator) {"},{"lineNumber":319,"author":{"gitId":"-"},"content":"  NL[Symbol.iterator] \u003d NL.values \u003d ArrayProto[Symbol.iterator]"},{"lineNumber":320,"author":{"gitId":"-"},"content":"}"},{"lineNumber":321,"author":{"gitId":"-"},"content":"const div \u003d document.createElement(\u0027div\u0027)"},{"lineNumber":322,"author":{"gitId":"-"},"content":"function setterGetter (prop) {"},{"lineNumber":323,"author":{"gitId":"-"},"content":"  if (NL[prop]) return"},{"lineNumber":324,"author":{"gitId":"-"},"content":"  if (div[prop] instanceof Function) {"},{"lineNumber":325,"author":{"gitId":"-"},"content":"    NL[prop] \u003d (...args) \u003d\u003e {"},{"lineNumber":326,"author":{"gitId":"-"},"content":"      let arr \u003d []"},{"lineNumber":327,"author":{"gitId":"-"},"content":"      let returnThis \u003d true"},{"lineNumber":328,"author":{"gitId":"-"},"content":"      for (let i in NL) {"},{"lineNumber":329,"author":{"gitId":"-"},"content":"        let el \u003d NL[i]"},{"lineNumber":330,"author":{"gitId":"-"},"content":"        if (el \u0026\u0026 el[prop] instanceof Function) {"},{"lineNumber":331,"author":{"gitId":"-"},"content":"          el \u003d el[prop].apply(el, args)"},{"lineNumber":332,"author":{"gitId":"-"},"content":"          arr.push(el)"},{"lineNumber":333,"author":{"gitId":"-"},"content":"          if (returnThis \u0026\u0026 el !\u003d\u003d undefined) {"},{"lineNumber":334,"author":{"gitId":"-"},"content":"            returnThis \u003d false"},{"lineNumber":335,"author":{"gitId":"-"},"content":"          }"},{"lineNumber":336,"author":{"gitId":"-"},"content":"        } else {"},{"lineNumber":337,"author":{"gitId":"-"},"content":"          arr.push(undefined)"},{"lineNumber":338,"author":{"gitId":"-"},"content":"        }"},{"lineNumber":339,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":340,"author":{"gitId":"-"},"content":"      return returnThis ? this : flatten(arr, this)"},{"lineNumber":341,"author":{"gitId":"-"},"content":"    }"},{"lineNumber":342,"author":{"gitId":"-"},"content":"  } else {"},{"lineNumber":343,"author":{"gitId":"-"},"content":"    Object.defineProperty(NL, prop, {"},{"lineNumber":344,"author":{"gitId":"-"},"content":"      get () {"},{"lineNumber":345,"author":{"gitId":"-"},"content":"        let arr \u003d []"},{"lineNumber":346,"author":{"gitId":"-"},"content":"        this.each(el \u003d\u003e {"},{"lineNumber":347,"author":{"gitId":"-"},"content":"          if (el !\u003d\u003d null) { el \u003d el[prop] }"},{"lineNumber":348,"author":{"gitId":"-"},"content":"          arr.push(el)"},{"lineNumber":349,"author":{"gitId":"-"},"content":"        })"},{"lineNumber":350,"author":{"gitId":"-"},"content":"        return flatten(arr, this)"},{"lineNumber":351,"author":{"gitId":"-"},"content":"      },"},{"lineNumber":352,"author":{"gitId":"-"},"content":"      set (value) {"},{"lineNumber":353,"author":{"gitId":"-"},"content":"        this.each(el \u003d\u003e {"},{"lineNumber":354,"author":{"gitId":"-"},"content":"          if (el \u0026\u0026 prop in el) { el[prop] \u003d value }"},{"lineNumber":355,"author":{"gitId":"-"},"content":"        })"},{"lineNumber":356,"author":{"gitId":"-"},"content":"      }"},{"lineNumber":357,"author":{"gitId":"-"},"content":"    })"},{"lineNumber":358,"author":{"gitId":"-"},"content":"  }"},{"lineNumber":359,"author":{"gitId":"-"},"content":"}"},{"lineNumber":360,"author":{"gitId":"-"},"content":"for (let prop in div) setterGetter(prop)"},{"lineNumber":361,"author":{"gitId":"-"},"content":""},{"lineNumber":362,"author":{"gitId":"-"},"content":"function NodeListJS (...args) { return new NodeList(args) }"},{"lineNumber":363,"author":{"gitId":"-"},"content":"window.NL \u003d NodeListJS"},{"lineNumber":364,"author":{"gitId":"-"},"content":""},{"lineNumber":365,"author":{"gitId":"-"},"content":"export default NodeListJS"}],"authorContributionMap":{"jonahtanjz":1,"-":364}},{"path":"packages/vue-components/src/utils/pubsub.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"jonahtanjz"},"content":"const subscribers \u003d {};"},{"lineNumber":2,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":3,"author":{"gitId":"jonahtanjz"},"content":"export function subscribe(event, handler) {"},{"lineNumber":4,"author":{"gitId":"jonahtanjz"},"content":"  if (!subscribers[event]) {"},{"lineNumber":5,"author":{"gitId":"jonahtanjz"},"content":"    subscribers[event] \u003d [];"},{"lineNumber":6,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":7,"author":{"gitId":"jonahtanjz"},"content":"  subscribers[event].push(handler);"},{"lineNumber":8,"author":{"gitId":"jonahtanjz"},"content":"}"},{"lineNumber":9,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":10,"author":{"gitId":"jonahtanjz"},"content":"export function publish(event) {"},{"lineNumber":11,"author":{"gitId":"jonahtanjz"},"content":"  if (!subscribers[event]) {"},{"lineNumber":12,"author":{"gitId":"jonahtanjz"},"content":"    return;"},{"lineNumber":13,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":14,"author":{"gitId":"jonahtanjz"},"content":"  subscribers[event].forEach(handler \u003d\u003e handler());"},{"lineNumber":15,"author":{"gitId":"jonahtanjz"},"content":"}"}],"authorContributionMap":{"jonahtanjz":15}},{"path":"packages/vue-components/src/utils/submenu.js","fileType":"js","lines":[{"lineNumber":1,"author":{"gitId":"jonahtanjz"},"content":"/* Logic adapted from:"},{"lineNumber":2,"author":{"gitId":"jonahtanjz"},"content":" * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d"},{"lineNumber":3,"author":{"gitId":"jonahtanjz"},"content":" * Bootstrap: dropdownhover.js v1.1.x"},{"lineNumber":4,"author":{"gitId":"jonahtanjz"},"content":" * http://kybarg.github.io/bootstrap-dropdown-hover/"},{"lineNumber":5,"author":{"gitId":"jonahtanjz"},"content":" * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d"},{"lineNumber":6,"author":{"gitId":"jonahtanjz"},"content":" * Licensed under MIT (https://github.com/kybarg/bootstrap-dropdown-hover/blob/master/LICENSE)"},{"lineNumber":7,"author":{"gitId":"jonahtanjz"},"content":" * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d */"},{"lineNumber":8,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":9,"author":{"gitId":"jonahtanjz"},"content":"function isRightAlign(el) {"},{"lineNumber":10,"author":{"gitId":"jonahtanjz"},"content":"  const viewport \u003d {"},{"lineNumber":11,"author":{"gitId":"jonahtanjz"},"content":"    top: 0,"},{"lineNumber":12,"author":{"gitId":"jonahtanjz"},"content":"    left: 0,"},{"lineNumber":13,"author":{"gitId":"jonahtanjz"},"content":"    right: window.innerWidth,"},{"lineNumber":14,"author":{"gitId":"jonahtanjz"},"content":"    bottom: window.innerHeight,"},{"lineNumber":15,"author":{"gitId":"jonahtanjz"},"content":"  };"},{"lineNumber":16,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":17,"author":{"gitId":"jonahtanjz"},"content":"  const position \u003d el.getBoundingClientRect();"},{"lineNumber":18,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":19,"author":{"gitId":"jonahtanjz"},"content":"  if (position \u003d\u003d\u003d undefined) {"},{"lineNumber":20,"author":{"gitId":"jonahtanjz"},"content":"    return true;"},{"lineNumber":21,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":22,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":23,"author":{"gitId":"jonahtanjz"},"content":"  const bounds \u003d {"},{"lineNumber":24,"author":{"gitId":"jonahtanjz"},"content":"    top: position.y,"},{"lineNumber":25,"author":{"gitId":"jonahtanjz"},"content":"    left: position.x,"},{"lineNumber":26,"author":{"gitId":"jonahtanjz"},"content":"    right: position.x + el.offsetWidth,"},{"lineNumber":27,"author":{"gitId":"jonahtanjz"},"content":"    bottom: position.y + el.offsetHeight,"},{"lineNumber":28,"author":{"gitId":"jonahtanjz"},"content":"  };"},{"lineNumber":29,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":30,"author":{"gitId":"jonahtanjz"},"content":"  if (bounds.left \u003c 0) {"},{"lineNumber":31,"author":{"gitId":"jonahtanjz"},"content":"    return false;"},{"lineNumber":32,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":33,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":34,"author":{"gitId":"jonahtanjz"},"content":"  if (bounds.left \u003c viewport.left) {"},{"lineNumber":35,"author":{"gitId":"jonahtanjz"},"content":"    return true;"},{"lineNumber":36,"author":{"gitId":"jonahtanjz"},"content":"  } else if (bounds.right \u003e viewport.right) {"},{"lineNumber":37,"author":{"gitId":"jonahtanjz"},"content":"    return false;"},{"lineNumber":38,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":39,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":40,"author":{"gitId":"jonahtanjz"},"content":"  return true;"},{"lineNumber":41,"author":{"gitId":"jonahtanjz"},"content":"}"},{"lineNumber":42,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":43,"author":{"gitId":"jonahtanjz"},"content":"function preventOverflow(el) {"},{"lineNumber":44,"author":{"gitId":"jonahtanjz"},"content":"  el.removeAttribute(\u0027style\u0027);"},{"lineNumber":45,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":46,"author":{"gitId":"jonahtanjz"},"content":"  const viewport \u003d {"},{"lineNumber":47,"author":{"gitId":"jonahtanjz"},"content":"    top: 0,"},{"lineNumber":48,"author":{"gitId":"jonahtanjz"},"content":"    left: 0,"},{"lineNumber":49,"author":{"gitId":"jonahtanjz"},"content":"    right: window.innerWidth,"},{"lineNumber":50,"author":{"gitId":"jonahtanjz"},"content":"    bottom: window.innerHeight,"},{"lineNumber":51,"author":{"gitId":"jonahtanjz"},"content":"  };"},{"lineNumber":52,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":53,"author":{"gitId":"jonahtanjz"},"content":"  const position \u003d el.getBoundingClientRect();"},{"lineNumber":54,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":55,"author":{"gitId":"jonahtanjz"},"content":"  if (position \u003d\u003d\u003d undefined) {"},{"lineNumber":56,"author":{"gitId":"jonahtanjz"},"content":"    return;"},{"lineNumber":57,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":58,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":59,"author":{"gitId":"jonahtanjz"},"content":"  const bounds \u003d {"},{"lineNumber":60,"author":{"gitId":"jonahtanjz"},"content":"    top: position.y,"},{"lineNumber":61,"author":{"gitId":"jonahtanjz"},"content":"    left: position.x,"},{"lineNumber":62,"author":{"gitId":"jonahtanjz"},"content":"    right: position.x + el.offsetWidth,"},{"lineNumber":63,"author":{"gitId":"jonahtanjz"},"content":"    bottom: position.y + el.offsetHeight,"},{"lineNumber":64,"author":{"gitId":"jonahtanjz"},"content":"  };"},{"lineNumber":65,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":66,"author":{"gitId":"jonahtanjz"},"content":"  if (bounds.bottom \u003e viewport.bottom) {"},{"lineNumber":67,"author":{"gitId":"jonahtanjz"},"content":"    el.setAttribute(\u0027style\u0027, `bottom: auto; top: ${-(bounds.bottom - viewport.bottom)}px;`);"},{"lineNumber":68,"author":{"gitId":"jonahtanjz"},"content":"  } else if (bounds.top \u003c viewport.top) {"},{"lineNumber":69,"author":{"gitId":"jonahtanjz"},"content":"    el.setAttribute(\u0027style\u0027, `top: auto; bottom: ${-(viewport.top - bounds.top)}px;`);"},{"lineNumber":70,"author":{"gitId":"jonahtanjz"},"content":"  }"},{"lineNumber":71,"author":{"gitId":"jonahtanjz"},"content":"}"},{"lineNumber":72,"author":{"gitId":"jonahtanjz"},"content":""},{"lineNumber":73,"author":{"gitId":"jonahtanjz"},"content":"export default { isRightAlign, preventOverflow };"}],"authorContributionMap":{"jonahtanjz":73}}]
